import{A as hd,B as n2,C as U1,D as jr,E as M0,F as pd,G as md,H,I as St,J as Ye,K as sa,L as gd,M as _0,N as Ne,O as Ot,P as Ur,Q as ia,R as yd,S as Ts,T as zn,U as Br,V as Cd,W as Ft,X as Ze,Y as Hr,a as g,b as O,c as td,d as Jw,e as nd,f as xe,g as sd,h as Pr,i as id,j as rd,k as b,l as Is,m as Or,n as od,o as cd,p as Je,q as Fr,r as na,s as ad,t as k2,u as ld,v as ud,w as fd,x as Vr,y as qe,z as dd}from"./chunk-LVE6LF42.js";var e7=Jw((uc,J5)=>{"use strict";(function(t,e){typeof uc=="object"&&typeof J5=="object"?J5.exports=e():typeof define=="function"&&define.amd?define("BrowserImageResizer",[],e):typeof uc=="object"?uc.BrowserImageResizer=e():t.BrowserImageResizer=e()})(self,()=>(()=>{"use strict";var t={d:(l,u)=>{for(var f in u)t.o(u,f)&&!t.o(l,f)&&Object.defineProperty(l,f,{enumerable:!0,get:u[f]})},o:(l,u)=>Object.prototype.hasOwnProperty.call(l,u),r:l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})}},e={};function n(){return document.createElement("canvas")}function s(l){for(var u=atob(l.split(",")[1]),f=l.split(",")[0].split(":")[1].split(";")[0],d=new ArrayBuffer(u.length),h=new Uint8Array(d),p=0;p<u.length;p++)h[p]=u.charCodeAt(p);return new Blob([d],{type:f})}function i(l,u){var f=u.width/u.height,d=Math.min(u.width,l.maxWidth,f*l.maxHeight);return l.maxSize>0&&l.maxSize<u.width*u.height/1e3&&(d=Math.min(d,Math.floor(1e3*l.maxSize/u.height))),l.scaleRatio&&(d=Math.min(d,Math.floor(l.scaleRatio*u.width))),l.debug&&(console.log("browser-image-resizer: original image size = "+u.width+" px (width) X "+u.height+" px (height)"),console.log("browser-image-resizer: scaled image size = "+d+" px (width) X "+Math.floor(d/f)+" px (height)")),d<=0&&(d=1,console.warn("browser-image-resizer: image size is too small")),d}function r(l,u){var f=document.createElement("canvas"),d=u.outputWidth/l.width;f.width=l.width*d,f.height=l.height*d;var h=l.getContext("2d").getImageData(0,0,l.width,l.height),p=f.getContext("2d").createImageData(f.width,f.height);return function(m,y,M){function z(mt,T2,ze,kr,v0,We){var A2=1-v0,gt=1-We;return mt*A2*gt+T2*v0*gt+ze*A2*We+kr*v0*We}var v,D,j,B,ee,ae,je,t2,F1,Rt,h1,V1,j1,I,P,U,le,Ue,Pt;for(v=0;v<y.height;++v)for(j=v/M,B=Math.floor(j),ee=Math.ceil(j)>m.height-1?m.height-1:Math.ceil(j),D=0;D<y.width;++D)ae=D/M,je=Math.floor(ae),t2=Math.ceil(ae)>m.width-1?m.width-1:Math.ceil(ae),F1=4*(D+y.width*v),Rt=4*(je+m.width*B),h1=4*(t2+m.width*B),V1=4*(je+m.width*ee),j1=4*(t2+m.width*ee),I=ae-je,P=j-B,U=z(m.data[Rt],m.data[h1],m.data[V1],m.data[j1],I,P),y.data[F1]=U,le=z(m.data[Rt+1],m.data[h1+1],m.data[V1+1],m.data[j1+1],I,P),y.data[F1+1]=le,Ue=z(m.data[Rt+2],m.data[h1+2],m.data[V1+2],m.data[j1+2],I,P),y.data[F1+2]=Ue,Pt=z(m.data[Rt+3],m.data[h1+3],m.data[V1+3],m.data[j1+3],I,P),y.data[F1+3]=Pt}(h,p,d),f.getContext("2d").putImageData(p,0,0),f}function o(l){var u=document.createElement("canvas");return u.width=l.width/2,u.height=l.height/2,u.getContext("2d").drawImage(l,0,0,u.width,u.height),u}t.r(e),t.d(e,{readAndCompressImage:()=>a});var c={quality:.5,maxWidth:800,maxHeight:600,autoRotate:!0,debug:!1,mimeType:"image/jpeg"};function a(l,u){return new Promise(function(f,d){var h=document.createElement("img"),p=new FileReader,m=Object.assign({},c,u);p.onload=function(y){h.onerror=function(){d("cannot load image.")},h.onload=function(){var M={img:h,config:m};try{var z=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=v.img,j=v.config,B=(v.orientation,n());B.width=D.width,B.height=D.height;var ee=B.getContext("2d");j.mimeType==="image/jpeg"&&(ee.fillStyle="#ffffff",ee.fillRect(0,0,B.width,B.height),ee.save()),ee.drawImage(D,0,0),ee.restore();for(var ae=i(j,B);B.width>=2*ae;)B=o(B);B.width>ae&&(B=r(B,Object.assign(j,{outputWidth:ae})));var je=B.toDataURL(j.mimeType,j.quality);return typeof j.onScale=="function"&&j.onScale(je),s(je)}(M);f(z)}catch(v){d(v)}},h.src=y.target.result};try{p.onerror=function(){d("cannot read image file.")},p.readAsDataURL(l)}catch(y){d(y)}})}return e})())});function eb(t,e){return Object.is(t,e)}var et=null,$r=!1,Wr=1,En=Symbol("SIGNAL");function he(t){let e=et;return et=t,e}var ra={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function vd(t){if($r)throw new Error("");if(et===null)return;et.consumerOnSignalRead(t);let e=et.nextProducerIndex++;if(As(et),e<et.producerNode.length&&et.producerNode[e]!==t&&L0(et)){let n=et.producerNode[e];qr(n,et.producerIndexOfThis[e])}et.producerNode[e]!==t&&(et.producerNode[e]=t,et.producerIndexOfThis[e]=L0(et)?zd(t,et,e):0),et.producerLastReadVersion[e]=t.version}function tb(){Wr++}function nb(t){if(!(L0(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Wr)){if(!t.producerMustRecompute(t)&&!oa(t)){t.dirty=!1,t.lastCleanEpoch=Wr;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Wr}}function Md(t){if(t.liveConsumerNode===void 0)return;let e=$r;$r=!0;try{for(let n of t.liveConsumerNode)n.dirty||sb(n)}finally{$r=e}}function _d(){return et?.consumerAllowSignalWrites!==!1}function sb(t){t.dirty=!0,Md(t),t.consumerMarkedDirty?.(t)}function Ld(t){return t&&(t.nextProducerIndex=0),he(t)}function wd(t,e){if(he(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(L0(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)qr(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function oa(t){As(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],s=t.producerLastReadVersion[e];if(s!==n.version||(nb(n),s!==n.version))return!0}return!1}function bd(t){if(As(t),L0(t))for(let e=0;e<t.producerNode.length;e++)qr(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function zd(t,e,n){if(Ed(t),As(t),t.liveConsumerNode.length===0)for(let s=0;s<t.producerNode.length;s++)t.producerIndexOfThis[s]=zd(t.producerNode[s],t,s);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function qr(t,e){if(Ed(t),As(t),t.liveConsumerNode.length===1)for(let s=0;s<t.producerNode.length;s++)qr(t.producerNode[s],t.producerIndexOfThis[s]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let s=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];As(i),i.producerIndexOfThis[s]=e}}function L0(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function As(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Ed(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ib(){throw new Error}var Sd=ib;function Dd(){Sd()}function xd(t){Sd=t}var rb=null;function Nd(t){let e=Object.create(Td);e.value=t;let n=()=>(vd(e),e.value);return n[En]=e,n}function ca(t,e){_d()||Dd(),t.equal(t.value,e)||(t.value=e,ob(t))}function Id(t,e){_d()||Dd(),ca(t,e(t.value))}var Td=O(g({},ra),{equal:eb,value:void 0});function ob(t){t.version++,tb(),Md(t),rb?.()}function W(t){return typeof t=="function"}function ks(t){let n=t(s=>{Error.call(s),s.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Gr=ks(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((s,i)=>`${i+1}) ${s.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Sn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Be=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let r of n)r.remove(this);else n.remove(this);let{initialTeardown:s}=this;if(W(s))try{s()}catch(r){e=r instanceof Gr?r.errors:[r]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let r of i)try{Ad(r)}catch(o){e=e??[],o instanceof Gr?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Gr(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ad(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Sn(n,e)}remove(e){let{_finalizers:n}=this;n&&Sn(n,e),e instanceof t&&e._removeParent(this)}};Be.EMPTY=(()=>{let t=new Be;return t.closed=!0,t})();var aa=Be.EMPTY;function Kr(t){return t instanceof Be||t&&"closed"in t&&W(t.remove)&&W(t.add)&&W(t.unsubscribe)}function Ad(t){W(t)?t():t.unsubscribe()}var m2={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Rs={setTimeout(t,e,...n){let{delegate:s}=Rs;return s?.setTimeout?s.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Rs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Qr(t){Rs.setTimeout(()=>{let{onUnhandledError:e}=m2;if(e)e(t);else throw t})}function Dn(){}var kd=la("C",void 0,void 0);function Rd(t){return la("E",void 0,t)}function Pd(t){return la("N",t,void 0)}function la(t,e,n){return{kind:t,value:e,error:n}}var xn=null;function Ps(t){if(m2.useDeprecatedSynchronousErrorHandling){let e=!xn;if(e&&(xn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:s}=xn;if(xn=null,n)throw s}}else t()}function Od(t){m2.useDeprecatedSynchronousErrorHandling&&xn&&(xn.errorThrown=!0,xn.error=t)}var Nn=class extends Be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Kr(e)&&e.add(this)):this.destination=lb}static create(e,n,s){return new p1(e,n,s)}next(e){this.isStopped?fa(Pd(e),this):this._next(e)}error(e){this.isStopped?fa(Rd(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fa(kd,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},cb=Function.prototype.bind;function ua(t,e){return cb.call(t,e)}var da=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(s){Yr(s)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(s){Yr(s)}else Yr(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Yr(n)}}},p1=class extends Nn{constructor(e,n,s){super();let i;if(W(e)||!e)i={next:e??void 0,error:n??void 0,complete:s??void 0};else{let r;this&&m2.useDeprecatedNextContext?(r=Object.create(e),r.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ua(e.next,r),error:e.error&&ua(e.error,r),complete:e.complete&&ua(e.complete,r)}):i=e}this.destination=new da(i)}};function Yr(t){m2.useDeprecatedSynchronousErrorHandling?Od(t):Qr(t)}function ab(t){throw t}function fa(t,e){let{onStoppedNotification:n}=m2;n&&Rs.setTimeout(()=>n(t,e))}var lb={closed:!0,next:Dn,error:ab,complete:Dn};var Os=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rt(t){return t}function Fs(...t){return ha(t)}function ha(t){return t.length===0?rt:t.length===1?t[0]:function(n){return t.reduce((s,i)=>i(s),n)}}var K=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let s=new t;return s.source=this,s.operator=n,s}subscribe(n,s,i){let r=fb(n)?n:new p1(n,s,i);return Ps(()=>{let{operator:o,source:c}=this;r.add(o?o.call(r,c):c?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(n){try{return this._subscribe(n)}catch(s){n.error(s)}}forEach(n,s){return s=Fd(s),new s((i,r)=>{let o=new p1({next:c=>{try{n(c)}catch(a){r(a),o.unsubscribe()}},error:r,complete:i});this.subscribe(o)})}_subscribe(n){var s;return(s=this.source)===null||s===void 0?void 0:s.subscribe(n)}[Os](){return this}pipe(...n){return ha(n)(this)}toPromise(n){return n=Fd(n),new n((s,i)=>{let r;this.subscribe(o=>r=o,o=>i(o),()=>s(r))})}}return t.create=e=>new t(e),t})();function Fd(t){var e;return(e=t??m2.Promise)!==null&&e!==void 0?e:Promise}function ub(t){return t&&W(t.next)&&W(t.error)&&W(t.complete)}function fb(t){return t&&t instanceof Nn||ub(t)&&Kr(t)}function pa(t){return W(t?.lift)}function G(t){return e=>{if(pa(e))return e.lift(function(n){try{return t(n,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function q(t,e,n,s,i){return new ma(t,e,n,s,i)}var ma=class extends Nn{constructor(e,n,s,i,r,o){super(e),this.onFinalize=r,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(a){e.error(a)}}:super._next,this._error=i?function(c){try{i(c)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Vs(){return G((t,e)=>{let n=null;t._refCount++;let s=q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,r=n;n=null,i&&(!r||i===r)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(s),s.closed||(n=t.connect())})}var js=class extends K{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,pa(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Be;let n=this.getSubject();e.add(this.source.subscribe(q(n,void 0,()=>{this._teardown(),n.complete()},s=>{this._teardown(),n.error(s)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Be.EMPTY)}return e}refCount(){return Vs()(this)}};var Vd=ks(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=(()=>{class t extends K{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let s=new Zr(this,this);return s.operator=n,s}_throwIfClosed(){if(this.closed)throw new Vd}next(n){Ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let s of this.currentObservers)s.next(n)}})}error(n){Ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:s}=this;for(;s.length;)s.shift().error(n)}})}complete(){Ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:s,isStopped:i,observers:r}=this;return s||i?aa:(this.currentObservers=null,r.push(n),new Be(()=>{this.currentObservers=null,Sn(r,n)}))}_checkFinalizedStatuses(n){let{hasError:s,thrownError:i,isStopped:r}=this;s?n.error(i):r&&n.complete()}asObservable(){let n=new K;return n.source=this,n}}return t.create=(e,n)=>new Zr(e,n),t})(),Zr=class extends pe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.next)===null||s===void 0||s.call(n,e)}error(e){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.error)===null||s===void 0||s.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,s;return(s=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&s!==void 0?s:aa}};var ot=class extends pe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:s}=this;if(e)throw n;return this._throwIfClosed(),s}next(e){super.next(this._value=e)}};var w0={now(){return(w0.delegate||Date).now()},delegate:void 0};var Xr=class extends pe{constructor(e=1/0,n=1/0,s=w0){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:s,_infiniteTimeWindow:i,_timestampProvider:r,_windowTime:o}=this;n||(s.push(e),!i&&s.push(r.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:s,_buffer:i}=this,r=i.slice();for(let o=0;o<r.length&&!e.closed;o+=s?1:2)e.next(r[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:s,_infiniteTimeWindow:i}=this,r=(i?1:2)*e;if(e<1/0&&r<s.length&&s.splice(0,s.length-r),!i){let o=n.now(),c=0;for(let a=1;a<s.length&&s[a]<=o;a+=2)c=a;c&&s.splice(0,c+1)}}};var Jr=class extends Be{constructor(e,n){super()}schedule(e,n=0){return this}};var b0={setInterval(t,e,...n){let{delegate:s}=b0;return s?.setInterval?s.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=b0;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Us=class extends Jr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var s;if(this.closed)return this;this.state=e;let i=this.id,r=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(r,i,n)),this.pending=!0,this.delay=n,this.id=(s=this.id)!==null&&s!==void 0?s:this.requestAsyncId(r,this.id,n),this}requestAsyncId(e,n,s=0){return b0.setInterval(e.flush.bind(e,this),s)}recycleAsyncId(e,n,s=0){if(s!=null&&this.delay===s&&this.pending===!1)return n;n!=null&&b0.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let s=this._execute(e,n);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let s=!1,i;try{this.work(e)}catch(r){s=!0,i=r||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:s}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Sn(s,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Bs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,s){return new this.schedulerActionCtor(this,e).schedule(s,n)}};Bs.now=w0.now;var Hs=class extends Bs{constructor(e,n=Bs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let s;this._active=!0;do if(s=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,s){for(;e=n.shift();)e.unsubscribe();throw s}}};var In=new Hs(Us);var e4=class extends Us{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,s=0){return s!=null&&s>0||s==null&&this.delay>0?super.requestAsyncId(e,n,s):(e.flush(this),0)}};var t4=class extends Hs{};var ga=new t4(e4);var yt=new K(t=>t.complete());function jd(t){return t&&W(t.schedule)}function ya(t){return t[t.length-1]}function $s(t){return W(ya(t))?t.pop():void 0}function R2(t){return jd(ya(t))?t.pop():void 0}function Ud(t,e){return typeof ya(t)=="number"?t.pop():e}var n4=t=>t&&typeof t.length=="number"&&typeof t!="function";function s4(t){return W(t?.then)}function i4(t){return W(t[Os])}function r4(t){return Symbol.asyncIterator&&W(t?.[Symbol.asyncIterator])}function o4(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function db(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var c4=db();function a4(t){return W(t?.[c4])}function l4(t){return id(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:s,done:i}=yield Pr(n.read());if(i)return yield Pr(void 0);yield yield Pr(s)}}finally{n.releaseLock()}})}function u4(t){return W(t?.getReader)}function Me(t){if(t instanceof K)return t;if(t!=null){if(i4(t))return hb(t);if(n4(t))return pb(t);if(s4(t))return mb(t);if(r4(t))return Bd(t);if(a4(t))return gb(t);if(u4(t))return yb(t)}throw o4(t)}function hb(t){return new K(e=>{let n=t[Os]();if(W(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function pb(t){return new K(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function mb(t){return new K(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Qr)})}function gb(t){return new K(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Bd(t){return new K(e=>{Cb(t,e).catch(n=>e.error(n))})}function yb(t){return Bd(l4(t))}function Cb(t,e){var n,s,i,r;return sd(this,void 0,void 0,function*(){try{for(n=rd(t);s=yield n.next(),!s.done;){let o=s.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{s&&!s.done&&(r=n.return)&&(yield r.call(n))}finally{if(i)throw i.error}}e.complete()})}function Dt(t,e,n,s=0,i=!1){let r=e.schedule(function(){n(),i?t.add(this.schedule(null,s)):this.unsubscribe()},s);if(t.add(r),!i)return r}function xt(t,e=0){return G((n,s)=>{n.subscribe(q(s,i=>Dt(s,t,()=>s.next(i),e),()=>Dt(s,t,()=>s.complete(),e),i=>Dt(s,t,()=>s.error(i),e)))})}function s2(t,e=0){return G((n,s)=>{s.add(t.schedule(()=>n.subscribe(s),e))})}function Hd(t,e){return Me(t).pipe(s2(e),xt(e))}function $d(t,e){return Me(t).pipe(s2(e),xt(e))}function Wd(t,e){return new K(n=>{let s=0;return e.schedule(function(){s===t.length?n.complete():(n.next(t[s++]),n.closed||this.schedule())})})}function qd(t,e){return new K(n=>{let s;return Dt(n,e,()=>{s=t[c4](),Dt(n,e,()=>{let i,r;try{({value:i,done:r}=s.next())}catch(o){n.error(o);return}r?n.complete():n.next(i)},0,!0)}),()=>W(s?.return)&&s.return()})}function f4(t,e){if(!t)throw new Error("Iterable cannot be null");return new K(n=>{Dt(n,e,()=>{let s=t[Symbol.asyncIterator]();Dt(n,e,()=>{s.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Gd(t,e){return f4(l4(t),e)}function Kd(t,e){if(t!=null){if(i4(t))return Hd(t,e);if(n4(t))return Wd(t,e);if(s4(t))return $d(t,e);if(r4(t))return f4(t,e);if(a4(t))return qd(t,e);if(u4(t))return Gd(t,e)}throw o4(t)}function ue(t,e){return e?Kd(t,e):Me(t)}function R(...t){let e=R2(t);return ue(t,e)}function Ws(t,e){let n=W(t)?t:()=>t,s=i=>i.error(n());return new K(e?i=>e.schedule(s,0,i):s)}function Ca(t){return!!t&&(t instanceof K||W(t.lift)&&W(t.subscribe))}var m1=ks(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function V(t,e){return G((n,s)=>{let i=0;n.subscribe(q(s,r=>{s.next(t.call(e,r,i++))}))})}var{isArray:vb}=Array;function Mb(t,e){return vb(e)?t(...e):t(e)}function d4(t){return V(e=>Mb(t,e))}var{isArray:_b}=Array,{getPrototypeOf:Lb,prototype:wb,keys:bb}=Object;function h4(t){if(t.length===1){let e=t[0];if(_b(e))return{args:e,keys:null};if(zb(e)){let n=bb(e);return{args:n.map(s=>e[s]),keys:n}}}return{args:t,keys:null}}function zb(t){return t&&typeof t=="object"&&Lb(t)===wb}function p4(t,e){return t.reduce((n,s,i)=>(n[s]=e[i],n),{})}function z0(...t){let e=R2(t),n=$s(t),{args:s,keys:i}=h4(t);if(s.length===0)return ue([],e);let r=new K(Eb(s,e,i?o=>p4(i,o):rt));return n?r.pipe(d4(n)):r}function Eb(t,e,n=rt){return s=>{Qd(e,()=>{let{length:i}=t,r=new Array(i),o=i,c=i;for(let a=0;a<i;a++)Qd(e,()=>{let l=ue(t[a],e),u=!1;l.subscribe(q(s,f=>{r[a]=f,u||(u=!0,c--),c||s.next(n(r.slice()))},()=>{--o||s.complete()}))},s)},s)}}function Qd(t,e,n){t?Dt(n,t,e):e()}function Yd(t,e,n,s,i,r,o,c){let a=[],l=0,u=0,f=!1,d=()=>{f&&!a.length&&!l&&e.complete()},h=m=>l<s?p(m):a.push(m),p=m=>{r&&e.next(m),l++;let y=!1;Me(n(m,u++)).subscribe(q(e,M=>{i?.(M),r?h(M):e.next(M)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;a.length&&l<s;){let M=a.shift();o?Dt(e,o,()=>p(M)):p(M)}d()}catch(M){e.error(M)}}))};return t.subscribe(q(e,h,()=>{f=!0,d()})),()=>{c?.()}}function Ge(t,e,n=1/0){return W(e)?Ge((s,i)=>V((r,o)=>e(s,r,i,o))(Me(t(s,i))),n):(typeof e=="number"&&(n=e),G((s,i)=>Yd(s,i,t,n)))}function P2(t=1/0){return Ge(rt,t)}function Zd(){return P2(1)}function qs(...t){return Zd()(ue(t,R2(t)))}function m4(t){return new K(e=>{Me(t()).subscribe(e)})}function va(...t){let e=$s(t),{args:n,keys:s}=h4(t),i=new K(r=>{let{length:o}=n;if(!o){r.complete();return}let c=new Array(o),a=o,l=o;for(let u=0;u<o;u++){let f=!1;Me(n[u]).subscribe(q(r,d=>{f||(f=!0,l--),c[u]=d},()=>a--,void 0,()=>{(!a||!f)&&(l||r.next(s?p4(s,c):c),r.complete())}))}});return e?i.pipe(d4(e)):i}function Gs(...t){let e=R2(t),n=Ud(t,1/0),s=t;return s.length?s.length===1?Me(s[0]):P2(n)(ue(s,e)):yt}function Nt(t,e){return G((n,s)=>{let i=0;n.subscribe(q(s,r=>t.call(e,r,i++)&&s.next(r)))})}function B1(t){return G((e,n)=>{let s=null,i=!1,r;s=e.subscribe(q(n,void 0,void 0,o=>{r=Me(t(o,B1(t)(e))),s?(s.unsubscribe(),s=null,r.subscribe(n)):i=!0})),i&&(s.unsubscribe(),s=null,r.subscribe(n))})}function Xd(t,e,n,s,i){return(r,o)=>{let c=n,a=e,l=0;r.subscribe(q(o,u=>{let f=l++;a=c?t(a,u,f):(c=!0,u),s&&o.next(a)},i&&(()=>{c&&o.next(a),o.complete()})))}}function Tn(t,e){return W(e)?Ge(t,e,1):Ge(t,1)}function Ma(t,e=In){return G((n,s)=>{let i=null,r=null,o=null,c=()=>{if(i){i.unsubscribe(),i=null;let l=r;r=null,s.next(l)}};function a(){let l=o+t,u=e.now();if(u<l){i=this.schedule(void 0,l-u),s.add(i);return}c()}n.subscribe(q(s,l=>{r=l,o=e.now(),i||(i=e.schedule(a,t),s.add(i))},()=>{c(),s.complete()},void 0,()=>{r=i=null}))})}function H1(t){return G((e,n)=>{let s=!1;e.subscribe(q(n,i=>{s=!0,n.next(i)},()=>{s||n.next(t),n.complete()}))})}function g2(t){return t<=0?()=>yt:G((e,n)=>{let s=0;e.subscribe(q(n,i=>{++s<=t&&(n.next(i),t<=s&&n.complete())}))})}function _a(t){return V(()=>t)}function La(t,e=rt){return t=t??Sb,G((n,s)=>{let i,r=!0;n.subscribe(q(s,o=>{let c=e(o);(r||!t(i,c))&&(r=!1,i=c,s.next(o))}))})}function Sb(t,e){return t===e}function g4(t=Db){return G((e,n)=>{let s=!1;e.subscribe(q(n,i=>{s=!0,n.next(i)},()=>s?n.complete():n.error(t())))})}function Db(){return new m1}function O2(t){return G((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function i2(t,e){let n=arguments.length>=2;return s=>s.pipe(t?Nt((i,r)=>t(i,r,s)):rt,g2(1),n?H1(e):g4(()=>new m1))}function Ks(t){return t<=0?()=>yt:G((e,n)=>{let s=[];e.subscribe(q(n,i=>{s.push(i),t<s.length&&s.shift()},()=>{for(let i of s)n.next(i);n.complete()},void 0,()=>{s=null}))})}function wa(t,e){let n=arguments.length>=2;return s=>s.pipe(t?Nt((i,r)=>t(i,r,s)):rt,Ks(1),n?H1(e):g4(()=>new m1))}function Qs(t,e){return G(Xd(t,e,arguments.length>=2,!0))}function E0(t={}){let{connector:e=()=>new pe,resetOnError:n=!0,resetOnComplete:s=!0,resetOnRefCountZero:i=!0}=t;return r=>{let o,c,a,l=0,u=!1,f=!1,d=()=>{c?.unsubscribe(),c=void 0},h=()=>{d(),o=a=void 0,u=f=!1},p=()=>{let m=o;h(),m?.unsubscribe()};return G((m,y)=>{l++,!f&&!u&&d();let M=a=a??e();y.add(()=>{l--,l===0&&!f&&!u&&(c=ba(p,i))}),M.subscribe(y),!o&&l>0&&(o=new p1({next:z=>M.next(z),error:z=>{f=!0,d(),c=ba(h,n,z),M.error(z)},complete:()=>{u=!0,d(),c=ba(h,s),M.complete()}}),Me(m).subscribe(o))})(r)}}function ba(t,e,...n){if(e===!0){t();return}if(e===!1)return;let s=new p1({next:()=>{s.unsubscribe(),t()}});return Me(e(...n)).subscribe(s)}function y4(t,e,n){let s,i=!1;return t&&typeof t=="object"?{bufferSize:s=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:s=t??1/0,E0({connector:()=>new Xr(s,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function za(t){return G((e,n)=>{let s=!1,i=0;e.subscribe(q(n,r=>(s||(s=!t(r,i++)))&&n.next(r)))})}function Ea(...t){let e=R2(t);return G((n,s)=>{(e?qs(t,n,e):qs(t,n)).subscribe(s)})}function Ce(t,e){return G((n,s)=>{let i=null,r=0,o=!1,c=()=>o&&!i&&s.complete();n.subscribe(q(s,a=>{i?.unsubscribe();let l=0,u=r++;Me(t(a,u)).subscribe(i=q(s,f=>s.next(e?e(a,f,u,l++):f),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function C4(t,e){return W(e)?Ce(()=>t,e):Ce(()=>t)}function Sa(t){return G((e,n)=>{Me(t).subscribe(q(n,()=>n.complete(),Dn)),!n.closed&&e.subscribe(n)})}function Ke(t,e,n){let s=W(t)||e||n?{next:t,error:e,complete:n}:t;return s?G((i,r)=>{var o;(o=s.subscribe)===null||o===void 0||o.call(s);let c=!0;i.subscribe(q(r,a=>{var l;(l=s.next)===null||l===void 0||l.call(s,a),r.next(a)},()=>{var a;c=!1,(a=s.complete)===null||a===void 0||a.call(s),r.complete()},a=>{var l;c=!1,(l=s.error)===null||l===void 0||l.call(s,a),r.error(a)},()=>{var a,l;c&&((a=s.unsubscribe)===null||a===void 0||a.call(s)),(l=s.finalize)===null||l===void 0||l.call(s)}))}):rt}function Da(...t){let e=$s(t);return G((n,s)=>{let i=t.length,r=new Array(i),o=t.map(()=>!1),c=!1;for(let a=0;a<i;a++)Me(t[a]).subscribe(q(s,l=>{r[a]=l,!c&&!o[a]&&(o[a]=!0,(c=o.every(rt))&&(o=null))},Dn));n.subscribe(q(s,a=>{if(c){let l=[a,...r];s.next(e?e(...l):l)}}))})}var Uh="https://g.co/ng/security#xss",_=class extends Error{constructor(e,n){super(Gl(e,n)),this.code=e}};function Gl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function V0(t){return{toString:t}.toString()}var v4="__parameters__";function xb(t){return function(...n){if(t){let s=t(...n);for(let i in s)this[i]=s[i]}}}function Bh(t,e,n){return V0(()=>{let s=xb(e);function i(...r){if(this instanceof i)return s.apply(this,r),this;let o=new i(...r);return c.annotation=o,c;function c(a,l,u){let f=a.hasOwnProperty(v4)?a[v4]:Object.defineProperty(a,v4,{value:[]})[v4];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(o),a}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var He=globalThis;function _e(t){for(let e in t)if(t[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function Nb(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function vt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function $a(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Ib=_e({__forward_ref__:_e});function qn(t){return t.__forward_ref__=qn,t.toString=function(){return vt(this())},t}function Ct(t){return Hh(t)?t():t}function Hh(t){return typeof t=="function"&&t.hasOwnProperty(Ib)&&t.__forward_ref__===qn}function x(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function me(t){return{providers:t.providers||[],imports:t.imports||[]}}function X4(t){return Jd(t,Wh)||Jd(t,qh)}function $h(t){return X4(t)!==null}function Jd(t,e){return t.hasOwnProperty(e)?t[e]:null}function Tb(t){let e=t&&(t[Wh]||t[qh]);return e||null}function eh(t){return t&&(t.hasOwnProperty(th)||t.hasOwnProperty(Ab))?t[th]:null}var Wh=_e({\u0275prov:_e}),th=_e({\u0275inj:_e}),qh=_e({ngInjectableDef:_e}),Ab=_e({ngInjectorDef:_e}),N=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=x({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Gh(t){return t&&!!t.\u0275providers}var kb=_e({\u0275cmp:_e}),Rb=_e({\u0275dir:_e}),Pb=_e({\u0275pipe:_e}),Ob=_e({\u0275mod:_e}),T4=_e({\u0275fac:_e}),S0=_e({__NG_ELEMENT_ID__:_e}),nh=_e({__NG_ENV_ID__:_e});function j0(t){return typeof t=="string"?t:t==null?"":String(t)}function Fb(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():j0(t)}function Vb(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new _(-200,t)}function Kl(t,e){throw new _(-201,!1)}var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{}),Wa;function Kh(){return Wa}function It(t){let e=Wa;return Wa=t,e}function Qh(t,e,n){let s=X4(t);if(s&&s.providedIn=="root")return s.value===void 0?s.value=s.factory():s.value;if(n&re.Optional)return null;if(e!==void 0)return e;Kl(t,"Injector")}var jb={},x0=jb,qa="__NG_DI_FLAG__",A4="ngTempTokenPath",Ub="ngTokenPath",Bb=/\n/gm,Hb="\u0275",sh="__source",ei;function $b(){return ei}function $1(t){let e=ei;return ei=t,e}function Wb(t,e=re.Default){if(ei===void 0)throw new _(-203,!1);return ei===null?Qh(t,void 0,e):ei.get(t,e&re.Optional?null:void 0,e)}function C(t,e=re.Default){return(Kh()||Wb)(Ct(t),e)}function E(t,e=re.Default){return C(t,J4(e))}function J4(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ga(t){let e=[];for(let n=0;n<t.length;n++){let s=Ct(t[n]);if(Array.isArray(s)){if(s.length===0)throw new _(900,!1);let i,r=re.Default;for(let o=0;o<s.length;o++){let c=s[o],a=qb(c);typeof a=="number"?a===-1?i=c.token:r|=a:i=c}e.push(C(i,r))}else e.push(C(s))}return e}function Yh(t,e){return t[qa]=e,t.prototype[qa]=e,t}function qb(t){return t[qa]}function Gb(t,e,n,s){let i=t[A4];throw e[sh]&&i.unshift(e[sh]),t.message=Kb(`
`+t.message,i,n,s),t[Ub]=i,t[A4]=null,t}function Kb(t,e,n,s=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Hb?t.slice(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if(typeof e=="object"){let r=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];r.push(o+":"+(typeof c=="string"?JSON.stringify(c):vt(c)))}i=`{${r.join(", ")}}`}return`${n}${s?"("+s+")":""}[${i}]: ${t.replace(Bb,`
  `)}`}var fi=Yh(Bh("Optional"),8);var Ql=Yh(Bh("SkipSelf"),4);function Pn(t,e){let n=t.hasOwnProperty(T4);return n?t[T4]:null}function Qb(t,e,n){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++){let i=t[s],r=e[s];if(n&&(i=n(i),r=n(r)),r!==i)return!1}return!0}function Yb(t){return t.flat(Number.POSITIVE_INFINITY)}function Yl(t,e){t.forEach(n=>Array.isArray(n)?Yl(n,e):e(n))}function Zh(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function k4(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Zb(t,e){let n=[];for(let s=0;s<t;s++)n.push(e);return n}function Xb(t,e,n,s){let i=t.length;if(i==e)t.push(n,s);else if(i===1)t.push(s,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let r=i-2;t[i]=t[r],i--}t[e]=n,t[e+1]=s}}function Zl(t,e,n){let s=U0(t,e);return s>=0?t[s|1]=n:(s=~s,Xb(t,s,e,n)),s}function xa(t,e){let n=U0(t,e);if(n>=0)return t[n|1]}function U0(t,e){return Jb(t,e,1)}function Jb(t,e,n){let s=0,i=t.length>>n;for(;i!==s;){let r=s+(i-s>>1),o=t[r<<n];if(e===o)return r<<n;o>e?i=r:s=r+1}return~(i<<n)}var ni={},Tt=[],si=new N(""),Xh=new N("",-1),Jh=new N(""),R4=class{get(e,n=x0){if(n===x0){let s=new Error(`NullInjectorError: No provider for ${vt(e)}!`);throw s.name="NullInjectorError",s}return n}},ep=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ep||{}),j2=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(j2||{}),ut=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ut||{});function ez(t,e,n){let s=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let r=e.length;if(i+r===s||t.charCodeAt(i+r)<=32)return i}n=i+1}}function Ka(t,e,n){let s=0;for(;s<n.length;){let i=n[s];if(typeof i=="number"){if(i!==0)break;s++;let r=n[s++],o=n[s++],c=n[s++];t.setAttribute(e,o,c,r)}else{let r=i,o=n[++s];tz(r)?t.setProperty(e,r,o):t.setAttribute(e,r,o),s++}}return s}function tp(t){return t===3||t===4||t===6}function tz(t){return t.charCodeAt(0)===64}function N0(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let s=0;s<e.length;s++){let i=e[s];typeof i=="number"?n=i:n===0||(n===-1||n===2?ih(t,n,i,null,e[++s]):ih(t,n,i,null,null))}}return t}function ih(t,e,n,s,i){let r=0,o=t.length;if(e===-1)o=-1;else for(;r<t.length;){let c=t[r++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=r-1;break}}}for(;r<t.length;){let c=t[r];if(typeof c=="number")break;if(c===n){if(s===null){i!==null&&(t[r+1]=i);return}else if(s===t[r+1]){t[r+2]=i;return}}r++,s!==null&&r++,i!==null&&r++}o!==-1&&(t.splice(o,0,e),r=o+1),t.splice(r++,0,n),s!==null&&t.splice(r++,0,s),i!==null&&t.splice(r++,0,i)}var np="ng-template";function nz(t,e,n,s){let i=0;if(s){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&ez(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Xl(t))return!1;if(i=e.indexOf(1,i),i>-1){let r;for(;++i<e.length&&typeof(r=e[i])=="string";)if(r.toLowerCase()===n)return!0}return!1}function Xl(t){return t.type===4&&t.value!==np}function sz(t,e,n){let s=t.type===4&&!n?np:t.value;return e===s}function iz(t,e,n){let s=4,i=t.attrs,r=i!==null?cz(i):0,o=!1;for(let c=0;c<e.length;c++){let a=e[c];if(typeof a=="number"){if(!o&&!y2(s)&&!y2(a))return!1;if(o&&y2(a))continue;o=!1,s=a|s&1;continue}if(!o)if(s&4){if(s=2|s&1,a!==""&&!sz(t,a,n)||a===""&&e.length===1){if(y2(s))return!1;o=!0}}else if(s&8){if(i===null||!nz(t,i,a,n)){if(y2(s))return!1;o=!0}}else{let l=e[++c],u=rz(a,i,Xl(t),n);if(u===-1){if(y2(s))return!1;o=!0;continue}if(l!==""){let f;if(u>r?f="":f=i[u+1].toLowerCase(),s&2&&l!==f){if(y2(s))return!1;o=!0}}}}return y2(s)||o}function y2(t){return(t&1)===0}function rz(t,e,n,s){if(e===null)return-1;let i=0;if(s||!n){let r=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)r=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=r?1:2}return-1}else return az(e,t)}function sp(t,e,n=!1){for(let s=0;s<e.length;s++)if(iz(t,e[s],n))return!0;return!1}function oz(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function cz(t){for(let e=0;e<t.length;e++){let n=t[e];if(tp(n))return e}return t.length}function az(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let s=t[n];if(typeof s=="number")return-1;if(s===e)return n;n++}return-1}function lz(t,e){e:for(let n=0;n<e.length;n++){let s=e[n];if(t.length===s.length){for(let i=0;i<t.length;i++)if(t[i]!==s[i])continue e;return!0}}return!1}function rh(t,e){return t?":not("+e.trim()+")":e}function uz(t){let e=t[0],n=1,s=2,i="",r=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(s&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else s&8?i+="."+o:s&4&&(i+=" "+o);else i!==""&&!y2(o)&&(e+=rh(r,i),i=""),s=o,r=r||!y2(s);n++}return i!==""&&(e+=rh(r,i)),e}function fz(t){return t.map(uz).join(",")}function dz(t){let e=[],n=[],s=1,i=2;for(;s<t.length;){let r=t[s];if(typeof r=="string")i===2?r!==""&&e.push(r,t[++s]):i===8&&n.push(r);else{if(!y2(i))break;i=r}s++}return{attrs:e,classes:n}}function ve(t){return V0(()=>{let e=ap(t),n=O(g({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ep.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||j2.Emulated,styles:t.styles||Tt,_:null,schemas:t.schemas||null,tView:null,id:""});lp(n);let s=t.dependencies;return n.directiveDefs=ch(s,!1),n.pipeDefs=ch(s,!0),n.id=mz(n),n})}function hz(t){return q1(t)||ip(t)}function pz(t){return t!==null}function ge(t){return V0(()=>({type:t.type,bootstrap:t.bootstrap||Tt,declarations:t.declarations||Tt,imports:t.imports||Tt,exports:t.exports||Tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function oh(t,e){if(t==null)return ni;let n={};for(let s in t)if(t.hasOwnProperty(s)){let i=t[s],r,o,c=ut.None;Array.isArray(i)?(c=i[0],r=i[1],o=i[2]??r):(r=i,o=i),e?(n[r]=c!==ut.None?[s,c]:s,e[r]=o):n[r]=s}return n}function $e(t){return V0(()=>{let e=ap(t);return lp(e),e})}function eo(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function q1(t){return t[kb]||null}function ip(t){return t[Rb]||null}function rp(t){return t[Pb]||null}function op(t){let e=q1(t)||ip(t)||rp(t);return e!==null?e.standalone:!1}function cp(t,e){let n=t[Ob]||null;if(!n&&e===!0)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return n}function ap(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ni,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Tt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:oh(t.inputs,e),outputs:oh(t.outputs),debugInfo:null}}function lp(t){t.features?.forEach(e=>e(t))}function ch(t,e){if(!t)return null;let n=e?rp:hz;return()=>(typeof t=="function"?t():t).map(s=>n(s)).filter(pz)}function mz(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function to(t){return{\u0275providers:t}}function gz(...t){return{\u0275providers:up(!0,t),\u0275fromNgModule:!0}}function up(t,...e){let n=[],s=new Set,i,r=o=>{n.push(o)};return Yl(e,o=>{let c=o;Qa(c,r,[],s)&&(i||=[],i.push(c))}),i!==void 0&&fp(i,r),n}function fp(t,e){for(let n=0;n<t.length;n++){let{ngModule:s,providers:i}=t[n];Jl(i,r=>{e(r,s)})}}function Qa(t,e,n,s){if(t=Ct(t),!t)return!1;let i=null,r=eh(t),o=!r&&q1(t);if(!r&&!o){let a=t.ngModule;if(r=eh(a),r)i=a;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=s.has(i);if(o){if(c)return!1;if(s.add(i),o.dependencies){let a=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of a)Qa(l,e,n,s)}}else if(r){if(r.imports!=null&&!c){s.add(i);let l;try{Yl(r.imports,u=>{Qa(u,e,n,s)&&(l||=[],l.push(u))})}finally{}l!==void 0&&fp(l,e)}if(!c){let l=Pn(i)||(()=>new i);e({provide:i,useFactory:l,deps:Tt},i),e({provide:Jh,useValue:i,multi:!0},i),e({provide:si,useValue:()=>C(i),multi:!0},i)}let a=r.providers;if(a!=null&&!c){let l=t;Jl(a,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Jl(t,e){for(let n of t)Gh(n)&&(n=n.\u0275providers),Array.isArray(n)?Jl(n,e):e(n)}var yz=_e({provide:String,useValue:_e});function dp(t){return t!==null&&typeof t=="object"&&yz in t}function Cz(t){return!!(t&&t.useExisting)}function vz(t){return!!(t&&t.useFactory)}function ii(t){return typeof t=="function"}function Mz(t){return!!t.useClass}var no=new N(""),E4={},_z={},Na;function e8(){return Na===void 0&&(Na=new R4),Na}var At=class{},I0=class extends At{get destroyed(){return this._destroyed}constructor(e,n,s,i){super(),this.parent=n,this.source=s,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Za(e,o=>this.processProvider(o)),this.records.set(Xh,Ys(void 0,this)),i.has("environment")&&this.records.set(At,Ys(void 0,this));let r=this.records.get(no);r!=null&&typeof r.value=="string"&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(Jh,Tt,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=he(null);try{for(let s of this._ngOnDestroyHooks)s.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=$1(this),s=It(void 0),i;try{return e()}finally{$1(n),It(s)}}get(e,n=x0,s=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(nh))return e[nh](this);s=J4(s);let i,r=$1(this),o=It(void 0);try{if(!(s&re.SkipSelf)){let a=this.records.get(e);if(a===void 0){let l=Ez(e)&&X4(e);l&&this.injectableDefInScope(l)?a=Ys(Ya(e),E4):a=null,this.records.set(e,a)}if(a!=null)return this.hydrate(e,a)}let c=s&re.Self?e8():this.parent;return n=s&re.Optional&&n===x0?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[A4]=c[A4]||[]).unshift(vt(e)),r)throw c;return Gb(c,e,"R3InjectorError",this.source)}else throw c}finally{It(o),$1(r)}}resolveInjectorInitializers(){let e=he(null),n=$1(this),s=It(void 0),i;try{let r=this.get(si,Tt,re.Self);for(let o of r)o()}finally{$1(n),It(s),he(e)}}toString(){let e=[],n=this.records;for(let s of n.keys())e.push(vt(s));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _(205,!1)}processProvider(e){e=Ct(e);let n=ii(e)?e:Ct(e&&e.provide),s=wz(e);if(!ii(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ys(void 0,E4,!0),i.factory=()=>Ga(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,s)}hydrate(e,n){let s=he(null);try{return n.value===E4&&(n.value=_z,n.value=n.factory()),typeof n.value=="object"&&n.value&&zz(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{he(s)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ct(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ya(t){let e=X4(t),n=e!==null?e.factory:Pn(t);if(n!==null)return n;if(t instanceof N)throw new _(204,!1);if(t instanceof Function)return Lz(t);throw new _(204,!1)}function Lz(t){if(t.length>0)throw new _(204,!1);let n=Tb(t);return n!==null?()=>n.factory(t):()=>new t}function wz(t){if(dp(t))return Ys(void 0,t.useValue);{let e=hp(t);return Ys(e,E4)}}function hp(t,e,n){let s;if(ii(t)){let i=Ct(t);return Pn(i)||Ya(i)}else if(dp(t))s=()=>Ct(t.useValue);else if(vz(t))s=()=>t.useFactory(...Ga(t.deps||[]));else if(Cz(t))s=()=>C(Ct(t.useExisting));else{let i=Ct(t&&(t.useClass||t.provide));if(bz(t))s=()=>new i(...Ga(t.deps));else return Pn(i)||Ya(i)}return s}function Ys(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bz(t){return!!t.deps}function zz(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Ez(t){return typeof t=="function"||typeof t=="object"&&t instanceof N}function Za(t,e){for(let n of t)Array.isArray(n)?Za(n,e):n&&Gh(n)?Za(n.\u0275providers,e):e(n)}function _1(t,e){t instanceof I0&&t.assertNotDestroyed();let n,s=$1(t),i=It(void 0);try{return e()}finally{$1(s),It(i)}}function pp(){return Kh()!==void 0||$b()!=null}function Sz(t){if(!pp())throw new _(-203,!1)}function Dz(t){let e=He.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function xz(t){return typeof t=="function"}var H2=0,te=1,$=2,ct=3,v2=4,jt=5,T0=6,A0=7,M2=8,ri=9,_2=10,Ie=11,k0=12,ah=13,di=14,L2=15,B0=16,Zs=17,g1=18,so=19,mp=20,W1=21,Ia=22,On=23,kt=25,t8=1;var Fn=7,P4=8,oi=9,Vt=10,n8=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(n8||{});function kn(t){return Array.isArray(t)&&typeof t[t8]=="object"}function L1(t){return Array.isArray(t)&&t[t8]===!0}function s8(t){return(t.flags&4)!==0}function io(t){return t.componentOffset>-1}function ro(t){return(t.flags&1)===1}function y1(t){return!!t.template}function Nz(t){return(t[$]&512)!==0}var Xa=class{constructor(e,n,s){this.previousValue=e,this.currentValue=n,this.firstChange=s}isFirstChange(){return this.firstChange}};function gp(t,e,n,s){e!==null?e.applyValueToInputSignal(e,s):t[n]=s}function Mt(){return yp}function yp(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tz),Iz}Mt.ngInherit=!0;function Iz(){let t=vp(this),e=t?.current;if(e){let n=t.previous;if(n===ni)t.previous=e;else for(let s in e)n[s]=e[s];t.current=null,this.ngOnChanges(e)}}function Tz(t,e,n,s,i){let r=this.declaredInputs[s],o=vp(t)||Az(t,{previous:ni,current:null}),c=o.current||(o.current={}),a=o.previous,l=a[r];c[r]=new Xa(l&&l.currentValue,n,a===ni),gp(t,e,i,n)}var Cp="__ngSimpleChanges__";function vp(t){return t[Cp]||null}function Az(t,e){return t[Cp]=e}var lh=null;var F2=function(t,e,n){lh?.(t,e,n)},kz="svg",Rz="math",Pz=!1;function Oz(){return Pz}function U2(t){for(;Array.isArray(t);)t=t[H2];return t}function Fz(t){for(;Array.isArray(t);){if(typeof t[t8]=="object")return t;t=t[H2]}return null}function Mp(t,e){return U2(e[t])}function r2(t,e){return U2(e[t.index])}function _p(t,e){return t.data[e]}function i8(t,e){return t[e]}function Q1(t,e){let n=e[t];return kn(n)?n:n[H2]}function Vz(t){return(t[$]&4)===4}function r8(t){return(t[$]&128)===128}function jz(t){return L1(t[ct])}function ci(t,e){return e==null?null:t[e]}function Lp(t){t[Zs]=0}function Uz(t){t[$]&1024||(t[$]|=1024,r8(t)&&R0(t))}function Bz(t,e){for(;t>0;)e=e[di],t--;return e}function o8(t){return!!(t[$]&9216||t[On]?.dirty)}function Ja(t){t[_2].changeDetectionScheduler?.notify(1),o8(t)?R0(t):t[$]&64&&(Oz()?(t[$]|=1024,R0(t)):t[_2].changeDetectionScheduler?.notify())}function R0(t){t[_2].changeDetectionScheduler?.notify();let e=P0(t);for(;e!==null&&!(e[$]&8192||(e[$]|=8192,!r8(e)));)e=P0(e)}function wp(t,e){if((t[$]&256)===256)throw new _(911,!1);t[W1]===null&&(t[W1]=[]),t[W1].push(e)}function Hz(t,e){if(t[W1]===null)return;let n=t[W1].indexOf(e);n!==-1&&t[W1].splice(n,1)}function P0(t){let e=t[ct];return L1(e)?e[ct]:e}var ne={lFrame:Tp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $z(){return ne.lFrame.elementDepthCount}function Wz(){ne.lFrame.elementDepthCount++}function qz(){ne.lFrame.elementDepthCount--}function bp(){return ne.bindingsEnabled}function zp(){return ne.skipHydrationRootTNode!==null}function Gz(t){return ne.skipHydrationRootTNode===t}function Kz(){ne.skipHydrationRootTNode=null}function oe(){return ne.lFrame.lView}function Fe(){return ne.lFrame.tView}function $2(t){return ne.lFrame.contextLView=t,t[M2]}function W2(t){return ne.lFrame.contextLView=null,t}function ft(){let t=Ep();for(;t!==null&&t.type===64;)t=t.parent;return t}function Ep(){return ne.lFrame.currentTNode}function Qz(){let t=ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Gn(t,e){let n=ne.lFrame;n.currentTNode=t,n.isParent=e}function c8(){return ne.lFrame.isParent}function a8(){ne.lFrame.isParent=!1}function Yz(){return ne.lFrame.contextLView}function l8(){let t=ne.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Zz(t){return ne.lFrame.bindingIndex=t}function hi(){return ne.lFrame.bindingIndex++}function Sp(t){let e=ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Xz(){return ne.lFrame.inI18n}function Jz(t,e){let n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,el(e)}function eE(){return ne.lFrame.currentDirectiveIndex}function el(t){ne.lFrame.currentDirectiveIndex=t}function Dp(t){let e=ne.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function xp(){return ne.lFrame.currentQueryIndex}function u8(t){ne.lFrame.currentQueryIndex=t}function tE(t){let e=t[te];return e.type===2?e.declTNode:e.type===1?t[jt]:null}function Np(t,e,n){if(n&re.SkipSelf){let i=e,r=t;for(;i=i.parent,i===null&&!(n&re.Host);)if(i=tE(r),i===null||(r=r[di],i.type&10))break;if(i===null)return!1;e=i,t=r}let s=ne.lFrame=Ip();return s.currentTNode=e,s.lView=t,!0}function f8(t){let e=Ip(),n=t[te];ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ip(){let t=ne.lFrame,e=t===null?null:t.child;return e===null?Tp(t):e}function Tp(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Ap(){let t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var kp=Ap;function d8(){let t=Ap();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nE(t){return(ne.lFrame.contextLView=Bz(t,ne.lFrame.contextLView))[M2]}function Kn(){return ne.lFrame.selectedIndex}function Vn(t){ne.lFrame.selectedIndex=t}function H0(){let t=ne.lFrame;return _p(t.tView,t.selectedIndex)}function sE(){return ne.lFrame.currentNamespace}var Rp=!0;function oo(){return Rp}function co(t){Rp=t}function iE(t,e,n){let{ngOnChanges:s,ngOnInit:i,ngDoCheck:r}=e.type.prototype;if(s){let o=yp(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),r&&((n.preOrderHooks??=[]).push(t,r),(n.preOrderCheckHooks??=[]).push(t,r))}function ao(t,e){for(let n=e.directiveStart,s=e.directiveEnd;n<s;n++){let r=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:a,ngAfterViewChecked:l,ngOnDestroy:u}=r;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),a&&(t.viewHooks??=[]).push(-n,a),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function S4(t,e,n){Pp(t,e,3,n)}function D4(t,e,n,s){(t[$]&3)===n&&Pp(t,e,n,s)}function Ta(t,e){let n=t[$];(n&3)===e&&(n&=16383,n+=1,t[$]=n)}function Pp(t,e,n,s){let i=s!==void 0?t[Zs]&65535:0,r=s??-1,o=e.length-1,c=0;for(let a=i;a<o;a++)if(typeof e[a+1]=="number"){if(c=e[a],s!=null&&c>=s)break}else e[a]<0&&(t[Zs]+=65536),(c<r||r==-1)&&(rE(t,n,e,a),t[Zs]=(t[Zs]&4294901760)+a+2),a++}function uh(t,e){F2(4,t,e);let n=he(null);try{e.call(t)}finally{he(n),F2(5,t,e)}}function rE(t,e,n,s){let i=n[s]<0,r=n[s+1],o=i?-n[s]:n[s],c=t[o];i?t[$]>>14<t[Zs]>>16&&(t[$]&3)===e&&(t[$]+=16384,uh(c,r)):uh(c,r)}var ti=-1,jn=class{constructor(e,n,s){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=s}};function oE(t){return t instanceof jn}function cE(t){return(t.flags&8)!==0}function aE(t){return(t.flags&16)!==0}function Op(t){return t!==ti}function O4(t){return t&32767}function lE(t){return t>>16}function F4(t,e){let n=lE(t),s=e;for(;n>0;)s=s[di],n--;return s}var tl=!0;function V4(t){let e=tl;return tl=t,e}var uE=256,Fp=uE-1,Vp=5,fE=0,V2={};function dE(t,e,n){let s;typeof n=="string"?s=n.charCodeAt(0)||0:n.hasOwnProperty(S0)&&(s=n[S0]),s==null&&(s=n[S0]=fE++);let i=s&Fp,r=1<<i;e.data[t+(i>>Vp)]|=r}function j4(t,e){let n=jp(t,e);if(n!==-1)return n;let s=e[te];s.firstCreatePass&&(t.injectorIndex=e.length,Aa(s.data,t),Aa(e,null),Aa(s.blueprint,null));let i=h8(t,e),r=t.injectorIndex;if(Op(i)){let o=O4(i),c=F4(i,e),a=c[te].data;for(let l=0;l<8;l++)e[r+l]=c[o+l]|a[o+l]}return e[r+8]=i,r}function Aa(t,e){t.push(0,0,0,0,0,0,0,0,e)}function jp(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function h8(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,s=null,i=e;for(;i!==null;){if(s=Wp(i),s===null)return ti;if(n++,i=i[di],s.injectorIndex!==-1)return s.injectorIndex|n<<16}return ti}function nl(t,e,n){dE(t,e,n)}function hE(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let s=n.length,i=0;for(;i<s;){let r=n[i];if(tp(r))break;if(r===0)i=i+2;else if(typeof r=="number")for(i++;i<s&&typeof n[i]=="string";)i++;else{if(r===e)return n[i+1];i=i+2}}}return null}function Up(t,e,n){if(n&re.Optional||t!==void 0)return t;Kl(e,"NodeInjector")}function Bp(t,e,n,s){if(n&re.Optional&&s===void 0&&(s=null),!(n&(re.Self|re.Host))){let i=t[ri],r=It(void 0);try{return i?i.get(e,s,n&re.Optional):Qh(e,s,n&re.Optional)}finally{It(r)}}return Up(s,e,n)}function Hp(t,e,n,s=re.Default,i){if(t!==null){if(e[$]&2048&&!(s&re.Self)){let o=yE(t,e,n,s,V2);if(o!==V2)return o}let r=$p(t,e,n,s,V2);if(r!==V2)return r}return Bp(e,n,s,i)}function $p(t,e,n,s,i){let r=mE(n);if(typeof r=="function"){if(!Np(e,t,s))return s&re.Host?Up(i,n,s):Bp(e,n,s,i);try{let o;if(o=r(s),o==null&&!(s&re.Optional))Kl(n);else return o}finally{kp()}}else if(typeof r=="number"){let o=null,c=jp(t,e),a=ti,l=s&re.Host?e[L2][jt]:null;for((c===-1||s&re.SkipSelf)&&(a=c===-1?h8(t,e):e[c+8],a===ti||!dh(s,!1)?c=-1:(o=e[te],c=O4(a),e=F4(a,e)));c!==-1;){let u=e[te];if(fh(r,c,u.data)){let f=pE(c,e,n,o,s,l);if(f!==V2)return f}a=e[c+8],a!==ti&&dh(s,e[te].data[c+8]===l)&&fh(r,c,e)?(o=u,c=O4(a),e=F4(a,e)):c=-1}}return i}function pE(t,e,n,s,i,r){let o=e[te],c=o.data[t+8],a=s==null?io(c)&&tl:s!=o&&(c.type&3)!==0,l=i&re.Host&&r===c,u=x4(c,o,n,a,l);return u!==null?Un(e,o,u,c):V2}function x4(t,e,n,s,i){let r=t.providerIndexes,o=e.data,c=r&1048575,a=t.directiveStart,l=t.directiveEnd,u=r>>20,f=s?c:c+u,d=i?c+u:l;for(let h=f;h<d;h++){let p=o[h];if(h<a&&n===p||h>=a&&p.type===n)return h}if(i){let h=o[a];if(h&&y1(h)&&h.type===n)return a}return null}function Un(t,e,n,s){let i=t[n],r=e.data;if(oE(i)){let o=i;o.resolving&&Vb(Fb(r[n]));let c=V4(o.canSeeViewProviders);o.resolving=!0;let a,l=o.injectImpl?It(o.injectImpl):null,u=Np(t,s,re.Default);try{i=t[n]=o.factory(void 0,r,t,s),e.firstCreatePass&&n>=s.directiveStart&&iE(n,r[n],e)}finally{l!==null&&It(l),V4(c),o.resolving=!1,kp()}}return i}function mE(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(S0)?t[S0]:void 0;return typeof e=="number"?e>=0?e&Fp:gE:e}function fh(t,e,n){let s=1<<t;return!!(n[e+(t>>Vp)]&s)}function dh(t,e){return!(t&re.Self)&&!(t&re.Host&&e)}var Rn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,s){return Hp(this._tNode,this._lView,e,J4(s),n)}};function gE(){return new Rn(ft(),oe())}function Qn(t){return V0(()=>{let e=t.prototype.constructor,n=e[T4]||sl(e),s=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==s;){let r=i[T4]||sl(i);if(r&&r!==n)return r;i=Object.getPrototypeOf(i)}return r=>new r})}function sl(t){return Hh(t)?()=>{let e=sl(Ct(t));return e&&e()}:Pn(t)}function yE(t,e,n,s,i){let r=t,o=e;for(;r!==null&&o!==null&&o[$]&2048&&!(o[$]&512);){let c=$p(r,o,n,s|re.Self,V2);if(c!==V2)return c;let a=r.parent;if(!a){let l=o[mp];if(l){let u=l.get(n,V2,s);if(u!==V2)return u}a=Wp(o),o=o[di]}r=a}return i}function Wp(t){let e=t[te],n=e.type;return n===2?e.declTNode:n===1?t[jt]:null}function p8(t){return hE(ft(),t)}function hh(t,e=null,n=null,s){let i=qp(t,e,n,s);return i.resolveInjectorInitializers(),i}function qp(t,e=null,n=null,s,i=new Set){let r=[n||Tt,gz(t)];return s=s||(typeof t=="object"?void 0:vt(t)),new I0(r,e||e8(),s||null,i)}var _t=(()=>{let e=class e{static create(s,i){if(Array.isArray(s))return hh({name:""},i,s,"");{let r=s.name??"";return hh({name:r},s.parent,s.providers,r)}}};e.THROW_IF_NOT_FOUND=x0,e.NULL=new R4,e.\u0275prov=x({token:e,providedIn:"any",factory:()=>C(Xh)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var CE="ngOriginalError";function ka(t){return t[CE]}var B2=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ka(e);for(;n&&ka(n);)n=ka(n);return n||null}},Gp=new N("",{providedIn:"root",factory:()=>E(B2).handleError.bind(void 0)}),m8=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=vE,e.__NG_ENV_ID__=s=>s;let t=e;return t})(),il=class extends m8{constructor(e){super(),this._lView=e}onDestroy(e){return wp(this._lView,e),()=>Hz(this._lView,e)}};function vE(){return new il(oe())}function ME(){return pi(ft(),oe())}function pi(t,e){return new Lt(r2(t,e))}var Lt=(()=>{let e=class e{constructor(s){this.nativeElement=s}};e.__NG_ELEMENT_ID__=ME;let t=e;return t})();function _E(t){return t instanceof Lt?t.nativeElement:t}var rl=class extends pe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,pp()&&(this.destroyRef=E(m8,{optional:!0})??void 0)}emit(e){let n=he(null);try{super.next(e)}finally{he(n)}}subscribe(e,n,s){let i=e,r=n||(()=>null),o=s;if(e&&typeof e=="object"){let a=e;i=a.next?.bind(a),r=a.error?.bind(a),o=a.complete?.bind(a)}this.__isAsync&&(r=Ra(r),i&&(i=Ra(i)),o&&(o=Ra(o)));let c=super.subscribe({next:i,error:r,complete:o});return e instanceof Be&&e.add(c),c}};function Ra(t){return e=>{setTimeout(t,void 0,e)}}var Oe=rl;function LE(){return this._results[Symbol.iterator]()}var ol=class t{get changes(){return this._changes??=new Oe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=LE)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let s=Yb(e);(this._changesDetected=!Qb(this._results,s,n))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Kp(t){return(t.flags&128)===128}var Qp=new Map,wE=0;function bE(){return wE++}function zE(t){Qp.set(t[so],t)}function EE(t){Qp.delete(t[so])}var ph="__ngContext__";function G1(t,e){kn(e)?(t[ph]=e[so],zE(e)):t[ph]=e}function Yp(t){return Xp(t[k0])}function Zp(t){return Xp(t[v2])}function Xp(t){for(;t!==null&&!L1(t);)t=t[v2];return t}var cl;function Jp(t){cl=t}function em(){if(cl!==void 0)return cl;if(typeof document<"u")return document;throw new _(210,!1)}var lo=new N("",{providedIn:"root",factory:()=>SE}),SE="ng",g8=new N(""),dt=new N("",{providedIn:"platform",factory:()=>"unknown"});var y8=new N(""),C8=new N("",{providedIn:"root",factory:()=>em().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var DE="h",xE="b";var NE=()=>null;function v8(t,e,n=!1){return NE(t,e,n)}var tm=!1,IE=new N("",{providedIn:"root",factory:()=>tm});var M4;function TE(){if(M4===void 0&&(M4=null,He.trustedTypes))try{M4=He.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return M4}function uo(t){return TE()?.createHTML(t)||t}var _4;function nm(){if(_4===void 0&&(_4=null,He.trustedTypes))try{_4=He.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _4}function mh(t){return nm()?.createHTML(t)||t}function gh(t){return nm()?.createScriptURL(t)||t}var C1=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Uh})`}},al=class extends C1{getTypeName(){return"HTML"}},ll=class extends C1{getTypeName(){return"Style"}},ul=class extends C1{getTypeName(){return"Script"}},fl=class extends C1{getTypeName(){return"URL"}},dl=class extends C1{getTypeName(){return"ResourceURL"}};function o2(t){return t instanceof C1?t.changingThisBreaksApplicationSecurity:t}function w1(t,e){let n=AE(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Uh})`)}return n===e}function AE(t){return t instanceof C1&&t.getTypeName()||null}function sm(t){return new al(t)}function im(t){return new ll(t)}function rm(t){return new ul(t)}function om(t){return new fl(t)}function cm(t){return new dl(t)}function kE(t){let e=new pl(t);return RE()?new hl(e):e}var hl=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(uo(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},pl=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=uo(e),n}};function RE(){try{return!!new window.DOMParser().parseFromString(uo(""),"text/html")}catch{return!1}}var PE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fo(t){return t=String(t),t.match(PE)?t:"unsafe:"+t}function b1(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function $0(...t){let e={};for(let n of t)for(let s in n)n.hasOwnProperty(s)&&(e[s]=!0);return e}var am=b1("area,br,col,hr,img,wbr"),lm=b1("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),um=b1("rp,rt"),OE=$0(um,lm),FE=$0(lm,b1("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),VE=$0(um,b1("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yh=$0(am,FE,VE,OE),fm=b1("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jE=b1("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),UE=b1("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),BE=$0(fm,jE,UE),HE=b1("script,style,template"),ml=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,s=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?s=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,s&&n.firstChild){i.push(n),n=qE(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=WE(n);if(r){n=r;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=Ch(e).toLowerCase();if(!yh.hasOwnProperty(n))return this.sanitizedSomething=!0,!HE.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let s=e.attributes;for(let i=0;i<s.length;i++){let r=s.item(i),o=r.name,c=o.toLowerCase();if(!BE.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let a=r.value;fm[c]&&(a=fo(a)),this.buf.push(" ",o,'="',vh(a),'"')}return this.buf.push(">"),!0}endElement(e){let n=Ch(e).toLowerCase();yh.hasOwnProperty(n)&&!am.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(vh(e))}};function $E(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function WE(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw dm(e);return e}function qE(t){let e=t.firstChild;if(e&&$E(t,e))throw dm(e);return e}function Ch(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function dm(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var GE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,KE=/([^\#-~ |!])/g;function vh(t){return t.replace(/&/g,"&amp;").replace(GE,function(e){let n=e.charCodeAt(0),s=e.charCodeAt(1);return"&#"+((n-55296)*1024+(s-56320)+65536)+";"}).replace(KE,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var L4;function M8(t,e){let n=null;try{L4=L4||kE(t);let s=e?String(e):"";n=L4.getInertBodyElement(s);let i=5,r=s;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,s=r,r=n.innerHTML,n=L4.getInertBodyElement(s)}while(s!==r);let c=new ml().sanitizeChildren(Mh(n)||n);return uo(c)}finally{if(n){let s=Mh(n)||n;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function Mh(t){return"content"in t&&QE(t)?t.content:null}function QE(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Ut=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ut||{});function W0(t){let e=_8();return e?mh(e.sanitize(Ut.HTML,t)||""):w1(t,"HTML")?mh(o2(t)):M8(em(),j0(t))}function b2(t){let e=_8();return e?e.sanitize(Ut.URL,t)||"":w1(t,"URL")?o2(t):fo(j0(t))}function YE(t){let e=_8();if(e)return gh(e.sanitize(Ut.RESOURCE_URL,t)||"");if(w1(t,"ResourceURL"))return gh(o2(t));throw new _(904,!1)}function ZE(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?YE:b2}function hm(t,e,n){return ZE(e,n)(t)}function _8(){let t=oe();return t&&t[_2].sanitizer}var XE=/^>|^->|<!--|-->|--!>|<!-$/g,JE=/(<|>)/g,eS="\u200B$1\u200B";function tS(t){return t.replace(XE,e=>e.replace(JE,eS))}function pm(t){return t instanceof Function?t():t}function nS(t){return(t??E(_t)).get(dt)==="browser"}var v1=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(v1||{}),sS;function L8(t,e){return sS(t,e)}function Xs(t,e,n,s,i){if(s!=null){let r,o=!1;L1(s)?r=s:kn(s)&&(o=!0,s=s[H2]);let c=U2(s);t===0&&n!==null?i==null?Mm(e,n,c):U4(e,n,c,i||null,!0):t===1&&n!==null?U4(e,n,c,i||null,!0):t===2?vS(e,c,o):t===3&&e.destroyNode(c),r!=null&&_S(e,t,r,n,i)}}function iS(t,e){return t.createText(e)}function rS(t,e,n){t.setValue(e,n)}function oS(t,e){return t.createComment(tS(e))}function mm(t,e,n){return t.createElement(e,n)}function cS(t,e){gm(t,e),e[H2]=null,e[jt]=null}function aS(t,e,n,s,i,r){s[H2]=i,s[jt]=e,po(t,s,n,1,i,r)}function gm(t,e){e[_2].changeDetectionScheduler?.notify(1),po(t,e,e[Ie],2,null,null)}function lS(t){let e=t[k0];if(!e)return Pa(t[te],t);for(;e;){let n=null;if(kn(e))n=e[k0];else{let s=e[Vt];s&&(n=s)}if(!n){for(;e&&!e[v2]&&e!==t;)kn(e)&&Pa(e[te],e),e=e[ct];e===null&&(e=t),kn(e)&&Pa(e[te],e),n=e&&e[v2]}e=n}}function uS(t,e,n,s){let i=Vt+s,r=n.length;s>0&&(n[i-1][v2]=e),s<r-Vt?(e[v2]=n[i],Zh(n,Vt+s,e)):(n.push(e),e[v2]=null),e[ct]=n;let o=e[B0];o!==null&&n!==o&&fS(o,e);let c=e[g1];c!==null&&c.insertView(t),Ja(e),e[$]|=128}function fS(t,e){let n=t[oi],i=e[ct][ct][L2];e[L2]!==i&&(t[$]|=n8.HasTransplantedViews),n===null?t[oi]=[e]:n.push(e)}function ym(t,e){let n=t[oi],s=n.indexOf(e);n.splice(s,1)}function gl(t,e){if(t.length<=Vt)return;let n=Vt+e,s=t[n];if(s){let i=s[B0];i!==null&&i!==t&&ym(i,s),e>0&&(t[n-1][v2]=s[v2]);let r=k4(t,Vt+e);cS(s[te],s);let o=r[g1];o!==null&&o.detachView(r[te]),s[ct]=null,s[v2]=null,s[$]&=-129}return s}function Cm(t,e){if(!(e[$]&256)){let n=e[Ie];n.destroyNode&&po(t,e,n,3,null,null),lS(e)}}function Pa(t,e){if(e[$]&256)return;let n=he(null);try{e[$]&=-129,e[$]|=256,e[On]&&bd(e[On]),hS(t,e),dS(t,e),e[te].type===1&&e[Ie].destroy();let s=e[B0];if(s!==null&&L1(e[ct])){s!==e[ct]&&ym(s,e);let i=e[g1];i!==null&&i.detachView(t)}EE(e)}finally{he(n)}}function dS(t,e){let n=t.cleanup,s=e[A0];if(n!==null)for(let r=0;r<n.length-1;r+=2)if(typeof n[r]=="string"){let o=n[r+3];o>=0?s[o]():s[-o].unsubscribe(),r+=2}else{let o=s[n[r+1]];n[r].call(o)}s!==null&&(e[A0]=null);let i=e[W1];if(i!==null){e[W1]=null;for(let r=0;r<i.length;r++){let o=i[r];o()}}}function hS(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let s=0;s<n.length;s+=2){let i=e[n[s]];if(!(i instanceof jn)){let r=n[s+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){let c=i[r[o]],a=r[o+1];F2(4,c,a);try{a.call(c)}finally{F2(5,c,a)}}else{F2(4,i,r);try{r.call(i)}finally{F2(5,i,r)}}}}}function vm(t,e,n){return pS(t,e.parent,n)}function pS(t,e,n){let s=e;for(;s!==null&&s.type&40;)e=s,s=e.parent;if(s===null)return n[H2];{let{componentOffset:i}=s;if(i>-1){let{encapsulation:r}=t.data[s.directiveStart+i];if(r===j2.None||r===j2.Emulated)return null}return r2(s,n)}}function U4(t,e,n,s,i){t.insertBefore(e,n,s,i)}function Mm(t,e,n){t.appendChild(e,n)}function _h(t,e,n,s,i){s!==null?U4(t,e,n,s,i):Mm(t,e,n)}function mS(t,e,n,s){t.removeChild(e,n,s)}function w8(t,e){return t.parentNode(e)}function gS(t,e){return t.nextSibling(e)}function _m(t,e,n){return CS(t,e,n)}function yS(t,e,n){return t.type&40?r2(t,n):null}var CS=yS,Lh;function ho(t,e,n,s){let i=vm(t,s,e),r=e[Ie],o=s.parent||e[jt],c=_m(o,s,e);if(i!=null)if(Array.isArray(n))for(let a=0;a<n.length;a++)_h(r,i,n[a],c,!1);else _h(r,i,n,c,!1);Lh!==void 0&&Lh(r,s,e,n,i)}function N4(t,e){if(e!==null){let n=e.type;if(n&3)return r2(e,t);if(n&4)return yl(-1,t[e.index]);if(n&8){let s=e.child;if(s!==null)return N4(t,s);{let i=t[e.index];return L1(i)?yl(-1,i):U2(i)}}else{if(n&32)return L8(e,t)()||U2(t[e.index]);{let s=Lm(t,e);if(s!==null){if(Array.isArray(s))return s[0];let i=P0(t[L2]);return N4(i,s)}else return N4(t,e.next)}}}return null}function Lm(t,e){if(e!==null){let s=t[L2][jt],i=e.projection;return s.projection[i]}return null}function yl(t,e){let n=Vt+t+1;if(n<e.length){let s=e[n],i=s[te].firstChild;if(i!==null)return N4(s,i)}return e[Fn]}function vS(t,e,n){let s=w8(t,e);s&&mS(t,s,e,n)}function b8(t,e,n,s,i,r,o){for(;n!=null;){let c=s[n.index],a=n.type;if(o&&e===0&&(c&&G1(U2(c),s),n.flags|=2),(n.flags&32)!==32)if(a&8)b8(t,e,n.child,s,i,r,!1),Xs(e,t,i,c,r);else if(a&32){let l=L8(n,s),u;for(;u=l();)Xs(e,t,i,u,r);Xs(e,t,i,c,r)}else a&16?wm(t,e,s,n,i,r):Xs(e,t,i,c,r);n=o?n.projectionNext:n.next}}function po(t,e,n,s,i,r){b8(n,s,t.firstChild,e,i,r,!1)}function MS(t,e,n){let s=e[Ie],i=vm(t,n,e),r=n.parent||e[jt],o=_m(r,n,e);wm(s,0,e,n,i,o)}function wm(t,e,n,s,i,r){let o=n[L2],a=o[jt].projection[s.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++){let u=a[l];Xs(e,t,i,u,r)}else{let l=a,u=o[ct];Kp(s)&&(l.flags|=128),b8(t,e,l,u,i,r,!0)}}function _S(t,e,n,s,i){let r=n[Fn],o=U2(n);r!==o&&Xs(e,t,s,r,i);for(let c=Vt;c<n.length;c++){let a=n[c];po(a[te],a,t,e,s,r)}}function LS(t,e,n,s,i){if(e)i?t.addClass(n,s):t.removeClass(n,s);else{let r=s.indexOf("-")===-1?void 0:v1.DashCase;i==null?t.removeStyle(n,s,r):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),r|=v1.Important),t.setStyle(n,s,i,r))}}function wS(t,e,n){t.setAttribute(e,"style",n)}function bm(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function zm(t,e,n){let{mergedAttrs:s,classes:i,styles:r}=n;s!==null&&Ka(t,e,s),i!==null&&bm(t,e,i),r!==null&&wS(t,e,r)}var q2={};function T(t=1){Em(Fe(),oe(),Kn()+t,!1)}function Em(t,e,n,s){if(!s)if((e[$]&3)===3){let r=t.preOrderCheckHooks;r!==null&&S4(e,r,n)}else{let r=t.preOrderHooks;r!==null&&D4(e,r,0,n)}Vn(n)}function S(t,e=re.Default){let n=oe();if(n===null)return C(t,e);let s=ft();return Hp(s,n,Ct(t),e)}function Sm(){let t="invalid";throw new Error(t)}function Dm(t,e,n,s,i,r){let o=he(null);try{let c=null;i&ut.SignalBased&&(c=e[s][En]),c!==null&&c.transformFn!==void 0&&(r=c.transformFn(r)),i&ut.HasDecoratorInputTransform&&(r=t.inputTransforms[s].call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,s):gp(e,c,s,r)}finally{he(o)}}function bS(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let s=0;s<n.length;s++){let i=n[s];if(i<0)Vn(~i);else{let r=i,o=n[++s],c=n[++s];Jz(o,r);let a=e[r];c(2,a)}}}finally{Vn(-1)}}function mo(t,e,n,s,i,r,o,c,a,l,u){let f=e.blueprint.slice();return f[H2]=i,f[$]=s|4|128|8|64,(l!==null||t&&t[$]&2048)&&(f[$]|=2048),Lp(f),f[ct]=f[di]=t,f[M2]=n,f[_2]=o||t&&t[_2],f[Ie]=c||t&&t[Ie],f[ri]=a||t&&t[ri]||null,f[jt]=r,f[so]=bE(),f[T0]=u,f[mp]=l,f[L2]=e.type==2?t[L2]:f,f}function mi(t,e,n,s,i){let r=t.data[e];if(r===null)r=zS(t,e,n,s,i),Xz()&&(r.flags|=32);else if(r.type&64){r.type=n,r.value=s,r.attrs=i;let o=Qz();r.injectorIndex=o===null?-1:o.injectorIndex}return Gn(r,!0),r}function zS(t,e,n,s,i){let r=Ep(),o=c8(),c=o?r:r&&r.parent,a=t.data[e]=IS(t,c,n,e,s,i);return t.firstChild===null&&(t.firstChild=a),r!==null&&(o?r.child==null&&a.parent!==null&&(r.child=a):r.next===null&&(r.next=a,a.prev=r)),a}function xm(t,e,n,s){if(n===0)return-1;let i=e.length;for(let r=0;r<n;r++)e.push(s),t.blueprint.push(s),t.data.push(null);return i}function Nm(t,e,n,s,i){let r=Kn(),o=s&2;try{Vn(-1),o&&e.length>kt&&Em(t,e,kt,!1),F2(o?2:0,i),n(s,i)}finally{Vn(r),F2(o?3:1,i)}}function z8(t,e,n){if(s8(e)){let s=he(null);try{let i=e.directiveStart,r=e.directiveEnd;for(let o=i;o<r;o++){let c=t.data[o];if(c.contentQueries){let a=n[o];c.contentQueries(1,a,o)}}}finally{he(s)}}}function E8(t,e,n){bp()&&(OS(t,e,n,r2(n,e)),(n.flags&64)===64&&Am(t,e,n))}function S8(t,e,n=r2){let s=e.localNames;if(s!==null){let i=e.index+1;for(let r=0;r<s.length;r+=2){let o=s[r+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function Im(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=D8(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function D8(t,e,n,s,i,r,o,c,a,l,u){let f=kt+s,d=f+i,h=ES(f,d),p=typeof l=="function"?l():l;return h[te]={type:t,blueprint:h,template:n,queries:null,viewQuery:c,declTNode:e,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof r=="function"?r():r,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:a,consts:p,incompleteFirstPass:!1,ssrId:u}}function ES(t,e){let n=[];for(let s=0;s<e;s++)n.push(s<t?null:q2);return n}function SS(t,e,n,s){let r=s.get(IE,tm)||n===j2.ShadowDom,o=t.selectRootElement(e,r);return DS(o),o}function DS(t){xS(t)}var xS=()=>null;function NS(t,e,n,s){let i=Pm(e);i.push(n),t.firstCreatePass&&Om(t).push(s,i.length-1)}function IS(t,e,n,s,i,r){let o=e?e.injectorIndex:-1,c=0;return zp()&&(c|=128),{type:n,index:s,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function wh(t,e,n,s,i){for(let r in e){if(!e.hasOwnProperty(r))continue;let o=e[r];if(o===void 0)continue;s??={};let c,a=ut.None;Array.isArray(o)?(c=o[0],a=o[1]):c=o;let l=r;if(i!==null){if(!i.hasOwnProperty(r))continue;l=i[r]}t===0?bh(s,n,l,c,a):bh(s,n,l,c)}return s}function bh(t,e,n,s,i){let r;t.hasOwnProperty(n)?(r=t[n]).push(e,s):r=t[n]=[e,s],i!==void 0&&r.push(i)}function TS(t,e,n){let s=e.directiveStart,i=e.directiveEnd,r=t.data,o=e.attrs,c=[],a=null,l=null;for(let u=s;u<i;u++){let f=r[u],d=n?n.get(f):null,h=d?d.inputs:null,p=d?d.outputs:null;a=wh(0,f.inputs,u,a,h),l=wh(1,f.outputs,u,l,p);let m=a!==null&&o!==null&&!Xl(e)?KS(a,u,o):null;c.push(m)}a!==null&&(a.hasOwnProperty("class")&&(e.flags|=8),a.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=a,e.outputs=l}function AS(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function go(t,e,n,s,i,r,o,c){let a=r2(e,n),l=e.inputs,u;!c&&l!=null&&(u=l[s])?(N8(t,n,u,s,i),io(e)&&kS(n,e.index)):e.type&3?(s=AS(s),i=o!=null?o(i,e.value||"",s):i,r.setProperty(a,s,i)):e.type&12}function kS(t,e){let n=Q1(e,t);n[$]&16||(n[$]|=64)}function x8(t,e,n,s){if(bp()){let i=s===null?null:{"":-1},r=VS(t,n),o,c;r===null?o=c=null:[o,c]=r,o!==null&&Tm(t,e,n,o,i,c),i&&jS(n,s,i)}n.mergedAttrs=N0(n.mergedAttrs,n.attrs)}function Tm(t,e,n,s,i,r){for(let l=0;l<s.length;l++)nl(j4(n,e),t,s[l].type);BS(n,t.data.length,s.length);for(let l=0;l<s.length;l++){let u=s[l];u.providersResolver&&u.providersResolver(u)}let o=!1,c=!1,a=xm(t,e,s.length,null);for(let l=0;l<s.length;l++){let u=s[l];n.mergedAttrs=N0(n.mergedAttrs,u.hostAttrs),HS(t,n,e,a,u),US(a,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let f=u.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),a++}TS(t,n,r)}function RS(t,e,n,s,i){let r=i.hostBindings;if(r){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;PS(o)!=c&&o.push(c),o.push(n,s,r)}}function PS(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function OS(t,e,n,s){let i=n.directiveStart,r=n.directiveEnd;io(n)&&$S(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||j4(n,e),G1(s,e);let o=n.initialInputs;for(let c=i;c<r;c++){let a=t.data[c],l=Un(e,t,c,n);if(G1(l,e),o!==null&&GS(e,c-i,l,a,n,o),y1(a)){let u=Q1(n.index,e);u[M2]=Un(e,t,c,n)}}}function Am(t,e,n){let s=n.directiveStart,i=n.directiveEnd,r=n.index,o=eE();try{Vn(r);for(let c=s;c<i;c++){let a=t.data[c],l=e[c];el(c),(a.hostBindings!==null||a.hostVars!==0||a.hostAttrs!==null)&&FS(a,l)}}finally{Vn(-1),el(o)}}function FS(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function VS(t,e){let n=t.directiveRegistry,s=null,i=null;if(n)for(let r=0;r<n.length;r++){let o=n[r];if(sp(e,o.selectors,!1))if(s||(s=[]),y1(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),s.unshift(...c,o);let a=c.length;Cl(t,e,a)}else s.unshift(o),Cl(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,s,i),s.push(o)}return s===null?null:[s,i]}function Cl(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function jS(t,e,n){if(e){let s=t.localNames=[];for(let i=0;i<e.length;i+=2){let r=n[e[i+1]];if(r==null)throw new _(-301,!1);s.push(e[i],r)}}}function US(t,e,n){if(n){if(e.exportAs)for(let s=0;s<e.exportAs.length;s++)n[e.exportAs[s]]=t;y1(e)&&(n[""]=t)}}function BS(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function HS(t,e,n,s,i){t.data[s]=i;let r=i.factory||(i.factory=Pn(i.type,!0)),o=new jn(r,y1(i),S);t.blueprint[s]=o,n[s]=o,RS(t,e,s,xm(t,n,i.hostVars,q2),i)}function $S(t,e,n){let s=r2(e,t),i=Im(n),r=t[_2].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=yo(t,mo(t,i,null,o,s,e,null,r.createRenderer(s,n),null,null,null));t[e.index]=c}function WS(t,e,n,s,i,r){let o=r2(t,e);qS(e[Ie],o,r,t.value,n,s,i)}function qS(t,e,n,s,i,r,o){if(r==null)t.removeAttribute(e,i,n);else{let c=o==null?j0(r):o(r,s||"",i);t.setAttribute(e,i,c,n)}}function GS(t,e,n,s,i,r){let o=r[e];if(o!==null)for(let c=0;c<o.length;){let a=o[c++],l=o[c++],u=o[c++],f=o[c++];Dm(s,n,a,l,u,f)}}function KS(t,e,n){let s=null,i=0;for(;i<n.length;){let r=n[i];if(r===0){i+=4;continue}else if(r===5){i+=2;continue}if(typeof r=="number")break;if(t.hasOwnProperty(r)){s===null&&(s=[]);let o=t[r];for(let c=0;c<o.length;c+=3)if(o[c]===e){s.push(r,o[c+1],o[c+2],n[i+1]);break}}i+=2}return s}function km(t,e,n,s){return[t,!0,0,e,null,s,null,n,null,null]}function Rm(t,e){let n=t.contentQueries;if(n!==null){let s=he(null);try{for(let i=0;i<n.length;i+=2){let r=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];u8(r),c.contentQueries(2,e[o],o)}}}finally{he(s)}}}function yo(t,e){return t[k0]?t[ah][v2]=e:t[k0]=e,t[ah]=e,e}function vl(t,e,n){u8(0);let s=he(null);try{e(t,n)}finally{he(s)}}function Pm(t){return t[A0]||(t[A0]=[])}function Om(t){return t.cleanup||(t.cleanup=[])}function QS(t,e,n){return(t===null||y1(t))&&(n=Fz(n[e.index])),n[Ie]}function Fm(t,e){let n=t[ri],s=n?n.get(B2,null):null;s&&s.handleError(e)}function N8(t,e,n,s,i){for(let r=0;r<n.length;){let o=n[r++],c=n[r++],a=n[r++],l=e[o],u=t.data[o];Dm(u,l,s,c,a,i)}}function YS(t,e,n){let s=Mp(e,t);rS(t[Ie],s,n)}function ZS(t,e){let n=Q1(e,t),s=n[te];XS(s,n);let i=n[H2];i!==null&&n[T0]===null&&(n[T0]=v8(i,n[ri])),I8(s,n,n[M2])}function XS(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function I8(t,e,n){f8(e);try{let s=t.viewQuery;s!==null&&vl(1,s,n);let i=t.template;i!==null&&Nm(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[g1]?.finishViewCreation(t),t.staticContentQueries&&Rm(t,e),t.staticViewQueries&&vl(2,t.viewQuery,n);let r=t.components;r!==null&&JS(e,r)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{e[$]&=-5,d8()}}function JS(t,e){for(let n=0;n<e.length;n++)ZS(t,e[n])}function eD(t,e,n,s){let i=he(null);try{let r=e.tView,c=t[$]&4096?4096:16,a=mo(t,r,n,c,null,e,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null),l=t[e.index];a[B0]=l;let u=t[g1];return u!==null&&(a[g1]=u.createEmbeddedView(r)),I8(r,a,n),a}finally{he(i)}}function zh(t,e){return!e||e.firstChild===null||Kp(t)}function tD(t,e,n,s=!0){let i=e[te];if(uS(i,e,t,n),s){let o=yl(n,t),c=e[Ie],a=w8(c,t[Fn]);a!==null&&aS(i,t[jt],c,e,a,o)}let r=e[T0];r!==null&&r.firstChild!==null&&(r.firstChild=null)}function B4(t,e,n,s,i=!1){for(;n!==null;){let r=e[n.index];r!==null&&s.push(U2(r)),L1(r)&&nD(r,s);let o=n.type;if(o&8)B4(t,e,n.child,s);else if(o&32){let c=L8(n,e),a;for(;a=c();)s.push(a)}else if(o&16){let c=Lm(e,n);if(Array.isArray(c))s.push(...c);else{let a=P0(e[L2]);B4(a[te],a,c,s,!0)}}n=i?n.projectionNext:n.next}return s}function nD(t,e){for(let n=Vt;n<t.length;n++){let s=t[n],i=s[te].firstChild;i!==null&&B4(s[te],s,i,e)}t[Fn]!==t[H2]&&e.push(t[Fn])}var Vm=[];function sD(t){return t[On]??iD(t)}function iD(t){let e=Vm.pop()??Object.create(oD);return e.lView=t,e}function rD(t){t.lView[On]!==t&&(t.lView=null,Vm.push(t))}var oD=O(g({},ra),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{R0(t.lView)},consumerOnSignalRead(){this.lView[On]=this}}),jm=100;function Um(t,e=!0,n=0){let s=t[_2],i=s.rendererFactory,r=!1;r||i.begin?.();try{cD(t,n)}catch(o){throw e&&Fm(t,o),o}finally{r||(i.end?.(),s.inlineEffectRunner?.flush())}}function cD(t,e){Ml(t,e);let n=0;for(;o8(t);){if(n===jm)throw new _(103,!1);n++,Ml(t,1)}}function aD(t,e,n,s){let i=e[$];if((i&256)===256)return;let r=!1;!r&&e[_2].inlineEffectRunner?.flush(),f8(e);let o=null,c=null;!r&&lD(t)&&(c=sD(e),o=Ld(c));try{Lp(e),Zz(t.bindingStartIndex),n!==null&&Nm(t,e,n,2,s);let a=(i&3)===3;if(!r)if(a){let f=t.preOrderCheckHooks;f!==null&&S4(e,f,null)}else{let f=t.preOrderHooks;f!==null&&D4(e,f,0,null),Ta(e,0)}if(uD(e),Bm(e,0),t.contentQueries!==null&&Rm(t,e),!r)if(a){let f=t.contentCheckHooks;f!==null&&S4(e,f)}else{let f=t.contentHooks;f!==null&&D4(e,f,1),Ta(e,1)}bS(t,e);let l=t.components;l!==null&&$m(e,l,0);let u=t.viewQuery;if(u!==null&&vl(2,u,s),!r)if(a){let f=t.viewCheckHooks;f!==null&&S4(e,f)}else{let f=t.viewHooks;f!==null&&D4(e,f,2),Ta(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ia]){for(let f of e[Ia])f();e[Ia]=null}r||(e[$]&=-73)}catch(a){throw R0(e),a}finally{c!==null&&(wd(c,o),rD(c)),d8()}}function lD(t){return t.type!==2}function Bm(t,e){for(let n=Yp(t);n!==null;n=Zp(n))for(let s=Vt;s<n.length;s++){let i=n[s];Hm(i,e)}}function uD(t){for(let e=Yp(t);e!==null;e=Zp(e)){if(!(e[$]&n8.HasTransplantedViews))continue;let n=e[oi];for(let s=0;s<n.length;s++){let i=n[s],r=i[ct];Uz(i)}}}function fD(t,e,n){let s=Q1(e,t);Hm(s,n)}function Hm(t,e){r8(t)&&Ml(t,e)}function Ml(t,e){let s=t[te],i=t[$],r=t[On],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(r?.dirty&&oa(r)),r&&(r.dirty=!1),t[$]&=-9217,o)aD(s,t,s.template,t[M2]);else if(i&8192){Bm(t,1);let c=s.components;c!==null&&$m(t,c,1)}}function $m(t,e,n){for(let s=0;s<e.length;s++)fD(t,e[s],n)}function T8(t){for(t[_2].changeDetectionScheduler?.notify();t;){t[$]|=64;let e=P0(t);if(Nz(t)&&!e)return t;t=e}return null}var Bn=class{get rootNodes(){let e=this._lView,n=e[te];return B4(n,e,n.firstChild,[])}constructor(e,n,s=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[M2]}set context(e){this._lView[M2]=e}get destroyed(){return(this._lView[$]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ct];if(L1(e)){let n=e[P4],s=n?n.indexOf(this):-1;s>-1&&(gl(e,s),k4(n,s))}this._attachedToViewContainer=!1}Cm(this._lView[te],this._lView)}onDestroy(e){wp(this._lView,e)}markForCheck(){T8(this._cdRefInjectingView||this._lView)}detach(){this._lView[$]&=-129}reattach(){Ja(this._lView),this._lView[$]|=128}detectChanges(){this._lView[$]|=1024,Um(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,gm(this._lView[te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new _(902,!1);this._appRef=e,Ja(this._lView)}},Hn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=pD;let t=e;return t})(),dD=Hn,hD=class extends dD{constructor(e,n,s){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,s){let i=eD(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:s});return new Bn(i)}};function pD(){return Co(ft(),oe())}function Co(t,e){return t.type&4?new hD(e,t,pi(t,e)):null}var TZ=new RegExp(`^(\\d+)*(${xE}|${DE})*(.*)`);var mD=()=>null;function Eh(t,e){return mD(t,e)}var ai=class{},_l=class{},H4=class{};function gD(t){let e=Error(`No component factory found for ${vt(t)}.`);return e[yD]=t,e}var yD="ngComponent";var Ll=class{resolveComponentFactory(e){throw gD(e)}},gi=(()=>{let e=class e{};e.NULL=new Ll;let t=e;return t})(),$n=class{},G2=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>CD();let t=e;return t})();function CD(){let t=oe(),e=ft(),n=Q1(e.index,t);return(kn(n)?n:t)[Ie]}var vD=(()=>{let e=class e{};e.\u0275prov=x({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Oa={};var Sh=new Set;function q0(t){Sh.has(t)||(Sh.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Dh(...t){}function MD(){let t=typeof He.requestAnimationFrame=="function",e=He[t?"requestAnimationFrame":"setTimeout"],n=He[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let s=e[Zone.__symbol__("OriginalDelegate")];s&&(e=s);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var X=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oe(!1),this.onMicrotaskEmpty=new Oe(!1),this.onStable=new Oe(!1),this.onError=new Oe(!1),typeof Zone>"u")throw new _(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!s&&n,i.shouldCoalesceRunChangeDetection=s,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=MD().nativeRequestAnimationFrame,wD(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new _(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new _(909,!1)}run(e,n,s){return this._inner.run(e,n,s)}runTask(e,n,s,i){let r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,e,_D,Dh,Dh);try{return r.runTask(o,n,s)}finally{r.cancelTask(o)}}runGuarded(e,n,s){return this._inner.runGuarded(e,n,s)}runOutsideAngular(e){return this._outer.run(e)}},_D={};function A8(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function LD(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(He,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,wl(t),t.isCheckStableRunning=!0,A8(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),wl(t))}function wD(t){let e=()=>{LD(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,s,i,r,o,c)=>{if(bD(c))return n.invokeTask(i,r,o,c);try{return xh(t),n.invokeTask(i,r,o,c)}finally{(t.shouldCoalesceEventChangeDetection&&r.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Nh(t)}},onInvoke:(n,s,i,r,o,c,a)=>{try{return xh(t),n.invoke(i,r,o,c,a)}finally{t.shouldCoalesceRunChangeDetection&&e(),Nh(t)}},onHasTask:(n,s,i,r)=>{n.hasTask(i,r),s===i&&(r.change=="microTask"?(t._hasPendingMicrotasks=r.microTask,wl(t),A8(t)):r.change=="macroTask"&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(n,s,i,r)=>(n.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}function wl(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function xh(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Nh(t){t._nesting--,A8(t)}var bl=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oe,this.onMicrotaskEmpty=new Oe,this.onStable=new Oe,this.onError=new Oe}run(e,n,s){return e.apply(n,s)}runGuarded(e,n,s){return e.apply(n,s)}runOutsideAngular(e){return e()}runTask(e,n,s,i){return e.apply(n,s)}};function bD(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function zD(t="zone.js",e){return t==="noop"?new bl:t==="zone.js"?new X(e):t}var Js=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Js||{}),ED={destroy(){}};function vo(t,e){!e&&Sz(vo);let n=e?.injector??E(_t);if(!nS(n))return ED;q0("NgAfterNextRender");let s=n.get(k8),i=s.handler??=new El,r=e?.phase??Js.MixedReadWrite,o=()=>{i.unregister(a),c()},c=n.get(m8).onDestroy(o),a=_1(n,()=>new zl(r,()=>{o(),t()}));return i.register(a),{destroy:o}}var zl=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=E(X),this.errorHandler=E(B2,{optional:!0}),E(ai,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},El=class{constructor(){this.executingCallbacks=!1,this.buckets={[Js.EarlyRead]:new Set,[Js.Write]:new Set,[Js.MixedReadWrite]:new Set,[Js.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},k8=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let s=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of s)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=x({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function $4(t,e,n){let s=n?t.styles:null,i=n?t.classes:null,r=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")r=c;else if(r==1)i=$a(i,c);else if(r==2){let a=c,l=e[++o];s=$a(s,a+": "+l+";")}}n?t.styles=s:t.stylesWithoutHost=s,n?t.classes=i:t.classesWithoutHost=i}var W4=class extends gi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=q1(e);return new li(n,this.ngModule)}};function Ih(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let s=t[n];s!==void 0&&e.push({propName:Array.isArray(s)?s[0]:s,templateName:n})}return e}function SD(t){let e=t.toLowerCase();return e==="svg"?kz:e==="math"?Rz:null}var Sl=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,s){s=J4(s);let i=this.injector.get(e,Oa,s);return i!==Oa||n===Oa?i:this.parentInjector.get(e,n,s)}},li=class extends H4{get inputs(){let e=this.componentDef,n=e.inputTransforms,s=Ih(e.inputs);if(n!==null)for(let i of s)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return s}get outputs(){return Ih(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=fz(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,s,i){let r=he(null);try{i=i||this.ngModule;let o=i instanceof At?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new Sl(e,o):e,a=c.get($n,null);if(a===null)throw new _(407,!1);let l=c.get(vD,null),u=c.get(k8,null),f=c.get(ai,null),d={rendererFactory:a,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:f},h=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",m=s?SS(h,s,this.componentDef.encapsulation,c):mm(h,p,SD(p)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let M=null;m!==null&&(M=v8(m,c,!0));let z=D8(0,null,null,1,0,null,null,null,null,null,null),v=mo(null,z,null,y,null,null,d,h,c,null,M);f8(v);let D,j;try{let B=this.componentDef,ee,ae=null;B.findHostDirectiveDefs?(ee=[],ae=new Map,B.findHostDirectiveDefs(B,ee,ae),ee.push(B)):ee=[B];let je=DD(v,m),t2=xD(je,m,B,ee,v,d,h);j=_p(z,kt),m&&TD(h,B,m,s),n!==void 0&&AD(j,this.ngContentSelectors,n),D=ID(t2,B,ee,ae,v,[kD]),I8(z,v,null)}finally{d8()}return new Dl(this.componentType,D,pi(j,v),v,j)}finally{he(r)}}},Dl=class extends _l{constructor(e,n,s,i,r){super(),this.location=s,this._rootLView=i,this._tNode=r,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Bn(i,void 0,!1),this.componentType=e}setInput(e,n){let s=this._tNode.inputs,i;if(s!==null&&(i=s[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let r=this._rootLView;N8(r[te],r,i,e,n),this.previousInputValues.set(e,n);let o=Q1(this._tNode.index,r);T8(o)}}get injector(){return new Rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function DD(t,e){let n=t[te],s=kt;return t[s]=e,mi(n,s,2,"#host",null)}function xD(t,e,n,s,i,r,o){let c=i[te];ND(s,t,e,o);let a=null;e!==null&&(a=v8(e,i[ri]));let l=r.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let f=mo(i,Im(n),null,u,i[t.index],t,r,l,null,null,a);return c.firstCreatePass&&Cl(c,t,s.length-1),yo(i,f),i[t.index]=f}function ND(t,e,n,s){for(let i of t)e.mergedAttrs=N0(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&($4(e,e.mergedAttrs,!0),n!==null&&zm(s,n,e))}function ID(t,e,n,s,i,r){let o=ft(),c=i[te],a=r2(o,i);Tm(c,i,o,n,null,s);for(let u=0;u<n.length;u++){let f=o.directiveStart+u,d=Un(i,c,f,o);G1(d,i)}Am(c,i,o),a&&G1(a,i);let l=Un(i,c,o.directiveStart+o.componentOffset,o);if(t[M2]=i[M2]=l,r!==null)for(let u of r)u(l,e);return z8(c,o,i),l}function TD(t,e,n,s){if(s)Ka(t,n,["ng-version","17.3.11"]);else{let{attrs:i,classes:r}=dz(e.selectors[0]);i&&Ka(t,n,i),r&&r.length>0&&bm(t,n,r.join(" "))}}function AD(t,e,n){let s=t.projection=[];for(let i=0;i<e.length;i++){let r=n[i];s.push(r!=null?Array.from(r):null)}}function kD(){let t=ft();ao(oe()[te],t)}var Y1=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=RD;let t=e;return t})();function RD(){let t=ft();return qm(t,oe())}var PD=Y1,Wm=class extends PD{constructor(e,n,s){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=s}get element(){return pi(this._hostTNode,this._hostLView)}get injector(){return new Rn(this._hostTNode,this._hostLView)}get parentInjector(){let e=h8(this._hostTNode,this._hostLView);if(Op(e)){let n=F4(e,this._hostLView),s=O4(e),i=n[te].data[s+8];return new Rn(i,n)}else return new Rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Th(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Vt}createEmbeddedView(e,n,s){let i,r;typeof s=="number"?i=s:s!=null&&(i=s.index,r=s.injector);let o=Eh(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},r,o);return this.insertImpl(c,i,zh(this._hostTNode,o)),c}createComponent(e,n,s,i,r){let o=e&&!xz(e),c;if(o)c=n;else{let p=n||{};c=p.index,s=p.injector,i=p.projectableNodes,r=p.environmentInjector||p.ngModuleRef}let a=o?e:new li(q1(e)),l=s||this.parentInjector;if(!r&&a.ngModule==null){let m=(o?l:this.parentInjector).get(At,null);m&&(r=m)}let u=q1(a.componentType??{}),f=Eh(this._lContainer,u?.id??null),d=f?.firstChild??null,h=a.create(l,i,d,r);return this.insertImpl(h.hostView,c,zh(this._hostTNode,f)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,s){let i=e._lView;if(jz(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let a=i[ct],l=new Wm(a,a[jt],a[ct]);l.detach(l.indexOf(e))}}let r=this._adjustIndex(n),o=this._lContainer;return tD(o,i,r,s),e.attachToViewContainerRef(),Zh(Fa(o),r,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Th(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),s=gl(this._lContainer,n);s&&(k4(Fa(this._lContainer),n),Cm(s[te],s))}detach(e){let n=this._adjustIndex(e,-1),s=gl(this._lContainer,n);return s&&k4(Fa(this._lContainer),n)!=null?new Bn(s):null}_adjustIndex(e,n=0){return e??this.length+n}};function Th(t){return t[P4]}function Fa(t){return t[P4]||(t[P4]=[])}function qm(t,e){let n,s=e[t.index];return L1(s)?n=s:(n=km(s,e,null,t),e[t.index]=n,yo(e,n)),FD(n,e,t,s),new Wm(n,t,e)}function OD(t,e){let n=t[Ie],s=n.createComment(""),i=r2(e,t),r=w8(n,i);return U4(n,r,s,gS(n,i),!1),s}var FD=UD,VD=()=>!1;function jD(t,e,n){return VD(t,e,n)}function UD(t,e,n,s){if(t[Fn])return;let i;n.type&8?i=U2(s):i=OD(e,n),t[Fn]=i}var xl=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Nl=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let s=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let r=0;r<s;r++){let o=n.getByIndex(r),c=this.queries[o.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)R8(e,n).matches!==null&&this.queries[n].setDirty()}},Il=class{constructor(e,n,s=null){this.flags=n,this.read=s,typeof e=="string"?this.predicate=QD(e):this.predicate=e}},Tl=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let s=0;s<this.length;s++){let i=n!==null?n.length:0,r=this.getByIndex(s).embeddedTView(e,i);r&&(r.indexInDeclarationView=s,n!==null?n.push(r):n=[r])}return n!==null?new t(n):null}template(e,n){for(let s=0;s<this.queries.length;s++)this.queries[s].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Al=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,s=e.parent;for(;s!==null&&s.type&8&&s.index!==n;)s=s.parent;return n===(s!==null?s.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let s=this.metadata.predicate;if(Array.isArray(s))for(let i=0;i<s.length;i++){let r=s[i];this.matchTNodeWithReadOption(e,n,BD(n,r)),this.matchTNodeWithReadOption(e,n,x4(n,e,r,!1,!1))}else s===Hn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,x4(n,e,s,!1,!1))}matchTNodeWithReadOption(e,n,s){if(s!==null){let i=this.metadata.read;if(i!==null)if(i===Lt||i===Y1||i===Hn&&n.type&4)this.addMatch(n.index,-2);else{let r=x4(n,e,i,!1,!1);r!==null&&this.addMatch(n.index,r)}else this.addMatch(n.index,s)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function BD(t,e){let n=t.localNames;if(n!==null){for(let s=0;s<n.length;s+=2)if(n[s]===e)return n[s+1]}return null}function HD(t,e){return t.type&11?pi(t,e):t.type&4?Co(t,e):null}function $D(t,e,n,s){return n===-1?HD(e,t):n===-2?WD(t,e,s):Un(t,t[te],n,e)}function WD(t,e,n){if(n===Lt)return pi(e,t);if(n===Hn)return Co(e,t);if(n===Y1)return qm(e,t)}function Gm(t,e,n,s){let i=e[g1].queries[s];if(i.matches===null){let r=t.data,o=n.matches,c=[];for(let a=0;o!==null&&a<o.length;a+=2){let l=o[a];if(l<0)c.push(null);else{let u=r[l];c.push($D(e,u,o[a+1],n.metadata.read))}}i.matches=c}return i.matches}function kl(t,e,n,s){let i=t.queries.getByIndex(n),r=i.matches;if(r!==null){let o=Gm(t,e,i,n);for(let c=0;c<r.length;c+=2){let a=r[c];if(a>0)s.push(o[c/2]);else{let l=r[c+1],u=e[-a];for(let f=Vt;f<u.length;f++){let d=u[f];d[B0]===d[ct]&&kl(d[te],d,l,s)}if(u[oi]!==null){let f=u[oi];for(let d=0;d<f.length;d++){let h=f[d];kl(h[te],h,l,s)}}}}}return s}function qD(t,e){return t[g1].queries[e].queryList}function GD(t,e,n){let s=new ol((n&4)===4);return NS(t,e,s,s.destroy),(e[g1]??=new Nl).queries.push(new xl(s))-1}function KD(t,e,n,s){let i=Fe();if(i.firstCreatePass){let r=ft();YD(i,new Il(e,n,s),r.index),ZD(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return GD(i,oe(),n)}function QD(t){return t.split(",").map(e=>e.trim())}function YD(t,e,n){t.queries===null&&(t.queries=new Tl),t.queries.track(new Al(e,n))}function ZD(t,e){let n=t.contentQueries||(t.contentQueries=[]),s=n.length?n[n.length-1]:-1;e!==s&&n.push(t.queries.length-1,e)}function R8(t,e){return t.queries.getByIndex(e)}function XD(t,e){let n=t[te],s=R8(n,e);return s.crossesNgTemplate?kl(n,t,e,[]):Gm(n,t,s,e)}function JD(t){return typeof t=="function"&&t[En]!==void 0}function G0(t,e){q0("NgSignals");let n=Nd(t),s=n[En];return e?.equal&&(s.equal=e.equal),n.set=i=>ca(s,i),n.update=i=>Id(s,i),n.asReadonly=ex.bind(n),n}function ex(){let t=this[En];if(t.readonlyFn===void 0){let e=()=>this();e[En]=t,t.readonlyFn=e}return t.readonlyFn}function Km(t){return JD(t)&&typeof t.set=="function"}function tx(t){let e=[],n=new Map;function s(i){let r=n.get(i);if(!r){let o=t(i);n.set(i,r=o.then(rx))}return r}return q4.forEach((i,r)=>{let o=[];i.templateUrl&&o.push(s(i.templateUrl).then(l=>{i.template=l}));let c=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=c,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((f,d)=>{c.push(""),o.push(s(f).then(h=>{c[l+d]=h,u.splice(u.indexOf(f),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(s(i.styleUrl).then(l=>{c.push(l),i.styleUrl=void 0}));let a=Promise.all(o).then(()=>ox(r));e.push(a)}),sx(),Promise.all(e).then(()=>{})}var q4=new Map,nx=new Set;function sx(){let t=q4;return q4=new Map,t}function ix(){return q4.size===0}function rx(t){return typeof t=="string"?t:t.text()}function ox(t){nx.delete(t)}function cx(t){return Object.getPrototypeOf(t.prototype).constructor}function K2(t){let e=cx(t.type),n=!0,s=[t];for(;e;){let i;if(y1(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new _(903,!1);i=e.\u0275dir}if(i){if(n){s.push(i);let o=t;o.inputs=w4(t.inputs),o.inputTransforms=w4(t.inputTransforms),o.declaredInputs=w4(t.declaredInputs),o.outputs=w4(t.outputs);let c=i.hostBindings;c&&dx(t,c);let a=i.viewQuery,l=i.contentQueries;if(a&&ux(t,a),l&&fx(t,l),ax(t,i),Nb(t.outputs,i.outputs),y1(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let r=i.features;if(r)for(let o=0;o<r.length;o++){let c=r[o];c&&c.ngInherit&&c(t),c===K2&&(n=!1)}}e=Object.getPrototypeOf(e)}lx(s)}function ax(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let s=e.inputs[n];if(s!==void 0&&(t.inputs[n]=s,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(s)?s[0]:s;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function lx(t){let e=0,n=null;for(let s=t.length-1;s>=0;s--){let i=t[s];i.hostVars=e+=i.hostVars,i.hostAttrs=N0(i.hostAttrs,n=N0(n,i.hostAttrs))}}function w4(t){return t===ni?{}:t===Tt?[]:t}function ux(t,e){let n=t.viewQuery;n?t.viewQuery=(s,i)=>{e(s,i),n(s,i)}:t.viewQuery=e}function fx(t,e){let n=t.contentQueries;n?t.contentQueries=(s,i,r)=>{e(s,i,r),n(s,i,r)}:t.contentQueries=e}function dx(t,e){let n=t.hostBindings;n?t.hostBindings=(s,i)=>{e(s,i),n(s,i)}:t.hostBindings=e}function P8(t){let e=t.inputConfig,n={};for(let s in e)if(e.hasOwnProperty(s)){let i=e[s];Array.isArray(i)&&i[3]&&(n[s]=i[3])}t.inputTransforms=n}var K1=class{},O0=class{};var G4=class extends K1{constructor(e,n,s){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new W4(this);let i=cp(e);this._bootstrapComponents=pm(i.bootstrap),this._r3Injector=qp(e,n,[{provide:K1,useValue:this},{provide:gi,useValue:this.componentFactoryResolver},...s],vt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},K4=class extends O0{constructor(e){super(),this.moduleType=e}create(e){return new G4(this.moduleType,e,[])}};function hx(t,e,n){return new G4(t,e,n)}var Rl=class extends K1{constructor(e){super(),this.componentFactoryResolver=new W4(this),this.instance=null;let n=new I0([...e.providers,{provide:K1,useValue:this},{provide:gi,useValue:this.componentFactoryResolver}],e.parent||e8(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Mo(t,e,n=null){return new Rl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var _o=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ot(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Qm(t){return mx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function px(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),s;for(;!(s=n.next()).done;)e(s.value)}}function mx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function O8(t,e,n){return t[e]=n}function gx(t,e){return t[e]}function w2(t,e,n){let s=t[e];return Object.is(s,n)?!1:(t[e]=n,!0)}function yx(t,e,n,s){let i=w2(t,e,n);return w2(t,e+1,s)||i}function Cx(t){return(t.flags&32)===32}function vx(t,e,n,s,i,r,o,c,a){let l=e.consts,u=mi(e,t,4,o||null,ci(l,c));x8(e,n,u,ci(l,a)),ao(e,u);let f=u.tView=D8(2,u,s,i,r,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}function tt(t,e,n,s,i,r,o,c){let a=oe(),l=Fe(),u=t+kt,f=l.firstCreatePass?vx(u,l,a,e,n,s,i,r,o):l.data[u];Gn(f,!1);let d=Mx(l,a,f,t);oo()&&ho(l,a,d,f),G1(d,a);let h=km(d,a,d,f);return a[u]=h,yo(a,h),jD(h,f,a),ro(f)&&E8(l,a,f),o!=null&&S8(a,f,c),tt}var Mx=_x;function _x(t,e,n,s){return co(!0),e[Ie].createComment("")}function c2(t,e,n,s){let i=oe(),r=hi();if(w2(i,r,e)){let o=Fe(),c=H0();WS(c,i,t,e,n,s)}return c2}function Lx(t,e,n,s){return w2(t,hi(),n)?e+j0(n)+s:q2}function b4(t,e){return t<<17|e<<2}function Wn(t){return t>>17&32767}function wx(t){return(t&2)==2}function bx(t,e){return t&131071|e<<17}function Pl(t){return t|2}function ui(t){return(t&131068)>>2}function Va(t,e){return t&-131069|e<<2}function zx(t){return(t&1)===1}function Ol(t){return t|1}function Ex(t,e,n,s,i,r){let o=r?e.classBindings:e.styleBindings,c=Wn(o),a=ui(o);t[s]=n;let l=!1,u;if(Array.isArray(n)){let f=n;u=f[1],(u===null||U0(f,u)>0)&&(l=!0)}else u=n;if(i)if(a!==0){let d=Wn(t[c+1]);t[s+1]=b4(d,c),d!==0&&(t[d+1]=Va(t[d+1],s)),t[c+1]=bx(t[c+1],s)}else t[s+1]=b4(c,0),c!==0&&(t[c+1]=Va(t[c+1],s)),c=s;else t[s+1]=b4(a,0),c===0?c=s:t[a+1]=Va(t[a+1],s),a=s;l&&(t[s+1]=Pl(t[s+1])),Ah(t,u,s,!0),Ah(t,u,s,!1),Sx(e,u,t,s,r),o=b4(c,a),r?e.classBindings=o:e.styleBindings=o}function Sx(t,e,n,s,i){let r=i?t.residualClasses:t.residualStyles;r!=null&&typeof e=="string"&&U0(r,e)>=0&&(n[s+1]=Ol(n[s+1]))}function Ah(t,e,n,s){let i=t[n+1],r=e===null,o=s?Wn(i):ui(i),c=!1;for(;o!==0&&(c===!1||r);){let a=t[o],l=t[o+1];Dx(a,e)&&(c=!0,t[o+1]=s?Ol(l):Pl(l)),o=s?Wn(l):ui(l)}c&&(t[n+1]=s?Pl(i):Ol(i))}function Dx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?U0(t,e)>=0:!1}var C2={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xx(t){return t.substring(C2.key,C2.keyEnd)}function Nx(t){return Ix(t),Ym(t,Zm(t,0,C2.textEnd))}function Ym(t,e){let n=C2.textEnd;return n===e?-1:(e=C2.keyEnd=Tx(t,C2.key=e,n),Zm(t,e,n))}function Ix(t){C2.key=0,C2.keyEnd=0,C2.value=0,C2.valueEnd=0,C2.textEnd=t.length}function Zm(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Tx(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function F(t,e,n){let s=oe(),i=hi();if(w2(s,i,e)){let r=Fe(),o=H0();go(r,o,s,t,e,s[Ie],n,!1)}return F}function Fl(t,e,n,s,i){let r=e.inputs,o=i?"class":"style";N8(t,n,r[o],o,s)}function Yn(t,e,n){return Xm(t,e,n,!1),Yn}function K0(t,e){return Xm(t,e,null,!0),K0}function z1(t){kx(jx,Ax,t,!0)}function Ax(t,e){for(let n=Nx(e);n>=0;n=Ym(e,n))Zl(t,xx(e),!0)}function Xm(t,e,n,s){let i=oe(),r=Fe(),o=Sp(2);if(r.firstUpdatePass&&eg(r,t,o,s),e!==q2&&w2(i,o,e)){let c=r.data[Kn()];tg(r,c,i,i[Ie],t,i[o+1]=Bx(e,n),s,o)}}function kx(t,e,n,s){let i=Fe(),r=Sp(2);i.firstUpdatePass&&eg(i,null,r,s);let o=oe();if(n!==q2&&w2(o,r,n)){let c=i.data[Kn()];if(ng(c,s)&&!Jm(i,r)){let a=s?c.classesWithoutHost:c.stylesWithoutHost;a!==null&&(n=$a(a,n||"")),Fl(i,c,o,n,s)}else Ux(i,c,o,o[Ie],o[r+1],o[r+1]=Vx(t,e,n),s,r)}}function Jm(t,e){return e>=t.expandoStartIndex}function eg(t,e,n,s){let i=t.data;if(i[n+1]===null){let r=i[Kn()],o=Jm(t,n);ng(r,s)&&e===null&&!o&&(e=!1),e=Rx(i,r,e,s),Ex(i,r,e,n,o,s)}}function Rx(t,e,n,s){let i=Dp(t),r=s?e.residualClasses:e.residualStyles;if(i===null)(s?e.classBindings:e.styleBindings)===0&&(n=ja(null,t,e,n,s),n=F0(n,e.attrs,s),r=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=ja(i,t,e,n,s),r===null){let a=Px(t,e,s);a!==void 0&&Array.isArray(a)&&(a=ja(null,t,e,a[1],s),a=F0(a,e.attrs,s),Ox(t,e,s,a))}else r=Fx(t,e,s)}return r!==void 0&&(s?e.residualClasses=r:e.residualStyles=r),n}function Px(t,e,n){let s=n?e.classBindings:e.styleBindings;if(ui(s)!==0)return t[Wn(s)]}function Ox(t,e,n,s){let i=n?e.classBindings:e.styleBindings;t[Wn(i)]=s}function Fx(t,e,n){let s,i=e.directiveEnd;for(let r=1+e.directiveStylingLast;r<i;r++){let o=t[r].hostAttrs;s=F0(s,o,n)}return F0(s,e.attrs,n)}function ja(t,e,n,s,i){let r=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(r=e[c],s=F0(s,r.hostAttrs,i),r!==t);)c++;return t!==null&&(n.directiveStylingLast=c),s}function F0(t,e,n){let s=n?1:2,i=-1;if(e!==null)for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?i=o:i===s&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Zl(t,o,n?!0:e[++r]))}return t===void 0?null:t}function Vx(t,e,n){if(n==null||n==="")return Tt;let s=[],i=o2(n);if(Array.isArray(i))for(let r=0;r<i.length;r++)t(s,i[r],!0);else if(typeof i=="object")for(let r in i)i.hasOwnProperty(r)&&t(s,r,i[r]);else typeof i=="string"&&e(s,i);return s}function jx(t,e,n){let s=String(e);s!==""&&!s.includes(" ")&&Zl(t,s,n)}function Ux(t,e,n,s,i,r,o,c){i===q2&&(i=Tt);let a=0,l=0,u=0<i.length?i[0]:null,f=0<r.length?r[0]:null;for(;u!==null||f!==null;){let d=a<i.length?i[a+1]:void 0,h=l<r.length?r[l+1]:void 0,p=null,m;u===f?(a+=2,l+=2,d!==h&&(p=f,m=h)):f===null||u!==null&&u<f?(a+=2,p=u):(l+=2,p=f,m=h),p!==null&&tg(t,e,n,s,p,m,o,c),u=a<i.length?i[a]:null,f=l<r.length?r[l]:null}}function tg(t,e,n,s,i,r,o,c){if(!(e.type&3))return;let a=t.data,l=a[c+1],u=zx(l)?kh(a,e,n,i,ui(l),o):void 0;if(!Q4(u)){Q4(r)||wx(l)&&(r=kh(a,null,n,i,c,o));let f=Mp(Kn(),n);LS(s,o,f,i,r)}}function kh(t,e,n,s,i,r){let o=e===null,c;for(;i>0;){let a=t[i],l=Array.isArray(a),u=l?a[1]:a,f=u===null,d=n[i+1];d===q2&&(d=f?Tt:void 0);let h=f?xa(d,s):u===s?d:void 0;if(l&&!Q4(h)&&(h=xa(a,s)),Q4(h)&&(c=h,o))return c;let p=t[i+1];i=o?Wn(p):ui(p)}if(e!==null){let a=r?e.residualClasses:e.residualStyles;a!=null&&(c=xa(a,s))}return c}function Q4(t){return t!==void 0}function Bx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=vt(o2(t)))),t}function ng(t,e){return(t.flags&(e?8:16))!==0}function Hx(t,e,n,s,i,r){let o=e.consts,c=ci(o,i),a=mi(e,t,2,s,c);return x8(e,n,a,ci(o,r)),a.attrs!==null&&$4(a,a.attrs,!1),a.mergedAttrs!==null&&$4(a,a.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,a),a}function L(t,e,n,s){let i=oe(),r=Fe(),o=kt+t,c=i[Ie],a=r.firstCreatePass?Hx(o,r,i,e,n,s):r.data[o],l=$x(r,i,a,c,e,t);i[o]=l;let u=ro(a);return Gn(a,!0),zm(c,l,a),!Cx(a)&&oo()&&ho(r,i,l,a),$z()===0&&G1(l,i),Wz(),u&&(E8(r,i,a),z8(r,a,i)),s!==null&&S8(i,a),L}function w(){let t=ft();c8()?a8():(t=t.parent,Gn(t,!1));let e=t;Gz(e)&&Kz(),qz();let n=Fe();return n.firstCreatePass&&(ao(n,t),s8(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&cE(e)&&Fl(n,e,oe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aE(e)&&Fl(n,e,oe(),e.stylesWithoutHost,!1),w}function Y(t,e,n,s){return L(t,e,n,s),w(),Y}var $x=(t,e,n,s,i,r)=>(co(!0),mm(s,i,sE()));function Wx(t,e,n,s,i){let r=e.consts,o=ci(r,s),c=mi(e,t,8,"ng-container",o);o!==null&&$4(c,o,!0);let a=ci(r,i);return x8(e,n,c,a),e.queries!==null&&e.queries.elementStart(e,c),c}function Lo(t,e,n){let s=oe(),i=Fe(),r=t+kt,o=i.firstCreatePass?Wx(r,i,s,e,n):i.data[r];Gn(o,!0);let c=qx(i,s,o,t);return s[r]=c,oo()&&ho(i,s,c,o),G1(c,s),ro(o)&&(E8(i,s,o),z8(i,o,s)),n!=null&&S8(s,o),Lo}function wo(){let t=ft(),e=Fe();return c8()?a8():(t=t.parent,Gn(t,!1)),e.firstCreatePass&&(ao(e,t),s8(t)&&e.queries.elementEnd(t)),wo}var qx=(t,e,n,s)=>(co(!0),oS(e[Ie],""));function E1(){return oe()}function F8(t,e,n){let s=oe(),i=hi();if(w2(s,i,e)){let r=Fe(),o=H0();go(r,o,s,t,e,s[Ie],n,!0)}return F8}function V8(t,e,n){let s=oe(),i=hi();if(w2(s,i,e)){let r=Fe(),o=H0(),c=Dp(r.data),a=QS(c,o,s);go(r,o,s,t,e,a,n,!0)}return V8}var An=void 0;function Gx(t){let e=t,n=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&s===0?1:5}var Kx=["en",[["a","p"],["AM","PM"],An],[["AM","PM"],An,An],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],An,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],An,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",An,"{1} 'at' {0}",An],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Gx],Ua={};function j8(t){let e=Qx(t),n=Rh(e);if(n)return n;let s=e.split("-")[0];if(n=Rh(s),n)return n;if(s==="en")return Kx;throw new _(701,!1)}function Rh(t){return t in Ua||(Ua[t]=He.ng&&He.ng.common&&He.ng.common.locales&&He.ng.common.locales[t]),Ua[t]}var yi=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(yi||{});function Qx(t){return t.toLowerCase().replace(/_/g,"-")}var Y4="en-US";var Yx=Y4;function Zx(t){typeof t=="string"&&(Yx=t.toLowerCase().replace(/_/g,"-"))}function Ee(t,e,n,s){let i=oe(),r=Fe(),o=ft();return sg(r,i,i[Ie],o,t,e,s),Ee}function Xx(t,e,n,s){let i=t.cleanup;if(i!=null)for(let r=0;r<i.length-1;r+=2){let o=i[r];if(o===n&&i[r+1]===s){let c=e[A0],a=i[r+2];return c.length>a?c[a]:null}typeof o=="string"&&(r+=2)}return null}function sg(t,e,n,s,i,r,o){let c=ro(s),l=t.firstCreatePass&&Om(t),u=e[M2],f=Pm(e),d=!0;if(s.type&3||o){let m=r2(s,e),y=o?o(m):m,M=f.length,z=o?D=>o(U2(D[s.index])):s.index,v=null;if(!o&&c&&(v=Xx(t,e,i,s.index)),v!==null){let D=v.__ngLastListenerFn__||v;D.__ngNextListenerFn__=r,v.__ngLastListenerFn__=r,d=!1}else{r=Oh(s,e,u,r,!1);let D=n.listen(y,i,r);f.push(r,D),l&&l.push(i,z,M,M+1)}}else r=Oh(s,e,u,r,!1);let h=s.outputs,p;if(d&&h!==null&&(p=h[i])){let m=p.length;if(m)for(let y=0;y<m;y+=2){let M=p[y],z=p[y+1],j=e[M][z].subscribe(r),B=f.length;f.push(r,j),l&&l.push(i,s.index,B,-(B+1))}}}function Ph(t,e,n,s){let i=he(null);try{return F2(6,e,n),n(s)!==!1}catch(r){return Fm(t,r),!1}finally{F2(7,e,n),he(i)}}function Oh(t,e,n,s,i){return function r(o){if(o===Function)return s;let c=t.componentOffset>-1?Q1(t.index,e):e;T8(c);let a=Ph(e,n,s,o),l=r.__ngNextListenerFn__;for(;l;)a=Ph(e,n,l,o)&&a,l=l.__ngNextListenerFn__;return i&&a===!1&&o.preventDefault(),a}}function Qe(t=1){return nE(t)}function Jx(t,e){let n=null,s=oz(t);for(let i=0;i<e.length;i++){let r=e[i];if(r==="*"){n=i;continue}if(s===null?sp(t,r,!0):lz(s,r))return i}return n}function ig(t){let e=oe()[L2][jt];if(!e.projection){let n=t?t.length:1,s=e.projection=Zb(n,null),i=s.slice(),r=e.child;for(;r!==null;){let o=t?Jx(r,t):0;o!==null&&(i[o]?i[o].projectionNext=r:s[o]=r,i[o]=r),r=r.next}}}function rg(t,e=0,n){let s=oe(),i=Fe(),r=mi(i,kt+t,16,null,n||null);r.projection===null&&(r.projection=e),a8(),(!s[T0]||zp())&&(r.flags&32)!==32&&MS(i,s,r)}function og(t,e,n,s){KD(t,e,n,s)}function cg(t){let e=oe(),n=Fe(),s=xp();u8(s+1);let i=R8(n,s);if(t.dirty&&Vz(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let r=XD(e,s);t.reset(r,_E),t.notifyOnChanges()}return!0}return!1}function ag(){return qD(oe(),xp())}function eN(t,e,n,s){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=s}function Zn(t){let e=Yz();return i8(e,kt+t)}function A(t,e=""){let n=oe(),s=Fe(),i=t+kt,r=s.firstCreatePass?mi(s,i,1,e,null):s.data[i],o=tN(s,n,r,e,t);n[i]=o,oo()&&ho(s,n,o,r),Gn(r,!1)}var tN=(t,e,n,s,i)=>(co(!0),iS(e[Ie],s));function U8(t){return Se("",t,""),U8}function Se(t,e,n){let s=oe(),i=Lx(s,t,e,n);return i!==q2&&YS(s,Kn(),i),Se}function bo(t,e,n){Km(e)&&(e=e());let s=oe(),i=hi();if(w2(s,i,e)){let r=Fe(),o=H0();go(r,o,s,t,e,s[Ie],n,!1)}return bo}function B8(t,e){let n=Km(t);return n&&t.set(e),n}function zo(t,e){let n=oe(),s=Fe(),i=ft();return sg(s,n,n[Ie],i,t,e),zo}function nN(t,e,n){let s=Fe();if(s.firstCreatePass){let i=y1(t);Vl(n,s.data,s.blueprint,i,!0),Vl(e,s.data,s.blueprint,i,!1)}}function Vl(t,e,n,s,i){if(t=Ct(t),Array.isArray(t))for(let r=0;r<t.length;r++)Vl(t[r],e,n,s,i);else{let r=Fe(),o=oe(),c=ft(),a=ii(t)?t:Ct(t.provide),l=hp(t),u=c.providerIndexes&1048575,f=c.directiveStart,d=c.providerIndexes>>20;if(ii(t)||!t.multi){let h=new jn(l,i,S),p=Ha(a,e,i?u:u+d,f);p===-1?(nl(j4(c,o),r,a),Ba(r,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{let h=Ha(a,e,u+d,f),p=Ha(a,e,u,u+d),m=h>=0&&n[h],y=p>=0&&n[p];if(i&&!y||!i&&!m){nl(j4(c,o),r,a);let M=rN(i?iN:sN,n.length,i,s,l);!i&&y&&(n[p].providerFactory=M),Ba(r,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(M),o.push(M)}else{let M=lg(n[i?p:h],l,!i&&s);Ba(r,t,h>-1?h:p,M)}!i&&s&&y&&n[p].componentProviders++}}}function Ba(t,e,n,s){let i=ii(e),r=Mz(e);if(i||r){let a=(r?Ct(e.useClass):e).prototype.ngOnDestroy;if(a){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[s,a]):l[u+1].push(s,a)}else l.push(n,a)}}}function lg(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ha(t,e,n,s){for(let i=n;i<s;i++)if(e[i]===t)return i;return-1}function sN(t,e,n,s){return jl(this.multi,[])}function iN(t,e,n,s){let i=this.multi,r;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=Un(n,n[te],this.providerFactory.index,s);r=c.slice(0,o),jl(i,r);for(let a=o;a<c.length;a++)r.push(c[a])}else r=[],jl(i,r);return r}function jl(t,e){for(let n=0;n<t.length;n++){let s=t[n];e.push(s())}return e}function rN(t,e,n,s,i){let r=new jn(t,n,S);return r.multi=[],r.index=e,r.componentProviders=0,lg(r,i,s&&!n),r}function Q0(t,e=[]){return n=>{n.providersResolver=(s,i)=>nN(s,i?i(t):t,e)}}var oN=(()=>{let e=class e{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){let i=up(!1,s.type),r=i.length>0?Mo([i],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,r)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(let s of this.cachedInjectors.values())s!==null&&s.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=x({token:e,providedIn:"environment",factory:()=>new e(C(At))});let t=e;return t})();function Z1(t){q0("NgStandalone"),t.getStandaloneInjector=e=>e.get(oN).getOrCreateStandaloneInjector(t)}function Ci(t,e,n){let s=l8()+t,i=oe();return i[s]===q2?O8(i,s,n?e.call(n):e()):gx(i,s)}function ug(t,e){let n=t[e];return n===q2?void 0:n}function cN(t,e,n,s,i,r){let o=e+n;return w2(t,o,i)?O8(t,o+1,r?s.call(r,i):s(i)):ug(t,o+1)}function aN(t,e,n,s,i,r,o){let c=e+n;return yx(t,c,i,r)?O8(t,c+2,o?s.call(o,i,r):s(i,r)):ug(t,c+2)}function Xn(t,e){let n=Fe(),s,i=t+kt;n.firstCreatePass?(s=lN(e,n.pipeRegistry),n.data[i]=s,s.onDestroy&&(n.destroyHooks??=[]).push(i,s.onDestroy)):s=n.data[i];let r=s.factory||(s.factory=Pn(s.type,!0)),o,c=It(S);try{let a=V4(!1),l=r();return V4(a),eN(n,oe(),i,l),l}finally{It(c)}}function lN(t,e){if(e)for(let n=e.length-1;n>=0;n--){let s=e[n];if(t===s.name)return s}}function Eo(t,e,n){let s=t+kt,i=oe(),r=i8(i,s);return fg(i,s)?cN(i,l8(),e,r.transform,n,r):r.transform(n)}function So(t,e,n,s){let i=t+kt,r=oe(),o=i8(r,i);return fg(r,i)?aN(r,l8(),e,o.transform,n,s,o):o.transform(n,s)}function fg(t,e){return t[te].data[e].pure}function dg(t,e){return Co(t,e)}var z4=null;function uN(t){z4!==null&&(t.defaultEncapsulation!==z4.defaultEncapsulation||t.preserveWhitespaces!==z4.preserveWhitespaces)||(z4=t)}var M1=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},hg=new M1("17.3.11"),Do=(()=>{let e=class e{log(s){console.log(s)}warn(s){console.warn(s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var H8=new N(""),Y0=new N(""),xo=(()=>{let e=class e{constructor(s,i,r){this._ngZone=s,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,$8||(fN(r),r.addToWindow(i)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{X.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(s)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==o),s()},i)),this._callbacks.push({doneCb:s,timeoutId:o,updateCb:r})}whenStable(s,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,i,r){return[]}};e.\u0275fac=function(i){return new(i||e)(C(X),C(No),C(Y0))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),No=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(s,i){this._applications.set(s,i)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,i=!0){return $8?.findTestabilityInTree(this,s,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function fN(t){$8=t}var $8;function Jn(t){return!!t&&typeof t.then=="function"}function pg(t){return!!t&&typeof t.subscribe=="function"}var Io=new N(""),mg=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,i)=>{this.resolve=s,this.reject=i}),this.appInits=E(Io,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let s=[];for(let r of this.appInits){let o=r();if(Jn(o))s.push(o);else if(pg(o)){let c=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});s.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{i()}).catch(r=>{this.reject(r)}),s.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),W8=new N("");function dN(){xd(()=>{throw new _(600,!1)})}function hN(t){return t.isBoundToModule}function pN(t,e,n){try{let s=n();return Jn(s)?s.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):s}catch(s){throw e.runOutsideAngular(()=>t.handleError(s)),s}}function gg(t,e){return Array.isArray(e)?e.reduce(gg,t):g(g({},t),e)}var Q2=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E(Gp),this.afterRenderEffectManager=E(k8),this.externalTestViews=new Set,this.beforeRender=new pe,this.afterTick=new pe,this.componentTypes=[],this.components=[],this.isStable=E(_o).hasPendingTasks.pipe(V(s=>!s)),this._injector=E(At)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,i){let r=s instanceof H4;if(!this._injector.get(mg).done){let h=!r&&op(s),p=!1;throw new _(405,p)}let c;r?c=s:c=this._injector.get(gi).resolveComponentFactory(s),this.componentTypes.push(c.componentType);let a=hN(c)?void 0:this._injector.get(K1),l=i||c.selector,u=c.create(_t.NULL,[],l,a),f=u.location.nativeElement,d=u.injector.get(H8,null);return d?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),I4(this.components,u),d?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(s){if(this._runningTick)throw new _(101,!1);let i=he(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(s)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,he(i)}}detectChangesInAttachedViews(s){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===jm)throw new _(103,!1);if(s){let o=i===0;this.beforeRender.next(o);for(let{_lView:c,notifyErrorHandler:a}of this._views)mN(c,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Ul(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Ul(o))))break}}attachView(s){let i=s;this._views.push(i),i.attachToAppRef(this)}detachView(s){let i=s;I4(this._views,i),i.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);let i=this._injector.get(W8,[]);[...this._bootstrapListeners,...i].forEach(r=>r(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>I4(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new _(406,!1);let s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function I4(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function mN(t,e,n){!e&&!Ul(t)||gN(t,n,e)}function Ul(t){return o8(t)}function gN(t,e,n){let s;n?(s=0,t[$]|=1024):t[$]&64?s=0:s=1,Um(t,e,s)}var Bl=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},To=(()=>{let e=class e{compileModuleSync(s){return new K4(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){let i=this.compileModuleSync(s),r=cp(s),o=pm(r.declarations).reduce((c,a)=>{let l=q1(a);return l&&c.push(new li(l)),c},[]);return new Bl(i,o)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yN=new N("");function CN(t,e,n){let s=new K4(n);return Promise.resolve(s)}function Fh(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var vN=(()=>{let e=class e{constructor(){this.zone=E(X),this.applicationRef=E(Q2)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function MN(t){return[{provide:X,useFactory:t},{provide:si,multi:!0,useFactory:()=>{let e=E(vN,{optional:!0});return()=>e.initialize()}},{provide:si,multi:!0,useFactory:()=>{let e=E(wN);return()=>{e.initialize()}}},{provide:Gp,useFactory:_N}]}function _N(){let t=E(X),e=E(B2);return n=>t.runOutsideAngular(()=>e.handleError(n))}function LN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var wN=(()=>{let e=class e{constructor(){this.subscription=new Be,this.initialized=!1,this.zone=E(X),this.pendingTasks=E(_o)}initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{X.assertNotInAngularZone(),queueMicrotask(()=>{s!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{X.assertInAngularZone(),s??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bN(){return typeof $localize<"u"&&$localize.locale||Y4}var Ao=new N("",{providedIn:"root",factory:()=>E(Ao,re.Optional|re.SkipSelf)||bN()});var yg=new N(""),Cg=(()=>{let e=class e{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,i){let r=zD(i?.ngZone,LN({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{let o=hx(s.moduleType,this.injector,MN(()=>r)),c=o.injector.get(B2,null);return r.runOutsideAngular(()=>{let a=r.onError.subscribe({next:l=>{c.handleError(l)}});o.onDestroy(()=>{I4(this._modules,o),a.unsubscribe()})}),pN(c,r,()=>{let a=o.injector.get(mg);return a.runInitializers(),a.donePromise.then(()=>{let l=o.injector.get(Ao,Y4);return Zx(l||Y4),this._moduleDoBootstrap(o),o})})})}bootstrapModule(s,i=[]){let r=gg({},i);return CN(this.injector,r,s).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(s){let i=s.injector.get(Q2);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(r=>i.bootstrap(r));else if(s.instance.ngDoBootstrap)s.instance.ngDoBootstrap(i);else throw new _(-403,!1);this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let s=this._injector.get(yg,null);s&&(s.forEach(i=>i()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(C(_t))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),D0=null,vg=new N("");function zN(t){if(D0&&!D0.get(vg,!1))throw new _(400,!1);dN(),D0=t;let e=t.get(Cg);return DN(t),e}function q8(t,e,n=[]){let s=`Platform: ${e}`,i=new N(s);return(r=[])=>{let o=Mg();if(!o||o.injector.get(vg,!1)){let c=[...n,...r,{provide:i,useValue:!0}];t?t(c):zN(EN(c,s))}return SN(i)}}function EN(t=[],e){return _t.create({name:e,providers:[{provide:no,useValue:"platform"},{provide:yg,useValue:new Set([()=>D0=null])},...t]})}function SN(t){let e=Mg();if(!e)throw new _(401,!1);return e}function Mg(){return D0?.get(Cg)??null}function DN(t){t.get(g8,null)?.forEach(n=>n())}function G8(){return!1}var S1=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=xN;let t=e;return t})();function xN(t){return NN(ft(),oe(),(t&16)===16)}function NN(t,e,n){if(io(t)&&!n){let s=Q1(t.index,e);return new Bn(s,s)}else if(t.type&47){let s=e[L2];return new Bn(s,e)}return null}var Hl=class{constructor(){}supports(e){return Qm(e)}create(e){return new $l(e)}},IN=(t,e)=>e,$l=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||IN}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,s=this._removalsHead,i=0,r=null;for(;n||s;){let o=!s||n&&n.currentIndex<Vh(s,i,r)?n:s,c=Vh(o,i,r),a=o.currentIndex;if(o===s)i--,s=s._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{r||(r=[]);let l=c-i,u=a-i;if(l!=u){for(let d=0;d<l;d++){let h=d<r.length?r[d]:r[d]=0,p=h+d;u<=p&&p<l&&(r[d]=h+1)}let f=o.previousIndex;r[f]=u-l}}c!==a&&e(o,c,a)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Qm(e))throw new _(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,s=!1,i,r,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)r=e[c],o=this._trackByFn(c,r),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,r,o,c),s=!0):(s&&(n=this._verifyReinsertion(n,r,o,c)),Object.is(n.item,r)||this._addIdentityChange(n,r)),n=n._next}else i=0,px(e,c=>{o=this._trackByFn(i,c),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,c,o,i),s=!0):(s&&(n=this._verifyReinsertion(n,c,o,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,s,i){let r;return e===null?r=this._itTail:(r=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(s,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,r,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(s,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,r,i)):e=this._addAfter(new Wl(n,s),r,i)),e}_verifyReinsertion(e,n,s,i){let r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(s,null);return r!==null?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,s){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,r=e._nextRemoved;return i===null?this._removalsHead=r:i._nextRemoved=r,r===null?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,n,s),this._addToMoves(e,s),e}_moveAfter(e,n,s){return this._unlink(e),this._insertAfter(e,n,s),this._addToMoves(e,s),e}_addAfter(e,n,s){return this._insertAfter(e,n,s),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,s){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Z4),this._linkedRecords.put(e),e.currentIndex=s,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,s=e._next;return n===null?this._itHead=s:n._next=s,s===null?this._itTail=n:s._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Z4),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Wl=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ql=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let s;for(s=this._head;s!==null;s=s._nextDup)if((n===null||n<=s.currentIndex)&&Object.is(s.trackById,e))return s;return null}remove(e){let n=e._prevDup,s=e._nextDup;return n===null?this._head=s:n._nextDup=s,s===null?this._tail=n:s._prevDup=n,this._head===null}},Z4=class{constructor(){this.map=new Map}put(e){let n=e.trackById,s=this.map.get(n);s||(s=new ql,this.map.set(n,s)),s.add(e)}get(e,n){let s=e,i=this.map.get(s);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Vh(t,e,n){let s=t.previousIndex;if(s===null)return s;let i=0;return n&&s<n.length&&(i=n[s]),s+e+i}function jh(){return new K8([new Hl])}var K8=(()=>{let e=class e{constructor(s){this.factories=s}static create(s,i){if(i!=null){let r=i.factories.slice();s=s.concat(r)}return new e(s)}static extend(s){return{provide:e,useFactory:i=>e.create(s,i||jh()),deps:[[e,new Ql,new fi]]}}find(s){let i=this.factories.find(r=>r.supports(s));if(i!=null)return i;throw new _(901,!1)}};e.\u0275prov=x({token:e,providedIn:"root",factory:jh});let t=e;return t})();var _g=q8(null,"core",[]),Lg=(()=>{let e=class e{constructor(s){}};e.\u0275fac=function(i){return new(i||e)(C(Q2))},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let t=e;return t})();function X1(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function wg(t){let e=q1(t);if(!e)return null;let n=new li(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var xg=null;function Y2(){return xg}function Ng(t){xg??=t}var ko=class{};var Ve=new N(""),t5=(()=>{let e=class e{historyGo(s){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>E(TN),providedIn:"platform"});let t=e;return t})(),Ig=new N(""),TN=(()=>{let e=class e extends t5{constructor(){super(),this._doc=E(Ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y2().getBaseHref(this._doc)}onPopState(s){let i=Y2().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",s,!1),()=>i.removeEventListener("popstate",s)}onHashChange(s){let i=Y2().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",s,!1),()=>i.removeEventListener("hashchange",s)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(s){this._location.pathname=s}pushState(s,i,r){this._history.pushState(s,i,r)}replaceState(s,i,r){this._history.replaceState(s,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(s=0){this._history.go(s)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function n5(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function bg(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,s=n-(t[n-1]==="/"?1:0);return t.slice(0,s)+t.slice(n)}function D1(t){return t&&t[0]!=="?"?"?"+t:t}var N1=(()=>{let e=class e{historyGo(s){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>E(s5),providedIn:"root"});let t=e;return t})(),Tg=new N(""),s5=(()=>{let e=class e extends N1{constructor(s,i){super(),this._platformLocation=s,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??E(Ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(s){this._removeListenerFns.push(this._platformLocation.onPopState(s),this._platformLocation.onHashChange(s))}getBaseHref(){return this._baseHref}prepareExternalUrl(s){return n5(this._baseHref,s)}path(s=!1){let i=this._platformLocation.pathname+D1(this._platformLocation.search),r=this._platformLocation.hash;return r&&s?`${i}${r}`:i}pushState(s,i,r,o){let c=this.prepareExternalUrl(r+D1(o));this._platformLocation.pushState(s,i,c)}replaceState(s,i,r,o){let c=this.prepareExternalUrl(r+D1(o));this._platformLocation.replaceState(s,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(s=0){this._platformLocation.historyGo?.(s)}};e.\u0275fac=function(i){return new(i||e)(C(t5),C(Tg,8))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ag=(()=>{let e=class e extends N1{constructor(s,i){super(),this._platformLocation=s,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(s){this._removeListenerFns.push(this._platformLocation.onPopState(s),this._platformLocation.onHashChange(s))}getBaseHref(){return this._baseHref}path(s=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(s){let i=n5(this._baseHref,s);return i.length>0?"#"+i:i}pushState(s,i,r,o){let c=this.prepareExternalUrl(r+D1(o));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.pushState(s,i,c)}replaceState(s,i,r,o){let c=this.prepareExternalUrl(r+D1(o));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(s,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(s=0){this._platformLocation.historyGo?.(s)}};e.\u0275fac=function(i){return new(i||e)(C(t5),C(Tg,8))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),vi=(()=>{let e=class e{constructor(s){this._subject=new Oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=s;let i=this._locationStrategy.getBaseHref();this._basePath=RN(bg(zg(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(s=!1){return this.normalize(this._locationStrategy.path(s))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(s,i=""){return this.path()==this.normalize(s+D1(i))}normalize(s){return e.stripTrailingSlash(kN(this._basePath,zg(s)))}prepareExternalUrl(s){return s&&s[0]!=="/"&&(s="/"+s),this._locationStrategy.prepareExternalUrl(s)}go(s,i="",r=null){this._locationStrategy.pushState(r,"",s,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(s+D1(i)),r)}replaceState(s,i="",r=null){this._locationStrategy.replaceState(r,"",s,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(s+D1(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(s=0){this._locationStrategy.historyGo?.(s)}onUrlChange(s){return this._urlChangeListeners.push(s),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(s);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(s="",i){this._urlChangeListeners.forEach(r=>r(s,i))}subscribe(s,i,r){return this._subject.subscribe({next:s,error:i,complete:r})}};e.normalizeQueryParams=D1,e.joinWithSlash=n5,e.stripTrailingSlash=bg,e.\u0275fac=function(i){return new(i||e)(C(N1))},e.\u0275prov=x({token:e,factory:()=>AN(),providedIn:"root"});let t=e;return t})();function AN(){return new vi(C(N1))}function kN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function zg(t){return t.replace(/\/index.html$/,"")}function RN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var kg=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(kg||{});var x1={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Z0(t,e){let n=j8(t),s=n[yi.NumberSymbols][e];if(typeof s>"u"){if(e===x1.CurrencyDecimal)return n[yi.NumberSymbols][x1.Decimal];if(e===x1.CurrencyGroup)return n[yi.NumberSymbols][x1.Group]}return s}function PN(t,e){return j8(t)[yi.NumberFormats][e]}var ON=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Eg=22,Ro=".",X0="0",FN=";",VN=",",Q8="#";function jN(t,e,n,s,i,r,o=!1){let c="",a=!1;if(!isFinite(t))c=Z0(n,x1.Infinity);else{let l=$N(t);o&&(l=HN(l));let u=e.minInt,f=e.minFrac,d=e.maxFrac;if(r){let z=r.match(ON);if(z===null)throw new Error(`${r} is not a valid digit info`);let v=z[1],D=z[3],j=z[5];v!=null&&(u=Y8(v)),D!=null&&(f=Y8(D)),j!=null?d=Y8(j):D!=null&&f>d&&(d=f)}WN(l,f,d);let h=l.digits,p=l.integerLen,m=l.exponent,y=[];for(a=h.every(z=>!z);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?y=h.splice(p,h.length):(y=h,h=[0]);let M=[];for(h.length>=e.lgSize&&M.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)M.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&M.unshift(h.join("")),c=M.join(Z0(n,s)),y.length&&(c+=Z0(n,i)+y.join("")),m&&(c+=Z0(n,x1.Exponential)+"+"+m)}return t<0&&!a?c=e.negPre+c+e.negSuf:c=e.posPre+c+e.posSuf,c}function UN(t,e,n){let s=PN(e,kg.Decimal),i=BN(s,Z0(e,x1.MinusSign));return jN(t,i,e,x1.Group,x1.Decimal,n)}function BN(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},s=t.split(FN),i=s[0],r=s[1],o=i.indexOf(Ro)!==-1?i.split(Ro):[i.substring(0,i.lastIndexOf(X0)+1),i.substring(i.lastIndexOf(X0)+1)],c=o[0],a=o[1]||"";n.posPre=c.substring(0,c.indexOf(Q8));for(let u=0;u<a.length;u++){let f=a.charAt(u);f===X0?n.minFrac=n.maxFrac=u+1:f===Q8?n.maxFrac=u+1:n.posSuf+=f}let l=c.split(VN);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,r){let u=i.length-n.posPre.length-n.posSuf.length,f=r.indexOf(Q8);n.negPre=r.substring(0,f).replace(/'/g,""),n.negSuf=r.slice(f+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function HN(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function $N(t){let e=Math.abs(t)+"",n=0,s,i,r,o,c;for((i=e.indexOf(Ro))>-1&&(e=e.replace(Ro,"")),(r=e.search(/e/i))>0?(i<0&&(i=r),i+=+e.slice(r+1),e=e.substring(0,r)):i<0&&(i=e.length),r=0;e.charAt(r)===X0;r++);if(r===(c=e.length))s=[0],i=1;else{for(c--;e.charAt(c)===X0;)c--;for(i-=r,s=[],o=0;r<=c;r++,o++)s[o]=Number(e.charAt(r))}return i>Eg&&(s=s.splice(0,Eg-1),n=i-1,i=1),{digits:s,exponent:n,integerLen:i}}function WN(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let s=t.digits,i=s.length-t.integerLen,r=Math.min(Math.max(e,i),n),o=r+t.integerLen,c=s[o];if(o>0){s.splice(Math.max(t.integerLen,o));for(let f=o;f<s.length;f++)s[f]=0}else{i=Math.max(0,i),t.integerLen=1,s.length=Math.max(1,o=r+1),s[0]=0;for(let f=1;f<o;f++)s[f]=0}if(c>=5)if(o-1<0){for(let f=0;f>o;f--)s.unshift(0),t.integerLen++;s.unshift(1),t.integerLen++}else s[o-1]++;for(;i<Math.max(0,r);i++)s.push(0);let a=r!==0,l=e+t.integerLen,u=s.reduceRight(function(f,d,h,p){return d=d+f,p[h]=d<10?d:d-10,a&&(p[h]===0&&h>=l?p.pop():a=!1),d>=10?1:0},0);u&&(s.unshift(u),t.integerLen++)}function Y8(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Rg(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let s=n.indexOf("="),[i,r]=s==-1?[n,""]:[n.slice(0,s),n.slice(s+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}var Z8=class{constructor(e,n,s,i){this.$implicit=e,this.ngForOf=n,this.index=s,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Pg=(()=>{let e=class e{set ngForOf(s){this._ngForOf=s,this._ngForOfDirty=!0}set ngForTrackBy(s){this._trackByFn=s}get ngForTrackBy(){return this._trackByFn}constructor(s,i,r){this._viewContainer=s,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(s){s&&(this._template=s)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let s=this._ngForOf;if(!this._differ&&s)if(0)try{}catch{}else this._differ=this._differs.find(s).create(this.ngForTrackBy)}if(this._differ){let s=this._differ.diff(this._ngForOf);s&&this._applyChanges(s)}}_applyChanges(s){let i=this._viewContainer;s.forEachOperation((r,o,c)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Z8(r.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,c),Sg(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}s.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);Sg(o,r)})}static ngTemplateContextGuard(s,i){return!0}};e.\u0275fac=function(i){return new(i||e)(S(Y1),S(Hn),S(K8))},e.\u0275dir=$e({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Sg(t,e){t.context.$implicit=e.item}var z2=(()=>{let e=class e{constructor(s,i){this._viewContainer=s,this._context=new X8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(s){this._context.$implicit=this._context.ngIf=s,this._updateView()}set ngIfThen(s){Dg("ngIfThen",s),this._thenTemplateRef=s,this._thenViewRef=null,this._updateView()}set ngIfElse(s){Dg("ngIfElse",s),this._elseTemplateRef=s,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(s,i){return!0}};e.\u0275fac=function(i){return new(i||e)(S(Y1),S(Hn))},e.\u0275dir=$e({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),X8=class{constructor(){this.$implicit=null,this.ngIf=null}};function Dg(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}function Og(t,e){return new _(2100,!1)}var Oo=(()=>{let e=class e{transform(s){if(s==null)return null;if(typeof s!="string")throw Og(e,s);return s.toUpperCase()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=eo({name:"uppercase",type:e,pure:!0,standalone:!0});let t=e;return t})();var Fo=(()=>{let e=class e{constructor(s){this._locale=s}transform(s,i,r){if(!qN(s))return null;r||=this._locale;try{let o=GN(s);return UN(o,r,i)}catch(o){throw Og(e,o.message)}}};e.\u0275fac=function(i){return new(i||e)(S(Ao,16))},e.\u0275pipe=eo({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();function qN(t){return!(t==null||t===""||t!==t)}function GN(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Fg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let t=e;return t})(),i5="browser",KN="server";function QN(t){return t===i5}function J0(t){return t===KN}var Vg=(()=>{let e=class e{};e.\u0275prov=x({token:e,providedIn:"root",factory:()=>QN(E(dt))?new J8(E(Ve),window):new e5});let t=e;return t})(),J8=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=YN(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),s=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(s-r[0],i-r[1])}};function YN(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let s=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=s.currentNode;for(;i;){let r=i.shadowRoot;if(r){let o=r.getElementById(e)||r.querySelector(`[name="${e}"]`);if(o)return o}i=s.nextNode()}}return null}var e5=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Po=class{};var c5=class extends ko{constructor(){super(...arguments),this.supportsDOMEvents=!0}},a5=class t extends c5{static makeCurrent(){Ng(new t)}onAndCancel(e,n,s){return e.addEventListener(n,s),()=>{e.removeEventListener(n,s)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ZN();return n==null?null:XN(n)}resetBaseElement(){e3=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Rg(document.cookie,e)}},e3=null;function ZN(){return e3=e3||document.querySelector("base"),e3?e3.getAttribute("href"):null}function XN(t){return new URL(t,document.baseURI).pathname}var l5=class{addToWindow(e){He.getAngularTestability=(s,i=!0)=>{let r=e.findTestabilityInTree(s,i);if(r==null)throw new _(5103,!1);return r},He.getAllAngularTestabilities=()=>e.getAllTestabilities(),He.getAllAngularRootElements=()=>e.getAllRootElements();let n=s=>{let i=He.getAllAngularTestabilities(),r=i.length,o=function(){r--,r==0&&s()};i.forEach(c=>{c.whenStable(o)})};He.frameworkStabilizers||(He.frameworkStabilizers=[]),He.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,s){if(n==null)return null;let i=e.getTestability(n);return i??(s?Y2().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},JN=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),u5=new N(""),Bg=(()=>{let e=class e{constructor(s,i){this._zone=i,this._eventNameToPlugin=new Map,s.forEach(r=>{r.manager=this}),this._plugins=s.slice().reverse()}addEventListener(s,i,r){return this._findPluginFor(i).addEventListener(s,i,r)}getZone(){return this._zone}_findPluginFor(s){let i=this._eventNameToPlugin.get(s);if(i)return i;if(i=this._plugins.find(o=>o.supports(s)),!i)throw new _(5101,!1);return this._eventNameToPlugin.set(s,i),i}};e.\u0275fac=function(i){return new(i||e)(C(u5),C(X))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),Vo=class{constructor(e){this._doc=e}},r5="ng-app-id",Hg=(()=>{let e=class e{constructor(s,i,r,o={}){this.doc=s,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=J0(o),this.resetHostNodes()}addStyles(s){for(let i of s)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(s){for(let i of s)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let s=this.styleNodesInDOM;s&&(s.forEach(i=>i.remove()),s.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(s){this.hostNodes.add(s);for(let i of this.getAllStyles())this.addStyleToHost(s,i)}removeHost(s){this.hostNodes.delete(s)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(s){for(let i of this.hostNodes)this.addStyleToHost(i,s)}onStyleRemoved(s){let i=this.styleRef;i.get(s)?.elements?.forEach(r=>r.remove()),i.delete(s)}collectServerRenderedStyles(){let s=this.doc.head?.querySelectorAll(`style[${r5}="${this.appId}"]`);if(s?.length){let i=new Map;return s.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(s,i){let r=this.styleRef;if(r.has(s)){let o=r.get(s);return o.usage+=i,o.usage}return r.set(s,{usage:i,elements:[]}),i}getStyleElement(s,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===s)return r.delete(i),o.removeAttribute(r5),o;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(r5,this.appId),s.appendChild(c),c}}addStyleToHost(s,i){let r=this.getStyleElement(s,i),o=this.styleRef,c=o.get(i)?.elements;c?c.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let s=this.hostNodes;s.clear(),s.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(C(Ve),C(lo),C(C8,8),C(dt))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),o5={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},d5=/%COMP%/g,$g="%COMP%",eI=`_nghost-${$g}`,tI=`_ngcontent-${$g}`,nI=!0,sI=new N("",{providedIn:"root",factory:()=>nI});function iI(t){return tI.replace(d5,t)}function rI(t){return eI.replace(d5,t)}function Wg(t,e){return e.map(n=>n.replace(d5,t))}var jo=(()=>{let e=class e{constructor(s,i,r,o,c,a,l,u=null){this.eventManager=s,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=J0(a),this.defaultRenderer=new t3(s,c,l,this.platformIsServer)}createRenderer(s,i){if(!s||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===j2.ShadowDom&&(i=O(g({},i),{encapsulation:j2.Emulated}));let r=this.getOrCreateRenderer(s,i);return r instanceof Uo?r.applyToHost(s):r instanceof n3&&r.applyStyles(),r}getOrCreateRenderer(s,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let c=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case j2.Emulated:o=new Uo(l,u,i,this.appId,f,c,a,d);break;case j2.ShadowDom:return new f5(l,u,s,i,c,a,this.nonce,d);default:o=new n3(l,u,i,f,c,a,d);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(C(Bg),C(Hg),C(lo),C(sI),C(Ve),C(dt),C(X),C(C8))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),t3=class{constructor(e,n,s,i){this.eventManager=e,this.doc=n,this.ngZone=s,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(o5[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(jg(e)?e.content:e).appendChild(n)}insertBefore(e,n,s){e&&(jg(e)?e.content:e).insertBefore(n,s)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let s=typeof e=="string"?this.doc.querySelector(e):e;if(!s)throw new _(-5104,!1);return n||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,s,i){if(i){n=i+":"+n;let r=o5[i];r?e.setAttributeNS(r,n,s):e.setAttribute(n,s)}else e.setAttribute(n,s)}removeAttribute(e,n,s){if(s){let i=o5[s];i?e.removeAttributeNS(i,n):e.removeAttribute(`${s}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,s,i){i&(v1.DashCase|v1.Important)?e.style.setProperty(n,s,i&v1.Important?"important":""):e.style[n]=s}removeStyle(e,n,s){s&v1.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,s){e!=null&&(e[n]=s)}setValue(e,n){e.nodeValue=n}listen(e,n,s){if(typeof e=="string"&&(e=Y2().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(s))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function jg(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var f5=class extends t3{constructor(e,n,s,i,r,o,c,a){super(e,r,o,a),this.sharedStylesHost=n,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Wg(i.id,i.styles);for(let u of l){let f=document.createElement("style");c&&f.setAttribute("nonce",c),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,s){return super.insertBefore(this.nodeOrShadowRoot(e),n,s)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},n3=class extends t3{constructor(e,n,s,i,r,o,c,a){super(e,r,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=a?Wg(a,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Uo=class extends n3{constructor(e,n,s,i,r,o,c,a){let l=i+"-"+s.id;super(e,n,s,r,o,c,a,l),this.contentAttr=iI(l),this.hostAttr=rI(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let s=super.createElement(e,n);return super.setAttribute(s,this.contentAttr,""),s}},oI=(()=>{let e=class e extends Vo{constructor(s){super(s)}supports(s){return!0}addEventListener(s,i,r){return s.addEventListener(i,r,!1),()=>this.removeEventListener(s,i,r)}removeEventListener(s,i,r){return s.removeEventListener(i,r)}};e.\u0275fac=function(i){return new(i||e)(C(Ve))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),Ug=["alt","control","meta","shift"],cI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aI={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},lI=(()=>{let e=class e extends Vo{constructor(s){super(s)}supports(s){return e.parseEventName(s)!=null}addEventListener(s,i,r){let o=e.parseEventName(i),c=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Y2().onAndCancel(s,o.domEventName,c))}static parseEventName(s){let i=s.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),c="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),c="code."),Ug.forEach(u=>{let f=i.indexOf(u);f>-1&&(i.splice(f,1),c+=u+".")}),c+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=c,l}static matchEventFullKeyCode(s,i){let r=cI[s.key]||s.key,o="";return i.indexOf("code.")>-1&&(r=s.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Ug.forEach(c=>{if(c!==r){let a=aI[c];a(s)&&(o+=c+".")}}),o+=r,o===i)}static eventCallback(s,i,r){return o=>{e.matchEventFullKeyCode(o,s)&&r.runGuarded(()=>i(o))}}static _normalizeKey(s){return s==="esc"?"escape":s}};e.\u0275fac=function(i){return new(i||e)(C(Ve))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})();function uI(){a5.makeCurrent()}function fI(){return new B2}function dI(){return Jp(document),document}var hI=[{provide:dt,useValue:i5},{provide:g8,useValue:uI,multi:!0},{provide:Ve,useFactory:dI,deps:[]}],qg=q8(_g,"browser",hI),pI=new N(""),mI=[{provide:Y0,useClass:l5,deps:[]},{provide:H8,useClass:xo,deps:[X,No,Y0]},{provide:xo,useClass:xo,deps:[X,No,Y0]}],gI=[{provide:no,useValue:"root"},{provide:B2,useFactory:fI,deps:[]},{provide:u5,useClass:oI,multi:!0,deps:[Ve,X,dt]},{provide:u5,useClass:lI,multi:!0,deps:[Ve]},jo,Hg,Bg,{provide:$n,useExisting:jo},{provide:Po,useClass:JN,deps:[]},[]],Bo=(()=>{let e=class e{constructor(s){}static withServerTransition(s){return{ngModule:e,providers:[{provide:lo,useValue:s.appId}]}}};e.\u0275fac=function(i){return new(i||e)(C(pI,12))},e.\u0275mod=ge({type:e}),e.\u0275inj=me({providers:[...gI,...mI],imports:[Fg,Lg]});let t=e;return t})();var Gg=(()=>{let e=class e{constructor(s){this._doc=s}getTitle(){return this._doc.title}setTitle(s){this._doc.title=s||""}};e.\u0275fac=function(i){return new(i||e)(C(Ve))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var s3=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:function(i){let r=null;return i?r=new(i||e):r=C(yI),r},providedIn:"root"});let t=e;return t})(),yI=(()=>{let e=class e extends s3{constructor(s){super(),this._doc=s}sanitize(s,i){if(i==null)return null;switch(s){case Ut.NONE:return i;case Ut.HTML:return w1(i,"HTML")?o2(i):M8(this._doc,String(i)).toString();case Ut.STYLE:return w1(i,"Style")?o2(i):i;case Ut.SCRIPT:if(w1(i,"Script"))return o2(i);throw new _(5200,!1);case Ut.URL:return w1(i,"URL")?o2(i):fo(String(i));case Ut.RESOURCE_URL:if(w1(i,"ResourceURL"))return o2(i);throw new _(5201,!1);default:throw new _(5202,!1)}}bypassSecurityTrustHtml(s){return sm(s)}bypassSecurityTrustStyle(s){return im(s)}bypassSecurityTrustScript(s){return rm(s)}bypassSecurityTrustUrl(s){return om(s)}bypassSecurityTrustResourceUrl(s){return cm(s)}};e.\u0275fac=function(i){return new(i||e)(C(Ve))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var J="primary",C3=Symbol("RouteTitle"),y5=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function zi(t){return new y5(t)}function CI(t,e,n){let s=n.path.split("/");if(s.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||s.length<t.length))return null;let i={};for(let r=0;r<s.length;r++){let o=s[r],c=t[r];if(o.startsWith(":"))i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,s.length),posParams:i}}function vI(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Z2(t[n],e[n]))return!1;return!0}function Z2(t,e){let n=t?C5(t):void 0,s=e?C5(e):void 0;if(!n||!s||n.length!=s.length)return!1;let i;for(let r=0;r<n.length;r++)if(i=n[r],!ny(t[i],e[i]))return!1;return!0}function C5(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ny(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),s=[...e].sort();return n.every((i,r)=>s[r]===i)}else return t===e}function sy(t){return t.length>0?t[t.length-1]:null}function nn(t){return Ca(t)?t:Jn(t)?ue(Promise.resolve(t)):R(t)}var MI={exact:ry,subset:oy},iy={exact:_I,subset:LI,ignored:()=>!0};function Kg(t,e,n){return MI[n.paths](t.root,e.root,n.matrixParams)&&iy[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function _I(t,e){return Z2(t,e)}function ry(t,e,n){if(!ts(t.segments,e.segments)||!qo(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let s in e.children)if(!t.children[s]||!ry(t.children[s],e.children[s],n))return!1;return!0}function LI(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ny(t[n],e[n]))}function oy(t,e,n){return cy(t,e,e.segments,n)}function cy(t,e,n,s){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ts(i,n)||e.hasChildren()||!qo(i,n,s))}else if(t.segments.length===n.length){if(!ts(t.segments,n)||!qo(t.segments,n,s))return!1;for(let i in e.children)if(!t.children[i]||!oy(t.children[i],e.children[i],s))return!1;return!0}else{let i=n.slice(0,t.segments.length),r=n.slice(t.segments.length);return!ts(t.segments,i)||!qo(t.segments,i,s)||!t.children[J]?!1:cy(t.children[J],e,r,s)}}function qo(t,e,n){return e.every((s,i)=>iy[n](t[i].parameters,s.parameters))}var J1=class{constructor(e=new ye([],{}),n={},s=null){this.root=e,this.queryParams=n,this.fragment=s}get queryParamMap(){return this._queryParamMap??=zi(this.queryParams),this._queryParamMap}toString(){return zI.serialize(this)}},ye=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Go(this)}},es=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=zi(this.parameters),this._parameterMap}toString(){return ly(this)}};function wI(t,e){return ts(t,e)&&t.every((n,s)=>Z2(n.parameters,e[s].parameters))}function ts(t,e){return t.length!==e.length?!1:t.every((n,s)=>n.path===e[s].path)}function bI(t,e){let n=[];return Object.entries(t.children).forEach(([s,i])=>{s===J&&(n=n.concat(e(i,s)))}),Object.entries(t.children).forEach(([s,i])=>{s!==J&&(n=n.concat(e(i,s)))}),n}var v3=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>new u3,providedIn:"root"});let t=e;return t})(),u3=class{parse(e){let n=new M5(e);return new J1(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${i3(e.root,!0)}`,s=DI(e.queryParams),i=typeof e.fragment=="string"?`#${EI(e.fragment)}`:"";return`${n}${s}${i}`}},zI=new u3;function Go(t){return t.segments.map(e=>ly(e)).join("/")}function i3(t,e){if(!t.hasChildren())return Go(t);if(e){let n=t.children[J]?i3(t.children[J],!1):"",s=[];return Object.entries(t.children).forEach(([i,r])=>{i!==J&&s.push(`${i}:${i3(r,!1)}`)}),s.length>0?`${n}(${s.join("//")})`:n}else{let n=bI(t,(s,i)=>i===J?[i3(t.children[J],!1)]:[`${i}:${i3(s,!1)}`]);return Object.keys(t.children).length===1&&t.children[J]!=null?`${Go(t)}/${n[0]}`:`${Go(t)}/(${n.join("//")})`}}function ay(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $o(t){return ay(t).replace(/%3B/gi,";")}function EI(t){return encodeURI(t)}function v5(t){return ay(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ko(t){return decodeURIComponent(t)}function Qg(t){return Ko(t.replace(/\+/g,"%20"))}function ly(t){return`${v5(t.path)}${SI(t.parameters)}`}function SI(t){return Object.entries(t).map(([e,n])=>`;${v5(e)}=${v5(n)}`).join("")}function DI(t){let e=Object.entries(t).map(([n,s])=>Array.isArray(s)?s.map(i=>`${$o(n)}=${$o(i)}`).join("&"):`${$o(n)}=${$o(s)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var xI=/^[^\/()?;#]+/;function h5(t){let e=t.match(xI);return e?e[0]:""}var NI=/^[^\/()?;=#]+/;function II(t){let e=t.match(NI);return e?e[0]:""}var TI=/^[^=?&#]+/;function AI(t){let e=t.match(TI);return e?e[0]:""}var kI=/^[^&#]+/;function RI(t){let e=t.match(kI);return e?e[0]:""}var M5=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(s[J]=new ye(e,n)),s}parseSegment(){let e=h5(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new _(4009,!1);return this.capture(e),new es(Ko(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=II(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){let i=h5(this.remaining);i&&(s=i,this.capture(s))}e[Ko(n)]=Ko(s)}parseQueryParam(e){let n=AI(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){let o=RI(this.remaining);o&&(s=o,this.capture(s))}let i=Qg(n),r=Qg(s);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(r)}else e[i]=r}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let s=h5(this.remaining),i=this.remaining[s.length];if(i!=="/"&&i!==")"&&i!==";")throw new _(4010,!1);let r;s.indexOf(":")>-1?(r=s.slice(0,s.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=J);let o=this.parseChildren();n[r]=Object.keys(o).length===1?o[J]:new ye([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new _(4011,!1)}};function uy(t){return t.segments.length>0?new ye([],{[J]:t}):t}function fy(t){let e={};for(let[s,i]of Object.entries(t.children)){let r=fy(i);if(s===J&&r.segments.length===0&&r.hasChildren())for(let[o,c]of Object.entries(r.children))e[o]=c;else(r.segments.length>0||r.hasChildren())&&(e[s]=r)}let n=new ye(t.segments,e);return PI(n)}function PI(t){if(t.numberOfChildren===1&&t.children[J]){let e=t.children[J];return new ye(t.segments.concat(e.segments),e.children)}return t}function Ei(t){return t instanceof J1}function OI(t,e,n=null,s=null){let i=dy(t);return hy(i,e,n,s)}function dy(t){let e;function n(r){let o={};for(let a of r.children){let l=n(a);o[a.outlet]=l}let c=new ye(r.url,o);return r===t&&(e=c),c}let s=n(t.root),i=uy(s);return e??i}function hy(t,e,n,s){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return p5(i,i,i,n,s);let r=FI(e);if(r.toRoot())return p5(i,i,new ye([],{}),n,s);let o=VI(r,i,t),c=o.processChildren?c3(o.segmentGroup,o.index,r.commands):my(o.segmentGroup,o.index,r.commands);return p5(i,o.segmentGroup,c,n,s)}function Qo(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function f3(t){return typeof t=="object"&&t!=null&&t.outlets}function p5(t,e,n,s,i){let r={};s&&Object.entries(s).forEach(([a,l])=>{r[a]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;t===e?o=n:o=py(t,e,n);let c=uy(fy(o));return new J1(c,r,i)}function py(t,e,n){let s={};return Object.entries(t.children).forEach(([i,r])=>{r===e?s[i]=n:s[i]=py(r,e,n)}),new ye(t.segments,s)}var Yo=class{constructor(e,n,s){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=s,e&&s.length>0&&Qo(s[0]))throw new _(4003,!1);let i=s.find(f3);if(i&&i!==sy(s))throw new _(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function FI(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Yo(!0,0,t);let e=0,n=!1,s=t.reduce((i,r,o)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let c={};return Object.entries(r.outlets).forEach(([a,l])=>{c[a]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(r.segmentPath)return[...i,r.segmentPath]}return typeof r!="string"?[...i,r]:o===0?(r.split("/").forEach((c,a)=>{a==0&&c==="."||(a==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,r]},[]);return new Yo(n,e,s)}var wi=class{constructor(e,n,s){this.segmentGroup=e,this.processChildren=n,this.index=s}};function VI(t,e,n){if(t.isAbsolute)return new wi(e,!0,0);if(!n)return new wi(e,!1,NaN);if(n.parent===null)return new wi(n,!0,0);let s=Qo(t.commands[0])?0:1,i=n.segments.length-1+s;return jI(n,i,t.numberOfDoubleDots)}function jI(t,e,n){let s=t,i=e,r=n;for(;r>i;){if(r-=i,s=s.parent,!s)throw new _(4005,!1);i=s.segments.length}return new wi(s,!1,i-r)}function UI(t){return f3(t[0])?t[0].outlets:{[J]:t}}function my(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return c3(t,e,n);let s=BI(t,e,n),i=n.slice(s.commandIndex);if(s.match&&s.pathIndex<t.segments.length){let r=new ye(t.segments.slice(0,s.pathIndex),{});return r.children[J]=new ye(t.segments.slice(s.pathIndex),t.children),c3(r,0,i)}else return s.match&&i.length===0?new ye(t.segments,{}):s.match&&!t.hasChildren()?_5(t,e,n):s.match?c3(t,0,i):_5(t,e,n)}function c3(t,e,n){if(n.length===0)return new ye(t.segments,{});{let s=UI(n),i={};if(Object.keys(s).some(r=>r!==J)&&t.children[J]&&t.numberOfChildren===1&&t.children[J].segments.length===0){let r=c3(t.children[J],e,n);return new ye(t.segments,r.children)}return Object.entries(s).forEach(([r,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[r]=my(t.children[r],e,o))}),Object.entries(t.children).forEach(([r,o])=>{s[r]===void 0&&(i[r]=o)}),new ye(t.segments,i)}}function BI(t,e,n){let s=0,i=e,r={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(s>=n.length)return r;let o=t.segments[i],c=n[s];if(f3(c))break;let a=`${c}`,l=s<n.length-1?n[s+1]:null;if(i>0&&a===void 0)break;if(a&&l&&typeof l=="object"&&l.outlets===void 0){if(!Zg(a,l,o))return r;s+=2}else{if(!Zg(a,{},o))return r;s++}i++}return{match:!0,pathIndex:i,commandIndex:s}}function _5(t,e,n){let s=t.segments.slice(0,e),i=0;for(;i<n.length;){let r=n[i];if(f3(r)){let a=HI(r.outlets);return new ye(s,a)}if(i===0&&Qo(n[0])){let a=t.segments[e];s.push(new es(a.path,Yg(n[0]))),i++;continue}let o=f3(r)?r.outlets[J]:`${r}`,c=i<n.length-1?n[i+1]:null;o&&c&&Qo(c)?(s.push(new es(o,Yg(c))),i+=2):(s.push(new es(o,{})),i++)}return new ye(s,{})}function HI(t){let e={};return Object.entries(t).forEach(([n,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(e[n]=_5(new ye([],{}),0,s))}),e}function Yg(t){let e={};return Object.entries(t).forEach(([n,s])=>e[n]=`${s}`),e}function Zg(t,e,n){return t==n.path&&Z2(e,n.parameters)}var a3="imperative",nt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(nt||{}),a2=class{constructor(e,n){this.id=e,this.url=n}},Si=class extends a2{constructor(e,n,s="imperative",i=null){super(e,n),this.type=nt.NavigationStart,this.navigationTrigger=s,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},E2=class extends a2{constructor(e,n,s){super(e,n),this.urlAfterRedirects=s,this.type=nt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ht=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ht||{}),Zo=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Zo||{}),en=class extends a2{constructor(e,n,s,i){super(e,n),this.reason=s,this.code=i,this.type=nt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},tn=class extends a2{constructor(e,n,s,i){super(e,n),this.reason=s,this.code=i,this.type=nt.NavigationSkipped}},d3=class extends a2{constructor(e,n,s,i){super(e,n),this.error=s,this.target=i,this.type=nt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xo=class extends a2{constructor(e,n,s,i){super(e,n),this.urlAfterRedirects=s,this.state=i,this.type=nt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},L5=class extends a2{constructor(e,n,s,i){super(e,n),this.urlAfterRedirects=s,this.state=i,this.type=nt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},w5=class extends a2{constructor(e,n,s,i,r){super(e,n),this.urlAfterRedirects=s,this.state=i,this.shouldActivate=r,this.type=nt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},b5=class extends a2{constructor(e,n,s,i){super(e,n),this.urlAfterRedirects=s,this.state=i,this.type=nt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},z5=class extends a2{constructor(e,n,s,i){super(e,n),this.urlAfterRedirects=s,this.state=i,this.type=nt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},E5=class{constructor(e){this.route=e,this.type=nt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},S5=class{constructor(e){this.route=e,this.type=nt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},D5=class{constructor(e){this.snapshot=e,this.type=nt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},x5=class{constructor(e){this.snapshot=e,this.type=nt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},N5=class{constructor(e){this.snapshot=e,this.type=nt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},I5=class{constructor(e){this.snapshot=e,this.type=nt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jo=class{constructor(e,n,s){this.routerEvent=e,this.position=n,this.anchor=s,this.type=nt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},h3=class{},p3=class{constructor(e){this.url=e}};var T5=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new M3,this.attachRef=null}},M3=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(s,i){let r=this.getOrCreateContext(s);r.outlet=i,this.contexts.set(s,r)}onChildOutletDestroyed(s){let i=this.getContext(s);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let s=this.contexts;return this.contexts=new Map,s}onOutletReAttached(s){this.contexts=s}getOrCreateContext(s){let i=this.getContext(s);return i||(i=new T5,this.contexts.set(s,i)),i}getContext(s){return this.contexts.get(s)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ec=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=A5(e,this._root);return n?n.children.map(s=>s.value):[]}firstChild(e){let n=A5(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=k5(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return k5(e,this._root).map(n=>n.value)}};function A5(t,e){if(t===e.value)return e;for(let n of e.children){let s=A5(t,n);if(s)return s}return null}function k5(t,e){if(t===e.value)return[e];for(let n of e.children){let s=k5(t,n);if(s.length)return s.unshift(e),s}return[]}var Bt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Li(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var tc=class extends ec{constructor(e,n){super(e),this.snapshot=n,$5(this,e)}toString(){return this.snapshot.toString()}};function gy(t){let e=$I(t),n=new ot([new es("",{})]),s=new ot({}),i=new ot({}),r=new ot({}),o=new ot(""),c=new ns(n,s,r,o,i,J,t,e.root);return c.snapshot=e.root,new tc(new Bt(c,[]),e)}function $I(t){let e={},n={},s={},i="",r=new m3([],e,s,i,n,J,t,null,{});return new nc("",new Bt(r,[]))}var ns=class{constructor(e,n,s,i,r,o,c,a){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=s,this.fragmentSubject=i,this.dataSubject=r,this.outlet=o,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(V(l=>l[C3]))??R(void 0),this.url=e,this.params=n,this.queryParams=s,this.fragment=i,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(V(e=>zi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(V(e=>zi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function H5(t,e,n="emptyOnly"){let s,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?s={params:g(g({},e.params),t.params),data:g(g({},e.data),t.data),resolve:g(g(g(g({},t.data),e.data),i?.data),t._resolvedData)}:s={params:g({},t.params),data:g({},t.data),resolve:g(g({},t.data),t._resolvedData??{})},i&&Cy(i)&&(s.resolve[C3]=i.title),s}var m3=class{get title(){return this.data?.[C3]}constructor(e,n,s,i,r,o,c,a,l){this.url=e,this.params=n,this.queryParams=s,this.fragment=i,this.data=r,this.outlet=o,this.component=c,this.routeConfig=a,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(s=>s.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},nc=class extends ec{constructor(e,n){super(n),this.url=e,$5(this,n)}toString(){return yy(this._root)}};function $5(t,e){e.value._routerState=t,e.children.forEach(n=>$5(t,n))}function yy(t){let e=t.children.length>0?` { ${t.children.map(yy).join(", ")} } `:"";return`${t.value}${e}`}function m5(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Z2(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Z2(e.params,n.params)||t.paramsSubject.next(n.params),vI(e.url,n.url)||t.urlSubject.next(n.url),Z2(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function R5(t,e){let n=Z2(t.params,e.params)&&wI(t.url,e.url),s=!t.parent!=!e.parent;return n&&!s&&(!t.parent||R5(t.parent,e.parent))}function Cy(t){return typeof t.title=="string"||t.title===null}var W5=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=J,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=E(M3),this.location=E(Y1),this.changeDetector=E(S1),this.environmentInjector=E(At),this.inputBinder=E(ac,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(s){if(s.name){let{firstChange:i,previousValue:r}=s.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(s){return this.parentContexts.getContext(s)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let s=this.parentContexts.getContext(this.name);s?.route&&(s.attachRef?this.attach(s.attachRef,s.route):this.activateWith(s.route,s.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _(4012,!1);this.location.detach();let s=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(s.instance),s}attach(s,i){this.activated=s,this._activatedRoute=i,this.location.insert(s.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(s.instance)}deactivate(){if(this.activated){let s=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(s)}}activateWith(s,i){if(this.isActivated)throw new _(4013,!1);this._activatedRoute=s;let r=this.location,c=s.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new P5(s,a,r.injector);this.activated=r.createComponent(c,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=$e({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mt]});let t=e;return t})(),P5=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,s){this.route=e,this.childContexts=n,this.parent=s}get(e,n){return e===ns?this.route:e===M3?this.childContexts:this.parent.get(e,n)}},ac=new N(""),Xg=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(s){this.unsubscribeFromRouteData(s),this.subscribeToRouteData(s)}unsubscribeFromRouteData(s){this.outletDataSubscriptions.get(s)?.unsubscribe(),this.outletDataSubscriptions.delete(s)}subscribeToRouteData(s){let{activatedRoute:i}=s,r=z0([i.queryParams,i.params,i.data]).pipe(Ce(([o,c,a],l)=>(a=g(g(g({},o),c),a),l===0?R(a):Promise.resolve(a)))).subscribe(o=>{if(!s.isActivated||!s.activatedComponentRef||s.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(s);return}let c=wg(i.component);if(!c){this.unsubscribeFromRouteData(s);return}for(let{templateName:a}of c.inputs)s.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(s,r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})();function WI(t,e,n){let s=g3(t,e._root,n?n._root:void 0);return new tc(s,e)}function g3(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let s=n.value;s._futureSnapshot=e.value;let i=qI(t,e,n);return new Bt(s,i)}else{if(t.shouldAttach(e.value)){let r=t.retrieve(e.value);if(r!==null){let o=r.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>g3(t,c)),o}}let s=GI(e.value),i=e.children.map(r=>g3(t,r));return new Bt(s,i)}}function qI(t,e,n){return e.children.map(s=>{for(let i of n.children)if(t.shouldReuseRoute(s.value,i.value.snapshot))return g3(t,s,i);return g3(t,s)})}function GI(t){return new ns(new ot(t.url),new ot(t.params),new ot(t.queryParams),new ot(t.fragment),new ot(t.data),t.outlet,t.component,t)}var vy="ngNavigationCancelingError";function My(t,e){let{redirectTo:n,navigationBehaviorOptions:s}=Ei(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_y(!1,Ht.Redirect);return i.url=n,i.navigationBehaviorOptions=s,i}function _y(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[vy]=!0,n.cancellationCode=e,n}function KI(t){return Ly(t)&&Ei(t.url)}function Ly(t){return!!t&&t[vy]}var QI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["ng-component"]],standalone:!0,features:[Z1],decls:1,vars:0,template:function(i,r){i&1&&Y(0,"router-outlet")},dependencies:[W5],encapsulation:2});let t=e;return t})();function YI(t,e){return t.providers&&!t._injector&&(t._injector=Mo(t.providers,e,`Route: ${t.path}`)),t._injector??e}function q5(t){let e=t.children&&t.children.map(q5),n=e?O(g({},t),{children:e}):g({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==J&&(n.component=QI),n}function X2(t){return t.outlet||J}function ZI(t,e){let n=t.filter(s=>X2(s)===e);return n.push(...t.filter(s=>X2(s)!==e)),n}function _3(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var XI=(t,e,n,s)=>V(i=>(new O5(e,i.targetRouterState,i.currentRouterState,n,s).activate(t),i)),O5=class{constructor(e,n,s,i,r){this.routeReuseStrategy=e,this.futureState=n,this.currState=s,this.forwardEvent=i,this.inputBindingEnabled=r}activate(e){let n=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,s,e),m5(this.futureState.root),this.activateChildRoutes(n,s,e)}deactivateChildRoutes(e,n,s){let i=Li(n);e.children.forEach(r=>{let o=r.value.outlet;this.deactivateRoutes(r,i[o],s),delete i[o]}),Object.values(i).forEach(r=>{this.deactivateRouteAndItsChildren(r,s)})}deactivateRoutes(e,n,s){let i=e.value,r=n?n.value:null;if(i===r)if(i.component){let o=s.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,s);else r&&this.deactivateRouteAndItsChildren(n,s)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let s=n.getContext(e.value.outlet),i=s&&e.value.component?s.children:n,r=Li(e);for(let o of Object.values(r))this.deactivateRouteAndItsChildren(o,i);if(s&&s.outlet){let o=s.outlet.detach(),c=s.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let s=n.getContext(e.value.outlet),i=s&&e.value.component?s.children:n,r=Li(e);for(let o of Object.values(r))this.deactivateRouteAndItsChildren(o,i);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(e,n,s){let i=Li(n);e.children.forEach(r=>{this.activateRoutes(r,i[r.value.outlet],s),this.forwardEvent(new I5(r.value.snapshot))}),e.children.length&&this.forwardEvent(new x5(e.value.snapshot))}activateRoutes(e,n,s){let i=e.value,r=n?n.value:null;if(m5(i),i===r)if(i.component){let o=s.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,s);else if(i.component){let o=s.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),m5(c.route.value),this.activateChildRoutes(e,null,o.children)}else{let c=_3(i.snapshot);o.attachRef=null,o.route=i,o.injector=c,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,s)}},sc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},bi=class{constructor(e,n){this.component=e,this.route=n}};function JI(t,e,n){let s=t._root,i=e?e._root:null;return r3(s,i,n,[s.value])}function eT(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function xi(t,e){let n=Symbol(),s=e.get(t,n);return s===n?typeof t=="function"&&!$h(t)?t:e.get(t):s}function r3(t,e,n,s,i={canDeactivateChecks:[],canActivateChecks:[]}){let r=Li(e);return t.children.forEach(o=>{tT(o,r[o.value.outlet],n,s.concat([o.value]),i),delete r[o.value.outlet]}),Object.entries(r).forEach(([o,c])=>l3(c,n.getContext(o),i)),i}function tT(t,e,n,s,i={canDeactivateChecks:[],canActivateChecks:[]}){let r=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){let a=nT(o,r,r.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new sc(s)):(r.data=o.data,r._resolvedData=o._resolvedData),r.component?r3(t,e,c?c.children:null,s,i):r3(t,e,n,s,i),a&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new bi(c.outlet.component,o))}else o&&l3(e,c,i),i.canActivateChecks.push(new sc(s)),r.component?r3(t,null,c?c.children:null,s,i):r3(t,null,n,s,i);return i}function nT(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ts(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ts(t.url,e.url)||!Z2(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!R5(t,e)||!Z2(t.queryParams,e.queryParams);case"paramsChange":default:return!R5(t,e)}}function l3(t,e,n){let s=Li(t),i=t.value;Object.entries(s).forEach(([r,o])=>{i.component?e?l3(o,e.children.getContext(r),n):l3(o,null,n):l3(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new bi(e.outlet.component,i)):n.canDeactivateChecks.push(new bi(null,i)):n.canDeactivateChecks.push(new bi(null,i))}function L3(t){return typeof t=="function"}function sT(t){return typeof t=="boolean"}function iT(t){return t&&L3(t.canLoad)}function rT(t){return t&&L3(t.canActivate)}function oT(t){return t&&L3(t.canActivateChild)}function cT(t){return t&&L3(t.canDeactivate)}function aT(t){return t&&L3(t.canMatch)}function wy(t){return t instanceof m1||t?.name==="EmptyError"}var Wo=Symbol("INITIAL_VALUE");function Di(){return Ce(t=>z0(t.map(e=>e.pipe(g2(1),Ea(Wo)))).pipe(V(e=>{for(let n of e)if(n!==!0){if(n===Wo)return Wo;if(n===!1||n instanceof J1)return n}return!0}),Nt(e=>e!==Wo),g2(1)))}function lT(t,e){return Ge(n=>{let{targetSnapshot:s,currentSnapshot:i,guards:{canActivateChecks:r,canDeactivateChecks:o}}=n;return o.length===0&&r.length===0?R(O(g({},n),{guardsResult:!0})):uT(o,s,i,t).pipe(Ge(c=>c&&sT(c)?fT(s,r,t,e):R(c)),V(c=>O(g({},n),{guardsResult:c})))})}function uT(t,e,n,s){return ue(t).pipe(Ge(i=>gT(i.component,i.route,n,e,s)),i2(i=>i!==!0,!0))}function fT(t,e,n,s){return ue(e).pipe(Tn(i=>qs(hT(i.route.parent,s),dT(i.route,s),mT(t,i.path,n),pT(t,i.route,n))),i2(i=>i!==!0,!0))}function dT(t,e){return t!==null&&e&&e(new N5(t)),R(!0)}function hT(t,e){return t!==null&&e&&e(new D5(t)),R(!0)}function pT(t,e,n){let s=e.routeConfig?e.routeConfig.canActivate:null;if(!s||s.length===0)return R(!0);let i=s.map(r=>m4(()=>{let o=_3(e)??n,c=xi(r,o),a=rT(c)?c.canActivate(e,t):_1(o,()=>c(e,t));return nn(a).pipe(i2())}));return R(i).pipe(Di())}function mT(t,e,n){let s=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(o=>eT(o)).filter(o=>o!==null).map(o=>m4(()=>{let c=o.guards.map(a=>{let l=_3(o.node)??n,u=xi(a,l),f=oT(u)?u.canActivateChild(s,t):_1(l,()=>u(s,t));return nn(f).pipe(i2())});return R(c).pipe(Di())}));return R(r).pipe(Di())}function gT(t,e,n,s,i){let r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!r||r.length===0)return R(!0);let o=r.map(c=>{let a=_3(e)??i,l=xi(c,a),u=cT(l)?l.canDeactivate(t,e,n,s):_1(a,()=>l(t,e,n,s));return nn(u).pipe(i2())});return R(o).pipe(Di())}function yT(t,e,n,s){let i=e.canLoad;if(i===void 0||i.length===0)return R(!0);let r=i.map(o=>{let c=xi(o,t),a=iT(c)?c.canLoad(e,n):_1(t,()=>c(e,n));return nn(a)});return R(r).pipe(Di(),by(s))}function by(t){return Fs(Ke(e=>{if(Ei(e))throw My(t,e)}),V(e=>e===!0))}function CT(t,e,n,s){let i=e.canMatch;if(!i||i.length===0)return R(!0);let r=i.map(o=>{let c=xi(o,t),a=aT(c)?c.canMatch(e,n):_1(t,()=>c(e,n));return nn(a)});return R(r).pipe(Di(),by(s))}var y3=class{constructor(e){this.segmentGroup=e||null}},ic=class extends Error{constructor(e){super(),this.urlTree=e}};function _i(t){return Ws(new y3(t))}function vT(t){return Ws(new _(4e3,!1))}function MT(t){return Ws(_y(!1,Ht.GuardRejected))}var F5=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let s=[],i=n.root;for(;;){if(s=s.concat(i.segments),i.numberOfChildren===0)return R(s);if(i.numberOfChildren>1||!i.children[J])return vT(e.redirectTo);i=i.children[J]}}applyRedirectCommands(e,n,s){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,s);if(n.startsWith("/"))throw new ic(i);return i}applyRedirectCreateUrlTree(e,n,s,i){let r=this.createSegmentGroup(e,n.root,s,i);return new J1(r,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let s={};return Object.entries(e).forEach(([i,r])=>{if(typeof r=="string"&&r.startsWith(":")){let c=r.substring(1);s[i]=n[c]}else s[i]=r}),s}createSegmentGroup(e,n,s,i){let r=this.createSegments(e,n.segments,s,i),o={};return Object.entries(n.children).forEach(([c,a])=>{o[c]=this.createSegmentGroup(e,a,s,i)}),new ye(r,o)}createSegments(e,n,s,i){return n.map(r=>r.path.startsWith(":")?this.findPosParam(e,r,i):this.findOrReturn(r,s))}findPosParam(e,n,s){let i=s[n.path.substring(1)];if(!i)throw new _(4001,!1);return i}findOrReturn(e,n){let s=0;for(let i of n){if(i.path===e.path)return n.splice(s),i;s++}return e}},V5={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _T(t,e,n,s,i){let r=G5(t,e,n);return r.matched?(s=YI(e,s),CT(s,e,n,i).pipe(V(o=>o===!0?r:g({},V5)))):R(r)}function G5(t,e,n){if(e.path==="**")return LT(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?g({},V5):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||CI)(n,t,e);if(!i)return g({},V5);let r={};Object.entries(i.posParams??{}).forEach(([c,a])=>{r[c]=a.path});let o=i.consumed.length>0?g(g({},r),i.consumed[i.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function LT(t){return{matched:!0,parameters:t.length>0?sy(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Jg(t,e,n,s){return n.length>0&&zT(t,n,s)?{segmentGroup:new ye(e,bT(s,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&ET(t,n,s)?{segmentGroup:new ye(t.segments,wT(t,n,s,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function wT(t,e,n,s){let i={};for(let r of n)if(lc(t,e,r)&&!s[X2(r)]){let o=new ye([],{});i[X2(r)]=o}return g(g({},s),i)}function bT(t,e){let n={};n[J]=e;for(let s of t)if(s.path===""&&X2(s)!==J){let i=new ye([],{});n[X2(s)]=i}return n}function zT(t,e,n){return n.some(s=>lc(t,e,s)&&X2(s)!==J)}function ET(t,e,n){return n.some(s=>lc(t,e,s))}function lc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ST(t,e,n,s){return X2(t)!==s&&(s===J||!lc(e,n,t))?!1:G5(e,t,n).matched}function DT(t,e,n){return e.length===0&&!t.children[n]}var j5=class{};function xT(t,e,n,s,i,r,o="emptyOnly"){return new U5(t,e,n,s,i,o,r).recognize()}var NT=31,U5=class{constructor(e,n,s,i,r,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=s,this.config=i,this.urlTree=r,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new F5(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new _(4002,`'${e.segmentGroup}'`)}recognize(){let e=Jg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(V(n=>{let s=new m3([],Object.freeze({}),Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,{},J,this.rootComponentType,null,{}),i=new Bt(s,n),r=new nc("",i),o=OI(s,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(r._root,null),{state:r,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,J).pipe(B1(s=>{if(s instanceof ic)return this.urlTree=s.urlTree,this.match(s.urlTree.root);throw s instanceof y3?this.noMatchError(s):s}))}inheritParamsAndData(e,n){let s=e.value,i=H5(s,n,this.paramsInheritanceStrategy);s.params=Object.freeze(i.params),s.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r,s))}processSegmentGroup(e,n,s,i){return s.segments.length===0&&s.hasChildren()?this.processChildren(e,n,s):this.processSegment(e,n,s,s.segments,i,!0).pipe(V(r=>r instanceof Bt?[r]:[]))}processChildren(e,n,s){let i=[];for(let r of Object.keys(s.children))r==="primary"?i.unshift(r):i.push(r);return ue(i).pipe(Tn(r=>{let o=s.children[r],c=ZI(n,r);return this.processSegmentGroup(e,c,o,r)}),Qs((r,o)=>(r.push(...o),r)),H1(null),wa(),Ge(r=>{if(r===null)return _i(s);let o=zy(r);return IT(o),R(o)}))}processSegment(e,n,s,i,r,o){return ue(n).pipe(Tn(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,s,i,r,o).pipe(B1(a=>{if(a instanceof y3)return R(null);throw a}))),i2(c=>!!c),B1(c=>{if(wy(c))return DT(s,i,r)?R(new j5):_i(s);throw c}))}processSegmentAgainstRoute(e,n,s,i,r,o,c){return ST(s,i,r,o)?s.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,s,r,o):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,s,r,o):_i(i):_i(i)}expandSegmentAgainstRouteUsingRedirect(e,n,s,i,r,o){let{matched:c,consumedSegments:a,positionalParamSegments:l,remainingSegments:u}=G5(n,i,r);if(!c)return _i(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>NT&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(a,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,f).pipe(Ge(d=>this.processSegment(e,s,n,d.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,s,i,r){let o=_T(n,s,i,e,this.urlSerializer);return s.path==="**"&&(n.children={}),o.pipe(Ce(c=>c.matched?(e=s._injector??e,this.getChildConfig(e,s,i).pipe(Ce(({routes:a})=>{let l=s._loadedInjector??e,{consumedSegments:u,remainingSegments:f,parameters:d}=c,h=new m3(u,d,Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,AT(s),X2(s),s.component??s._loadedComponent??null,s,kT(s)),{segmentGroup:p,slicedSegments:m}=Jg(n,u,f,a);if(m.length===0&&p.hasChildren())return this.processChildren(l,a,p).pipe(V(M=>M===null?null:new Bt(h,M)));if(a.length===0&&m.length===0)return R(new Bt(h,[]));let y=X2(s)===r;return this.processSegment(l,a,p,m,y?J:r,!0).pipe(V(M=>new Bt(h,M instanceof Bt?[M]:[])))}))):_i(n)))}getChildConfig(e,n,s){return n.children?R({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):yT(e,n,s,this.urlSerializer).pipe(Ge(i=>i?this.configLoader.loadChildren(e,n).pipe(Ke(r=>{n._loadedRoutes=r.routes,n._loadedInjector=r.injector})):MT(n))):R({routes:[],injector:e})}};function IT(t){t.sort((e,n)=>e.value.outlet===J?-1:n.value.outlet===J?1:e.value.outlet.localeCompare(n.value.outlet))}function TT(t){let e=t.value.routeConfig;return e&&e.path===""}function zy(t){let e=[],n=new Set;for(let s of t){if(!TT(s)){e.push(s);continue}let i=e.find(r=>s.value.routeConfig===r.value.routeConfig);i!==void 0?(i.children.push(...s.children),n.add(i)):e.push(s)}for(let s of n){let i=zy(s.children);e.push(new Bt(s.value,i))}return e.filter(s=>!n.has(s))}function AT(t){return t.data||{}}function kT(t){return t.resolve||{}}function RT(t,e,n,s,i,r){return Ge(o=>xT(t,e,n,s,o.extractedUrl,i,r).pipe(V(({state:c,tree:a})=>O(g({},o),{targetSnapshot:c,urlAfterRedirects:a}))))}function PT(t,e){return Ge(n=>{let{targetSnapshot:s,guards:{canActivateChecks:i}}=n;if(!i.length)return R(n);let r=new Set(i.map(a=>a.route)),o=new Set;for(let a of r)if(!o.has(a))for(let l of Ey(a))o.add(l);let c=0;return ue(o).pipe(Tn(a=>r.has(a)?OT(a,s,t,e):(a.data=H5(a,a.parent,t).resolve,R(void 0))),Ke(()=>c++),Ks(1),Ge(a=>c===o.size?R(n):yt))})}function Ey(t){let e=t.children.map(n=>Ey(n)).flat();return[t,...e]}function OT(t,e,n,s){let i=t.routeConfig,r=t._resolve;return i?.title!==void 0&&!Cy(i)&&(r[C3]=i.title),FT(r,t,e,s).pipe(V(o=>(t._resolvedData=o,t.data=H5(t,t.parent,n).resolve,null)))}function FT(t,e,n,s){let i=C5(t);if(i.length===0)return R({});let r={};return ue(i).pipe(Ge(o=>VT(t[o],e,n,s).pipe(i2(),Ke(c=>{r[o]=c}))),Ks(1),_a(r),B1(o=>wy(o)?yt:Ws(o)))}function VT(t,e,n,s){let i=_3(e)??s,r=xi(t,i),o=r.resolve?r.resolve(e,n):_1(i,()=>r(e,n));return nn(o)}function g5(t){return Ce(e=>{let n=t(e);return n?ue(n).pipe(V(()=>e)):R(e)})}var Sy=(()=>{let e=class e{buildTitle(s){let i,r=s.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===J);return i}getResolvedTitleForRoute(s){return s.data[C3]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>E(jT),providedIn:"root"});let t=e;return t})(),jT=(()=>{let e=class e extends Sy{constructor(s){super(),this.title=s}updateTitle(s){let i=this.buildTitle(s);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(C(Gg))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),w3=new N("",{providedIn:"root",factory:()=>({})}),rc=new N(""),K5=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(To)}loadComponent(s){if(this.componentLoaders.get(s))return this.componentLoaders.get(s);if(s._loadedComponent)return R(s._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(s);let i=nn(s.loadComponent()).pipe(V(Dy),Ke(o=>{this.onLoadEndListener&&this.onLoadEndListener(s),s._loadedComponent=o}),O2(()=>{this.componentLoaders.delete(s)})),r=new js(i,()=>new pe).pipe(Vs());return this.componentLoaders.set(s,r),r}loadChildren(s,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return R({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=UT(i,this.compiler,s,this.onLoadEndListener).pipe(O2(()=>{this.childrenLoaders.delete(i)})),c=new js(o,()=>new pe).pipe(Vs());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function UT(t,e,n,s){return nn(t.loadChildren()).pipe(V(Dy),Ge(i=>i instanceof O0||Array.isArray(i)?R(i):ue(e.compileModuleAsync(i))),V(i=>{s&&s(t);let r,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(r=i.create(n).injector,o=r.get(rc,[],{optional:!0,self:!0}).flat()),{routes:o.map(q5),injector:r}}))}function BT(t){return t&&typeof t=="object"&&"default"in t}function Dy(t){return BT(t)?t.default:t}var Q5=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>E(HT),providedIn:"root"});let t=e;return t})(),HT=(()=>{let e=class e{shouldProcessUrl(s){return!0}extract(s){return s}merge(s,i){return s}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xy=new N(""),Ny=new N("");function $T(t,e,n){let s=t.get(Ny),i=t.get(Ve);return t.get(X).runOutsideAngular(()=>{if(!i.startViewTransition||s.skipNextTransition)return s.skipNextTransition=!1,new Promise(l=>setTimeout(l));let r,o=new Promise(l=>{r=l}),c=i.startViewTransition(()=>(r(),WT(t))),{onViewTransitionCreated:a}=s;return a&&_1(t,()=>a({transition:c,from:e,to:n})),o})}function WT(t){return new Promise(e=>{vo(e,{injector:t})})}var Y5=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pe,this.transitionAbortSubject=new pe,this.configLoader=E(K5),this.environmentInjector=E(At),this.urlSerializer=E(v3),this.rootContexts=E(M3),this.location=E(vi),this.inputBindingEnabled=E(ac,{optional:!0})!==null,this.titleStrategy=E(Sy),this.options=E(w3,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(Q5),this.createViewTransition=E(xy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null;let s=r=>this.events.next(new E5(r)),i=r=>this.events.next(new S5(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=s}complete(){this.transitions?.complete()}handleNavigationRequest(s){let i=++this.navigationId;this.transitions?.next(O(g(g({},this.transitions.value),s),{id:i}))}setupNavigations(s,i,r){return this.transitions=new ot({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:a3,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Nt(o=>o.id!==0),V(o=>O(g({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ce(o=>{let c=!1,a=!1;return R(o).pipe(Ce(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ht.SupersededByNewNavigation),yt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?O(g({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!s.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??s.onSameUrlNavigation;if(!u&&f!=="reload"){let d="";return this.events.next(new tn(l.id,this.urlSerializer.serialize(l.rawUrl),d,Zo.IgnoredSameUrlNavigation)),l.resolve(null),yt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return R(l).pipe(Ce(d=>{let h=this.transitions?.getValue();return this.events.next(new Si(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?yt:Promise.resolve(d)}),RT(this.environmentInjector,this.configLoader,this.rootComponentType,s.config,this.urlSerializer,this.paramsInheritanceStrategy),Ke(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=O(g({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new Xo(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:h,source:p,restoredState:m,extras:y}=l,M=new Si(d,this.urlSerializer.serialize(h),p,m);this.events.next(M);let z=gy(this.rootComponentType).snapshot;return this.currentTransition=o=O(g({},l),{targetSnapshot:z,urlAfterRedirects:h,extras:O(g({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,R(o)}else{let d="";return this.events.next(new tn(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Zo.IgnoredByUrlHandlingStrategy)),l.resolve(null),yt}}),Ke(l=>{let u=new L5(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),V(l=>(this.currentTransition=o=O(g({},l),{guards:JI(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),lT(this.environmentInjector,l=>this.events.next(l)),Ke(l=>{if(o.guardsResult=l.guardsResult,Ei(l.guardsResult))throw My(this.urlSerializer,l.guardsResult);let u=new w5(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Nt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ht.GuardRejected),!1)),g5(l=>{if(l.guards.canActivateChecks.length)return R(l).pipe(Ke(u=>{let f=new b5(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),Ce(u=>{let f=!1;return R(u).pipe(PT(this.paramsInheritanceStrategy,this.environmentInjector),Ke({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(u,"",Ht.NoDataFromResolver)}}))}),Ke(u=>{let f=new z5(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}))}),g5(l=>{let u=f=>{let d=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(f.routeConfig).pipe(Ke(h=>{f.component=h}),V(()=>{})));for(let h of f.children)d.push(...u(h));return d};return z0(u(l.targetSnapshot.root)).pipe(H1(null),g2(1))}),g5(()=>this.afterPreactivation()),Ce(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,f=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return f?ue(f).pipe(V(()=>o)):R(o)}),V(l=>{let u=WI(s.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=O(g({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Ke(()=>{this.events.next(new h3)}),XI(this.rootContexts,s.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),g2(1),Ke({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new E2(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),Sa(this.transitionAbortSubject.pipe(Ke(l=>{throw l}))),O2(()=>{!c&&!a&&this.cancelNavigationTransition(o,"",Ht.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),B1(l=>{if(a=!0,Ly(l))this.events.next(new en(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),KI(l)?this.events.next(new p3(l.url)):o.resolve(!1);else{this.events.next(new d3(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(s.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return yt}))}))}cancelNavigationTransition(s,i,r){let o=new en(s.id,this.urlSerializer.serialize(s.extractedUrl),i,r);this.events.next(o),s.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qT(t){return t!==a3}var GT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>E(KT),providedIn:"root"});let t=e;return t})(),B5=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},KT=(()=>{let e=class e extends B5{};e.\u0275fac=(()=>{let s;return function(r){return(s||(s=Qn(e)))(r||e)}})(),e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Iy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>E(QT),providedIn:"root"});let t=e;return t})(),QT=(()=>{let e=class e extends Iy{constructor(){super(...arguments),this.location=E(vi),this.urlSerializer=E(v3),this.options=E(w3,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(Q5),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new J1,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=gy(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(s){return this.location.subscribe(i=>{i.type==="popstate"&&s(i.url,i.state)})}handleRouterEvent(s,i){if(s instanceof Si)this.stateMemento=this.createStateMemento();else if(s instanceof tn)this.rawUrlTree=i.initialUrl;else if(s instanceof Xo){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else s instanceof h3?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):s instanceof en&&(s.code===Ht.GuardRejected||s.code===Ht.NoDataFromResolver)?this.restoreHistory(i):s instanceof d3?this.restoreHistory(i,!0):s instanceof E2&&(this.lastSuccessfulId=s.id,this.currentPageId=this.browserPageId)}setBrowserUrl(s,i){let r=this.urlSerializer.serialize(s);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,c=g(g({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",c)}else{let o=g(g({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(s,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===s.finalUrl&&o===0&&(this.resetState(s),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(s),this.resetUrlToCurrentUrlTree())}resetState(s){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,s.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(s,i){return this.canceledNavigationResolution==="computed"?{navigationId:s,\u0275routerPageId:i}:{navigationId:s}}};e.\u0275fac=(()=>{let s;return function(r){return(s||(s=Qn(e)))(r||e)}})(),e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),o3=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(o3||{});function Ty(t,e){t.events.pipe(Nt(n=>n instanceof E2||n instanceof en||n instanceof d3||n instanceof tn),V(n=>n instanceof E2||n instanceof tn?o3.COMPLETE:(n instanceof en?n.code===Ht.Redirect||n.code===Ht.SupersededByNewNavigation:!1)?o3.REDIRECTING:o3.FAILED),Nt(n=>n!==o3.REDIRECTING),g2(1)).subscribe(()=>{e()})}function YT(t){throw t}var ZT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xe=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=E(Do),this.stateManager=E(Iy),this.options=E(w3,{optional:!0})||{},this.pendingTasks=E(_o),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E(Y5),this.urlSerializer=E(v3),this.location=E(vi),this.urlHandlingStrategy=E(Q5),this._events=new pe,this.errorHandler=this.options.errorHandler||YT,this.navigated=!1,this.routeReuseStrategy=E(GT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E(rc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(ac,{optional:!0}),this.eventsSubscription=new Be,this.isNgZoneEnabled=E(X)instanceof X&&X.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:s=>{this.console.warn(s)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let s=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof en&&i.code!==Ht.Redirect&&i.code!==Ht.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof E2)this.navigated=!0;else if(i instanceof p3){let c=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||qT(r.source)};this.scheduleNavigation(c,a3,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}eA(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(s)}resetRootComponentType(s){this.routerState.root.component=s,this.navigationTransitions.rootComponentType=s}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),a3,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((s,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(s,"popstate",i)},0)})}navigateToSyncWithBrowser(s,i,r){let o={replaceUrl:!0},c=r?.navigationId?r:null;if(r){let l=g({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(s);this.scheduleNavigation(a,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(s){this.config=s.map(q5),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(s,i={}){let{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:a,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:c,f=null;switch(a){case"merge":f=g(g({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=dy(h)}catch{(typeof s[0]!="string"||!s[0].startsWith("/"))&&(s=[]),d=this.currentUrlTree.root}return hy(d,s,f,u??null)}navigateByUrl(s,i={skipLocationChange:!1}){let r=Ei(s)?s:this.parseUrl(s),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,a3,null,i)}navigate(s,i={skipLocationChange:!1}){return JT(s),this.navigateByUrl(this.createUrlTree(s,i),i)}serializeUrl(s){return this.urlSerializer.serialize(s)}parseUrl(s){try{return this.urlSerializer.parse(s)}catch{return this.urlSerializer.parse("/")}}isActive(s,i){let r;if(i===!0?r=g({},ZT):i===!1?r=g({},XT):r=i,Ei(s))return Kg(this.currentUrlTree,s,r);let o=this.parseUrl(s);return Kg(this.currentUrlTree,o,r)}removeEmptyProps(s){return Object.entries(s).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(s,i,r,o,c){if(this.disposed)return Promise.resolve(!1);let a,l,u;c?(a=c.resolve,l=c.reject,u=c.promise):u=new Promise((d,h)=>{a=d,l=h});let f=this.pendingTasks.add();return Ty(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:s,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function JT(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new _(4008,!1)}function eA(t){return!(t instanceof h3)&&!(t instanceof p3)}var oc=(()=>{let e=class e{constructor(s,i,r,o,c,a){this.router=s,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new pe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=s.events.subscribe(u=>{u instanceof E2&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(s){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",s)}ngOnChanges(s){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(s){s!=null?(this.commands=Array.isArray(s)?s:[s],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(s,i,r,o,c){let a=this.urlTree;if(a===null||this.isAnchorElement&&(s!==0||i||r||o||c||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let s=this.urlTree;this.href=s!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(s)):null;let i=this.href===null?null:hm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(s,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,s,i):r.removeAttribute(o,s)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(S(Xe),S(ns),p8("tabindex"),S(G2),S(Lt),S(N1))},e.\u0275dir=$e({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&Ee("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),i&2&&c2("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ut.HasDecoratorInputTransform,"preserveFragment","preserveFragment",X1],skipLocationChange:[ut.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",X1],replaceUrl:[ut.HasDecoratorInputTransform,"replaceUrl","replaceUrl",X1],routerLink:"routerLink"},standalone:!0,features:[P8,Mt]});let t=e;return t})(),Ay=(()=>{let e=class e{get isActive(){return this._isActive}constructor(s,i,r,o,c){this.router=s,this.element=i,this.renderer=r,this.cdr=o,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Oe,this.routerEventsSubscription=s.events.subscribe(a=>{a instanceof E2&&this.update()})}ngAfterContentInit(){R(this.links.changes,R(null)).pipe(P2()).subscribe(s=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let s=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ue(s).pipe(P2()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(s){let i=Array.isArray(s)?s:s.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(s){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let s=this.hasActiveLinks();this.classes.forEach(i=>{s?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),s&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==s&&(this._isActive=s,this.cdr.markForCheck(),this.isActiveChange.emit(s))})}isLinkActive(s){let i=tA(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?s.isActive(o,i):!1}}hasActiveLinks(){let s=this.isLinkActive(this.router);return this.link&&s(this.link)||this.links.some(s)}};e.\u0275fac=function(i){return new(i||e)(S(Xe),S(Lt),S(G2),S(S1),S(oc,8))},e.\u0275dir=$e({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&og(o,oc,5),i&2){let c;cg(c=ag())&&(r.links=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Mt]});let t=e;return t})();function tA(t){return!!t.paths}var cc=class{};var nA=(()=>{let e=class e{constructor(s,i,r,o,c){this.router=s,this.injector=r,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Nt(s=>s instanceof E2),Tn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(s,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Mo(o.providers,s,`Route: ${o.path}`));let c=o._injector??s,a=o._loadedInjector??c;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(c,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ue(r).pipe(P2())}preloadConfig(s,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(s,i):r=R(null);let o=r.pipe(Ge(c=>c===null?R(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??s,c.routes))));if(i.loadComponent&&!i._loadedComponent){let c=this.loader.loadComponent(i);return ue([o,c]).pipe(P2())}else return o})}};e.\u0275fac=function(i){return new(i||e)(C(Xe),C(To),C(At),C(cc),C(K5))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ky=new N(""),sA=(()=>{let e=class e{constructor(s,i,r,o,c={}){this.urlSerializer=s,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=E(At),c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(s=>{s instanceof Si?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=s.navigationTrigger,this.restoredId=s.restoredState?s.restoredState.navigationId:0):s instanceof E2?(this.lastId=s.id,this.scheduleScrollEvent(s,this.urlSerializer.parse(s.urlAfterRedirects).fragment)):s instanceof tn&&s.code===Zo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(s,this.urlSerializer.parse(s.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(s=>{s instanceof Jo&&(s.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(s.position):s.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(s.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(s,i){this.zone.runOutsideAngular(()=>xe(this,null,function*(){yield new Promise(r=>{setTimeout(()=>{r()}),vo(()=>{r()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Jo(s,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Sm()},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})();function iA(t){return t.routerState.root}function b3(t,e){return{\u0275kind:t,\u0275providers:e}}function rA(){let t=E(_t);return e=>{let n=t.get(Q2);if(e!==n.components[0])return;let s=t.get(Xe),i=t.get(Ry);t.get(Z5)===1&&s.initialNavigation(),t.get(Py,null,re.Optional)?.setUpPreloading(),t.get(ky,null,re.Optional)?.init(),s.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Ry=new N("",{factory:()=>new pe}),Z5=new N("",{providedIn:"root",factory:()=>1});function oA(){return b3(2,[{provide:Z5,useValue:0},{provide:Io,multi:!0,deps:[_t],useFactory:e=>{let n=e.get(Ig,Promise.resolve());return()=>n.then(()=>new Promise(s=>{let i=e.get(Xe),r=e.get(Ry);Ty(i,()=>{s(!0)}),e.get(Y5).afterPreactivation=()=>(s(!0),r.closed?R(void 0):r),i.initialNavigation()}))}}])}function cA(){return b3(3,[{provide:Io,multi:!0,useFactory:()=>{let e=E(Xe);return()=>{e.setUpLocationChangeListener()}}},{provide:Z5,useValue:2}])}var Py=new N("");function aA(t){return b3(0,[{provide:Py,useExisting:nA},{provide:cc,useExisting:t}])}function lA(){return b3(8,[Xg,{provide:ac,useExisting:Xg}])}function uA(t){let e=[{provide:xy,useValue:$T},{provide:Ny,useValue:g({skipNextTransition:!!t?.skipInitialTransition},t)}];return b3(9,e)}var ey=new N("ROUTER_FORROOT_GUARD"),fA=[vi,{provide:v3,useClass:u3},Xe,M3,{provide:ns,useFactory:iA,deps:[Xe]},K5,[]],X5=(()=>{let e=class e{constructor(s){}static forRoot(s,i){return{ngModule:e,providers:[fA,[],{provide:rc,multi:!0,useValue:s},{provide:ey,useFactory:mA,deps:[[Xe,new fi,new Ql]]},{provide:w3,useValue:i||{}},i?.useHash?hA():pA(),dA(),i?.preloadingStrategy?aA(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?gA(i):[],i?.bindToComponentInputs?lA().\u0275providers:[],i?.enableViewTransitions?uA().\u0275providers:[],yA()]}}static forChild(s){return{ngModule:e,providers:[{provide:rc,multi:!0,useValue:s}]}}};e.\u0275fac=function(i){return new(i||e)(C(ey,8))},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let t=e;return t})();function dA(){return{provide:ky,useFactory:()=>{let t=E(Vg),e=E(X),n=E(w3),s=E(Y5),i=E(v3);return n.scrollOffset&&t.setOffset(n.scrollOffset),new sA(i,s,t,e,n)}}}function hA(){return{provide:N1,useClass:Ag}}function pA(){return{provide:N1,useClass:s5}}function mA(t){return"guarded"}function gA(t){return[t.initialNavigation==="disabled"?cA().\u0275providers:[],t.initialNavigation==="enabledBlocking"?oA().\u0275providers:[]]}var ty=new N("");function yA(){return[{provide:ty,useFactory:rA},{provide:W8,multi:!0,useExisting:ty}]}var U_=nd(e7());var fc={quality:.2,maxWidth:800,maxHeight:600,autoRotate:!0};var at=[];for(dc=0;dc<256;++dc)at.push((dc+256).toString(16).slice(1));var dc;function Oy(t,e=0){return(at[t[e+0]]+at[t[e+1]]+at[t[e+2]]+at[t[e+3]]+"-"+at[t[e+4]]+at[t[e+5]]+"-"+at[t[e+6]]+at[t[e+7]]+"-"+at[t[e+8]]+at[t[e+9]]+"-"+at[t[e+10]]+at[t[e+11]]+at[t[e+12]]+at[t[e+13]]+at[t[e+14]]+at[t[e+15]]).toLowerCase()}var hc,CA=new Uint8Array(16);function t7(){if(!hc&&(hc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!hc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hc(CA)}var vA=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),n7={randomUUID:vA};function MA(t,e,n){if(n7.randomUUID&&!e&&!t)return n7.randomUUID();t=t||{};var s=t.random||(t.rng||t7)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=s[i];return e}return Oy(s)}var s7=MA;var _A="firebase",LA="10.12.2";Ft(_A,LA,"app");var e1=new M1("ANGULARFIRE2_VERSION");var Fy=(t,e)=>{let n=e?[e]:Cd(),s=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{s.includes(o)||s.push(o)})}),s},J2=class{constructor(){return Fy(wA)}},wA="app-check";function Ii(){}var pc=class{zone;delegate;constructor(e,n=ga){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,s){let i=this.zone,r=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(r,n,s)}},i7=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let s=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ii,{},Ii,Ii)),n.pipe(Ke({next:s,complete:s,error:s})).subscribe(e).add(s)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},is=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new pc(Zone.current)),this.insideAngular=n.run(()=>new pc(Zone.current,In)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(s){return new(s||t)(C(X))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function z3(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function bA(t){return z3().ngZone.runOutsideAngular(()=>t())}function ss(t){return z3().ngZone.run(()=>t())}function r7(t){return t.pipe(xt(z3().outsideAngular))}function $t(t){return zA(z3())(t)}function zA(t){return function(n){return n=n.lift(new i7(t.ngZone)),n.pipe(s2(t.outsideAngular),xt(t.insideAngular))}}var EA=(t,e)=>function(){let s=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ss(()=>t.apply(void 0,s))},Vy=(t,e)=>function(){let n,s=arguments;for(let r=0;r<arguments.length;r++)typeof s[r]=="function"&&(e&&(n||=ss(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ii,{},Ii,Ii))),s[r]=EA(s[r],n));let i=bA(()=>t.apply(this,s));if(!e)if(i instanceof K){let r=z3();return i.pipe(s2(r.outsideAngular),xt(r.insideAngular))}else return ss(()=>i);return i instanceof K?i.pipe($t):i instanceof Promise?ss(()=>new Promise((r,o)=>i.then(c=>ss(()=>r(c)),c=>ss(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ss(()=>i)};var SA=new Map,DA={activated:!1,tokenObservers:[]},xA={initialized:!1,enabled:!1};function S2(t){return SA.get(t)||Object.assign({},DA)}function qy(){return xA}var NA="https://content-firebaseappcheck.googleapis.com/v1";var IA="exchangeDebugToken",jy={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},iJ=24*60*60*1e3;var a7=class{constructor(e,n,s,i,r){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=s,this.lowerBound=i,this.upperBound=r,this.pending=null,this.nextErrorWaitInterval=i,i>r)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return xe(this,null,function*(){this.stop();try{this.pending=new Je,this.pending.promise.catch(n=>{}),yield TA(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Je,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function TA(t){return new Promise(e=>{setTimeout(e,t)})}var AA={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},sn=new fd("appCheck","AppCheck",AA);function Gy(t){if(!S2(t).activated)throw sn.create("use-before-activation",{appName:t.name})}function Ky(s,i){return xe(this,arguments,function*({url:t,body:e},n){let r={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let h=yield o.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}let c={method:"POST",body:JSON.stringify(e),headers:r},a;try{a=yield fetch(t,c)}catch(h){throw sn.create("fetch-network-error",{originalErrorMessage:h?.message})}if(a.status!==200)throw sn.create("fetch-status-error",{httpStatus:a.status});let l;try{l=yield a.json()}catch(h){throw sn.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw sn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(u[1])*1e3,d=Date.now();return{token:l.token,expireTimeMillis:d+f,issuedAtTimeMillis:d}})}function Qy(t,e){let{projectId:n,appId:s,apiKey:i}=t.options;return{url:`${NA}/projects/${n}/apps/${s}:${IA}?key=${i}`,body:{debug_token:e}}}var kA="firebase-app-check-database",RA=1,l7="firebase-app-check-store";var mc=null;function PA(){return mc||(mc=new Promise((t,e)=>{try{let n=indexedDB.open(kA,RA);n.onsuccess=s=>{t(s.target.result)},n.onerror=s=>{var i;e(sn.create("storage-open",{originalErrorMessage:(i=s.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=s=>{let i=s.target.result;switch(s.oldVersion){case 0:i.createObjectStore(l7,{keyPath:"compositeKey"})}}}catch(n){e(sn.create("storage-open",{originalErrorMessage:n?.message}))}}),mc)}function OA(t,e){return FA(VA(t),e)}function FA(t,e){return xe(this,null,function*(){let s=(yield PA()).transaction(l7,"readwrite"),r=s.objectStore(l7).put({compositeKey:t,value:e});return new Promise((o,c)=>{r.onsuccess=a=>{o()},s.onerror=a=>{var l;c(sn.create("storage-set",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})})}function VA(t){return`${t.options.appId}-${t.name}`}var u7=new Ts("@firebase/app-check");function c7(t,e){return ld()?OA(t,e).catch(n=>{u7.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Yy(){return qy().enabled}function Zy(){return xe(this,null,function*(){let t=qy();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var jA={error:"UNKNOWN_ERROR"};function UA(t){return Or.encodeString(JSON.stringify(t),!1)}function f7(t,e=!1){return xe(this,null,function*(){let n=t.app;Gy(n);let s=S2(n),i=s.token,r;if(i&&!E3(i)&&(s.token=void 0,i=void 0),!i){let a=yield s.cachedTokenPromise;a&&(E3(a)?i=a:yield c7(n,void 0))}if(!e&&i&&E3(i))return{token:i.token};let o=!1;if(Yy()){s.exchangeTokenPromise||(s.exchangeTokenPromise=Ky(Qy(n,yield Zy()),t.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),o=!0);let a=yield s.exchangeTokenPromise;return yield c7(n,a),s.token=a,{token:a.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),o=!0),i=yield S2(n).exchangeTokenPromise}catch(a){a.code==="appCheck/throttled"?u7.warn(a.message):u7.error(a),r=a}let c;return i?r?E3(i)?c={token:i.token,internalError:r}:c=By(r):(c={token:i.token},s.token=i,yield c7(n,i)):c=By(r),o&&WA(n,c),c})}function BA(t){return xe(this,null,function*(){let e=t.app;Gy(e);let{provider:n}=S2(e);if(Yy()){let s=yield Zy(),{token:i}=yield Ky(Qy(e,s),t.heartbeatServiceProvider);return{token:i}}else{let{token:s}=yield n.getToken();return{token:s}}})}function HA(t,e,n,s){let{app:i}=t,r=S2(i),o={next:n,error:s,type:e};if(r.tokenObservers=[...r.tokenObservers,o],r.token&&E3(r.token)){let c=r.token;Promise.resolve().then(()=>{n({token:c.token}),Uy(t)}).catch(()=>{})}r.cachedTokenPromise.then(()=>Uy(t))}function Xy(t,e){let n=S2(t),s=n.tokenObservers.filter(i=>i.next!==e);s.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=s}function Uy(t){let{app:e}=t,n=S2(e),s=n.tokenRefresher;s||(s=$A(t),n.tokenRefresher=s),!s.isRunning()&&n.isTokenAutoRefreshEnabled&&s.start()}function $A(t){let{app:e}=t;return new a7(()=>xe(this,null,function*(){let n=S2(e),s;if(n.token?s=yield f7(t,!0):s=yield f7(t),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{let n=S2(e);if(n.token){let s=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return s=Math.min(s,i),Math.max(0,s-Date.now())}else return 0},jy.RETRIAL_MIN_WAIT,jy.RETRIAL_MAX_WAIT)}function WA(t,e){let n=S2(t).tokenObservers;for(let s of n)try{s.type==="EXTERNAL"&&e.error!=null?s.error(e.error):s.next(e)}catch{}}function E3(t){return t.expireTimeMillis-Date.now()>0}function By(t){return{token:UA(jA),error:t}}var d7=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=S2(this.app);for(let n of e)Xy(this.app,n.next);return Promise.resolve()}};function qA(t,e){return new d7(t,e)}function GA(t){return{getToken:e=>f7(t,e),getLimitedUseToken:()=>BA(t),addTokenListener:e=>HA(t,"INTERNAL",e),removeTokenListener:e=>Xy(t.app,e)}}var KA="@firebase/app-check",QA="0.8.4";var YA="app-check",Hy="app-check-internal";function ZA(){zn(new Ot(YA,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return qA(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Hy).initialize()})),zn(new Ot(Hy,t=>{let e=t.getProvider("app-check").getImmediate();return GA(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ft(KA,QA)}ZA();var XA=["localhost","0.0.0.0","127.0.0.1"],gJ=typeof window<"u"&&XA.includes(window.location.hostname);var JA="firebase",ek="10.12.2";Ze.registerVersion(JA,ek,"app-compat");var tk=["ngOnDestroy"],eC=(t,e,n,s={})=>new Proxy(t,{get:(i,r)=>n.runOutsideAngular(()=>{if(t[r])return s?.spy?.get&&s.spy.get(r,t[r]),t[r];if(tk.indexOf(r)>-1)return()=>{};let o=e.toPromise().then(c=>{let a=c?.[r];return typeof a=="function"?a.bind(c):a?.then?a.then(l=>n.run(()=>l)):n.run(()=>a)});return new Proxy(()=>{},{get:(c,a)=>o[a],apply:(c,a,l)=>o.then(u=>{let f=u?.(...l);return s?.spy?.apply&&s.spy.apply(r,l,f),f})})})});var gc=class{constructor(e){return e}},rn=new N("angularfire2.app.options"),on=new N("angularfire2.app.name");function rs(t,e,n){let s=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||s;let o=Ze.apps.filter(c=>c&&c.name===i.name)[0]||e.runOutsideAngular(()=>Ze.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){let c=!!module.hot;nk("error",`${o.name} Firebase App already initialized with different options${c?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new gc(o)}var nk=(t,...e)=>{G8()&&typeof console<"u"&&console[t](...e)},sk={provide:gc,useFactory:rs,deps:[rn,X,[new fi,on]]},tC=(()=>{class t{static initializeApp(n,s){return{ngModule:t,providers:[{provide:rn,useValue:n},{provide:on,useValue:s}]}}constructor(n){Ze.registerVersion("angularfire",e1.full,"core"),Ze.registerVersion("angularfire",e1.full,"app-compat"),Ze.registerVersion("angular",hg.full,n.toString())}static \u0275fac=function(s){return new(s||t)(C(dt))};static \u0275mod=ge({type:t});static \u0275inj=me({providers:[sk]})}return t})();function Ti(t,e,n,s,i){let[,r,o]=globalThis.\u0275AngularfireInstanceCache.find(c=>c[0]===t)||[];if(r)return ik(i,o)||(Jy("error",`${e} was already initialized on the ${n} Firebase App with different settings.${rk?" You may need to reload as Firebase is not HMR aware.":""}`),Jy("warn",{is:i,was:o})),r;{let c=s();return globalThis.\u0275AngularfireInstanceCache.push([t,c,i]),c}}function ik(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var rk=typeof module<"u"&&!!module.hot,Jy=(t,...e)=>{G8()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var p7=new N("angularfire2.auth.use-emulator"),m7=new N("angularfire2.auth.settings"),g7=new N("angularfire2.auth.tenant-id"),y7=new N("angularfire2.auth.langugage-code"),C7=new N("angularfire2.auth.use-device-language"),v7=new N("angularfire.auth.persistence"),M7=(t,e,n,s,i,r,o,c)=>Ti(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let a=e.runOutsideAngular(()=>t.auth());if(n&&a.useEmulator(...n),s&&(a.tenantId=s),a.languageCode=i,r&&a.useDeviceLanguage(),o)for(let[l,u]of Object.entries(o))a.settings[l]=u;return c&&a.setPersistence(c),a},[n,s,i,r,o,c]),S3=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,s,i,r,o,c,a,l,u,f,d,h){let p=new pe,m=R(void 0).pipe(xt(o.outsideAngular),Ce(()=>r.runOutsideAngular(()=>import("./chunk-MRHQRWGG.js"))),V(()=>rs(n,r,s)),V(y=>M7(y,r,c,l,u,f,a,d)),y4({bufferSize:1,refCount:!1}));if(J0(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=R(null);else{m.pipe(i2()).subscribe();let y=m.pipe(Ce(v=>v.getRedirectResult().then(D=>D,()=>null)),$t,y4({bufferSize:1,refCount:!1})),M=m.pipe(Ce(v=>new K(D=>({unsubscribe:r.runOutsideAngular(()=>v.onAuthStateChanged(j=>D.next(j),j=>D.error(j),()=>D.complete()))})))),z=m.pipe(Ce(v=>new K(D=>({unsubscribe:r.runOutsideAngular(()=>v.onIdTokenChanged(j=>D.next(j),j=>D.error(j),()=>D.complete()))}))));this.authState=y.pipe(C4(M),s2(o.outsideAngular),xt(o.insideAngular)),this.user=y.pipe(C4(z),s2(o.outsideAngular),xt(o.insideAngular)),this.idToken=this.user.pipe(Ce(v=>v?ue(v.getIdToken()):R(null))),this.idTokenResult=this.user.pipe(Ce(v=>v?ue(v.getIdTokenResult()):R(null))),this.credential=Gs(y,p,this.authState.pipe(Nt(v=>!v))).pipe(V(v=>v?.user?v:null),s2(o.outsideAngular),xt(o.insideAngular))}return eC(this,m,r,{spy:{apply:(y,M,z)=>{(y.startsWith("signIn")||y.startsWith("createUser"))&&z.then(v=>p.next(v))}}})}static \u0275fac=function(s){return new(s||t)(C(rn),C(on,8),C(dt),C(X),C(is),C(p7,8),C(m7,8),C(g7,8),C(y7,8),C(C7,8),C(v7,8),C(J2,8))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),nC=(()=>{class t{constructor(){Ze.registerVersion("angularfire",e1.full,"auth-compat")}static \u0275fac=function(s){return new(s||t)};static \u0275mod=ge({type:t});static \u0275inj=me({providers:[S3]})}return t})();var iC="@firebase/database",rC="1.0.5";var Tu="";function Au(t){Tu=t}var D7=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),qe(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Vr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var x7=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return n2(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var PC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new D7(e)}}catch{}return new x7},cs=PC("localStorage"),N7=PC("sessionStorage");var Pi=new Ts("@firebase/database"),OC=function(){let t=1;return function(){return t++}}(),FC=function(t){let e=gd(t),n=new md;n.update(e);let s=n.digest();return Or.encodeByteArray(s)},Z3=function(...t){let e="";for(let n=0;n<t.length;n++){let s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Z3.apply(null,s):typeof s=="object"?e+=qe(s):e+=s,e+=" "}return e},as=null,oC=!0,VC=function(t,e){b(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Pi.logLevel=yd.VERBOSE,as=Pi.log.bind(Pi),e&&N7.set("logging_enabled",!0)):typeof t=="function"?as=t:(as=null,N7.remove("logging_enabled"))},st=function(...t){if(oC===!0&&(oC=!1,as===null&&N7.get("logging_enabled")===!0&&VC(!0)),as){let e=Z3.apply(null,t);as(e)}},X3=function(t){return function(...e){st(t,...e)}},I7=function(...t){let e="FIREBASE INTERNAL ERROR: "+Z3(...t);Pi.error(e)},s1=function(...t){let e=`FIREBASE FATAL ERROR: ${Z3(...t)}`;throw Pi.error(e),new Error(e)},ht=function(...t){let e="FIREBASE WARNING: "+Z3(...t);Pi.warn(e)},ck=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},$c=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ak=function(t){if(k2()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},un="[MIN_NAME]",I1="[MAX_NAME]",us=function(t,e){if(t===e)return 0;if(t===un||e===I1)return-1;if(e===un||t===I1)return 1;{let n=cC(t),s=cC(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},lk=function(t,e){return t===e?0:t<e?-1:1},D3=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+qe(e))},ku=function(t){if(typeof t!="object"||t===null)return qe(t);let e=[];for(let s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=qe(e[s]),n+=":",n+=ku(t[e[s]]);return n+="}",n},jC=function(t,e){let n=t.length;if(n<=e)return[t];let s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function it(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var UC=function(t){b(!$c(t),"Invalid JSON number");let e=11,n=52,s=(1<<e-1)-1,i,r,o,c,a;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=c+s,o=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));let l=[];for(a=n;a;a-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)l.push(r%2?1:0),r=Math.floor(r/2);l.push(i?1:0),l.reverse();let u=l.join(""),f="";for(a=0;a<64;a+=8){let d=parseInt(u.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},uk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},fk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function dk(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}var hk=new RegExp("^-?(0*)\\d{1,10}$"),pk=-2147483648,mk=2147483647,cC=function(t){if(hk.test(t)){let e=Number(t);if(e>=pk&&e<=mk)return e}return null},Wi=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw ht("Exception was thrown by user callback.",n),e},Math.floor(0))}},gk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},T3=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var T7=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){ht(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var A7=class{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(st("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ht(e)}},A3=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Cc="5",BC="v",HC="s",$C="r",WC="f",qC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,GC="ls",KC="p",k7="ac",QC="websocket",YC="long_polling";var vc=class{constructor(e,n,s,i,r=!1,o="",c=!1,a=!1){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&cs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function yk(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ZC(t,e,n){b(typeof e=="string","typeof type must == string"),b(typeof n=="object","typeof params must == object");let s;if(e===QC)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===YC)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);yk(t)&&(n.ns=t.namespace);let i=[];return it(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}var R7=class{constructor(){this.counters_={}}incrementCounter(e,n=1){n2(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return cd(this.counters_)}};var _7={},L7={};function Ru(t){let e=t.toString();return _7[e]||(_7[e]=new R7),_7[e]}function Ck(t,e){let n=t.toString();return L7[n]||(L7[n]=e()),L7[n]}var P7=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&Wi(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var aC="start",vk="close",Mk="pLPCommand",_k="pRTLPCB",XC="id",JC="pw",ev="ser",Lk="cb",wk="seg",bk="ts",zk="d",Ek="dframe",tv=1870,nv=30,Sk=tv-nv,Dk=25e3,xk=3e4,O3=class t{constructor(e,n,s,i,r,o,c){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=X3(e),this.stats_=Ru(n),this.urlFn=a=>(this.appCheckToken&&(a[k7]=this.appCheckToken),ZC(n,YC,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new P7(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(xk)),ak(()=>{if(this.isClosed_)return;this.scriptTagHolder=new O7((...r)=>{let[o,c,a,l,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===aC)this.id=c,this.password=a;else if(o===vk)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{let[o,c]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);let s={};s[aC]="t",s[ev]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[Lk]=this.scriptTagHolder.uniqueCallbackIdentifier),s[BC]=Cc,this.transportSessionId&&(s[HC]=this.transportSessionId),this.lastSessionId&&(s[GC]=this.lastSessionId),this.applicationId&&(s[KC]=this.applicationId),this.appCheckToken&&(s[k7]=this.appCheckToken),typeof location<"u"&&location.hostname&&qC.test(location.hostname)&&(s[$C]=WC);let i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return k2()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!uk()&&!fk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let s=od(n),i=jC(s,Sk);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(k2())return;this.myDisconnFrame=document.createElement("iframe");let s={};s[Ek]="t",s[XC]=e,s[JC]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=qe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},O7=class t{constructor(e,n,s,i){if(this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,k2())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=OC(),window[Mk+this.uniqueCallbackIdentifier]=e,window[_k+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){st("frame writing exception"),c.stack&&st(c.stack),st(c)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||st("No IE domain setting required")}catch{let s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[XC]=this.myID,e[JC]=this.myPW,e[ev]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+nv+s.length<=tv;){let o=this.pendingSegs.shift();s=s+"&"+wk+i+"="+o.seg+"&"+bk+i+"="+o.ts+"&"+zk+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(Dk)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){k2()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){let i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{st("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}};var Nk=16384,Ik=45e3,Mc=null;typeof MozWebSocket<"u"?Mc=MozWebSocket:typeof WebSocket<"u"&&(Mc=WebSocket);var ki=(()=>{class t{constructor(n,s,i,r,o,c,a){this.connId=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=X3(this.connId),this.stats_=Ru(s),this.connURL=t.connectionURL_(s,c,a,r,i),this.nodeAdmin=s.nodeAdmin}static connectionURL_(n,s,i,r,o){let c={};return c[BC]=Cc,!k2()&&typeof location<"u"&&location.hostname&&qC.test(location.hostname)&&(c[$C]=WC),s&&(c[HC]=s),i&&(c[GC]=i),r&&(c[k7]=r),o&&(c[KC]=o),ZC(n,QC,c)}open(n,s){this.onDisconnect=s,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cs.set("previous_websocket_failure",!0);try{let i;if(k2()){let r=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Cc}/${Tu}/${process.platform}/${r}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,c=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;c&&(i.proxy={origin:c})}this.mySock=new Mc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let s=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(s);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Mc!==null&&!t.forceDisallow_}static previouslyFailed(){return cs.isInMemoryStorage||cs.get("previous_websocket_failure")===!0}markConnectionHealthy(){cs.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let s=this.frames.join("");this.frames=null;let i=Vr(s);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(b(this.frames===null,"We already have a frame buffer"),n.length<=6){let s=Number(n);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let s=n.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{let i=this.extractFrameCount_(s);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let s=qe(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);let i=jC(s,Nk);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ik))}sendString_(n){try{this.mySock.send(n)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),sv=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[O3,ki]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let s=ki&&ki.isAvailable(),i=s&&!ki.previouslyFailed();if(n.webSocketOnly&&(s||ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ki];else{let r=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),Tk=6e4,Ak=5e3,kk=10*1024,Rk=100*1024,w7="t",lC="d",Pk="s",uC="r",Ok="e",fC="o",dC="a",hC="n",pC="p",Fk="h",F7=class{constructor(e,n,s,i,r,o,c,a,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=X3("c:"+this.id+":"),this.transportManager_=new sv(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=T3(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Rk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>kk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(w7 in e){let n=e[w7];n===dC?this.upgradeIfSecondaryHealthy_():n===uC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===fC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=D3("t",e),s=D3("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:pC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:dC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:hC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=D3("t",e),s=D3("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=D3(w7,e);if(lC in e){let s=e[lC];if(n===Fk){let i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===hC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Pk?this.onConnectionShutdown_(s):n===uC?this.onReset_(s):n===Ok?I7("Server Error: "+s):n===fC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I7("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Cc!==s&&ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),T3(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Tk))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):T3(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Ak))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:pC,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var _c=class{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}};var Lc=class{constructor(e){this.allowedEvents_=e,this.listeners_={},b(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});let i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){b(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var wc=class t extends Lc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!na()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return b(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var mC=32,gC=768,de=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function fe(){return new de("")}function se(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function fn(t){return t.pieces_.length-t.pieceNum_}function we(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new de(t.pieces_,e)}function Pu(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Vk(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function F3(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function iv(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new de(e,0)}function Te(t,e){let n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof de)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{let s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new de(n,0)}function ie(t){return t.pieceNum_>=t.pieces_.length}function wt(t,e){let n=se(t),s=se(e);if(n===null)return e;if(n===s)return wt(we(t),we(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function jk(t,e){let n=F3(t,0),s=F3(e,0);for(let i=0;i<n.length&&i<s.length;i++){let r=us(n[i],s[i]);if(r!==0)return r}return n.length===s.length?0:n.length<s.length?-1:1}function Ou(t,e){if(fn(t)!==fn(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function l2(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(fn(t)>fn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}var V7=class{constructor(e,n){this.errorPrefix_=n,this.parts_=F3(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=_0(this.parts_[s]);rv(this)}};function Uk(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=_0(e),rv(t)}function Bk(t){let e=t.parts_.pop();t.byteLength_-=_0(e),t.parts_.length>0&&(t.byteLength_-=1)}function rv(t){if(t.byteLength_>gC)throw new Error(t.errorPrefix_+"has a key path longer than "+gC+" bytes ("+t.byteLength_+").");if(t.parts_.length>mC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+mC+") or object contains a cycle "+os(t))}function os(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var j7=class t extends Lc{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new t}getInitialEvent(e){return b(e==="visible","Unknown event type: "+e),[this.visible_]}};var x3=1e3,Hk=60*5*1e3,yC=30*1e3,$k=1.3,Wk=3e4,qk="server_kill",CC=3,Fu=(()=>{class t extends _c{constructor(n,s,i,r,o,c,a,l){if(super(),this.repoInfo_=n,this.applicationId_=s,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=X3("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=x3,this.maxReconnectDelay_=Hk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!k2())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");j7.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&wc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,s,i){let r=++this.requestNumber_,o={r,a:n,b:s};this.log_(qe(o)),b(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(n){this.initConnection_();let s=new Je,r={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:c=>{let a=c.d;c.s==="ok"?s.resolve(a):s.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),s.promise}listen(n,s,i,r){this.initConnection_();let o=n._queryIdentifier,c=n._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),b(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");let a={onComplete:r,hashFn:s,query:n,tag:i};this.listens.get(c).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(n){let s=this.outstandingGets_[n];this.sendRequest("g",s.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(i)})}sendListen_(n){let s=n.query,i=s._path.toString(),r=s._queryIdentifier;this.log_("Listen on "+i+" for "+r);let o={p:i},c="q";n.tag&&(o.q=s._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(c,o,a=>{let l=a.d,u=a.s;t.warnOnListenWarnings_(l,s),(this.listens.get(i)&&this.listens.get(i).get(r))===n&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(i,r),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,s){if(n&&typeof n=="object"&&n2(n,"w")){let i=U1(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let r='".indexOn": "'+s._queryParams.getIndex().toString()+'"',o=s._path.toString();ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||hd(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=yC)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,s=dd(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(s,i,r=>{let o=r.s,c=r.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let s=n.s,i=n.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,i)})}unlisten(n,s){let i=n._path.toString(),r=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,n._queryObject,s)}sendUnlisten_(n,s,i,r){this.log_("Unlisten on "+n+" for "+s);let o={p:n},c="n";r&&(o.q=i,o.t=r),this.sendRequest(c,o)}onDisconnectPut(n,s,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,s,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:s,onComplete:i})}onDisconnectMerge(n,s,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,s,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:s,onComplete:i})}onDisconnectCancel(n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(n,s,i,r){let o={p:s,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,c=>{r&&setTimeout(()=>{r(c.s,c.d)},Math.floor(0))})}put(n,s,i,r){this.putInternal("p",n,s,i,r)}merge(n,s,i,r){this.putInternal("m",n,s,i,r)}putInternal(n,s,i,r,o){this.initConnection_();let c={p:s,d:i};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:n,request:c,onComplete:r}),this.outstandingPutCount_++;let a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+s)}sendPut_(n){let s=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,r=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(s,i,o=>{this.log_(s+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(n){if(this.connected_){let s={c:n};this.log_("reportStats",s),this.sendRequest("s",s,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+qe(n));let s=n.r,i=this.requestCBHash_[s];i&&(delete this.requestCBHash_[s],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,s){this.log_("handleServerMessage",n,s),n==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):n==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):n==="c"?this.onListenRevoked_(s.p,s.q):n==="ac"?this.onAuthRevoked_(s.s,s.d):n==="apc"?this.onAppCheckRevoked_(s.s,s.d):n==="sd"?this.onSecurityDebugPacket_(s):I7("Unrecognized action received from server: "+qe(n)+`
Are you using the latest client?`)}onReady_(n,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){b(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=x3,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=x3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Wk&&(this.reconnectDelay_=x3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,s=Math.max(0,this.reconnectDelay_-n);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*$k)}this.onConnectStatus_(!1)}establishConnection_(){return xe(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,c=!1,a=null,l=function(){a?a.close():(c=!0,i())},u=function(d){b(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};let f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[d,h]=yield Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);c?st("getToken() completed but was canceled"):(st("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new F7(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,s,i,p=>{ht(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(qk)},o))}catch(d){this.log_("Failed to get token: "+d),c||(this.repoInfo_.nodeAdmin&&ht(d),l())}}})}interrupt(n){st("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){st("Resuming connection for reason: "+n),delete this.interruptReasons_[n],jr(this.interruptReasons_)&&(this.reconnectDelay_=x3,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let s=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let s=this.outstandingPuts_[n];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,s){let i;s?i=s.map(o=>ku(o)).join("$"):i="default";let r=this.removeListen_(n,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(n,s){let i=new de(n).toString(),r;if(this.listens.has(i)){let o=this.listens.get(i);r=o.get(s),o.delete(s),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(n,s){st("Auth token revoked: "+n+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=CC&&(this.reconnectDelay_=yC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,s){st("App check token revoked: "+n+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=CC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let s of n.values())this.sendListen_(s);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},s="js";k2()&&(this.repoInfo_.nodeAdmin?s="admin_node":s="node"),n["sdk."+s+"."+Tu.replace(/\./g,"-")]=1,na()?n["framework.cordova"]=1:ad()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=wc.getInstance().currentlyOnline();return jr(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),ce=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Oi=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let s=new ce(un,e),i=new ce(un,n);return this.compare(s,i)!==0}minPost(){return ce.MIN}};var yc,bc=class extends Oi{static get __EMPTY_NODE(){return yc}static set __EMPTY_NODE(e){yc=e}compare(e,n){return us(e.name,n.name)}isDefinedOn(e){throw Is("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ce.MIN}maxPost(){return new ce(I1,yc)}makePost(e,n){return b(typeof e=="string","KeyIndex indexValue must always be a string."),new ce(e,yc)}toString(){return".key"}},n1=new bc;var Ri=class{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},D2=(()=>{class t{constructor(n,s,i,r,o){this.key=n,this.value=s,this.color=i??t.RED,this.left=r??u2.EMPTY_NODE,this.right=o??u2.EMPTY_NODE}copy(n,s,i,r,o){return new t(n??this.key,s??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,s,i){let r=this,o=i(n,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(n,s,i),null):o===0?r=r.copy(null,s,null,null,null):r=r.copy(null,null,null,null,r.right.insert(n,s,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return u2.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,s){let i,r;if(i=this,s(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,s),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),s(n,i.key)===0){if(i.right.isEmpty())return u2.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,s))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,s)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),U7=class{copy(e,n,s,i,r){return this}insert(e,n,s){return new D2(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},u2=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,D2.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,D2.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ri(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ri(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ri(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ri(this.root_,null,this.comparator_,!0,e)}};u2.EMPTY_NODE=new U7;function Gk(t,e){return us(t.name,e.name)}function Vu(t,e){return us(t,e)}var B7;function Kk(t){B7=t}var ov=function(t){return typeof t=="number"?"number:"+UC(t):"string:"+t},cv=function(t){if(t.isLeafNode()){let e=t.val();b(typeof e=="string"||typeof e=="number"||typeof e=="object"&&n2(e,".sv"),"Priority must be a string or number.")}else b(t===B7||t.isEmpty(),"priority of unexpected type.");b(t===B7||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var vC,Fi=(()=>{class t{constructor(n,s=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=s,this.lazyHash_=null,b(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),cv(this.priorityNode_)}static set __childrenNodeConstructor(n){vC=n}static get __childrenNodeConstructor(){return vC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ie(n)?this:se(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,s){return null}updateImmediateChild(n,s){return n===".priority"?this.updatePriority(s):s.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,s).updatePriority(this.priorityNode_)}updateChild(n,s){let i=se(n);return i===null?s:s.isEmpty()&&i!==".priority"?this:(b(i!==".priority"||fn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(we(n),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,s){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+ov(this.priorityNode_.val())+":");let s=typeof this.value_;n+=s+":",s==="number"?n+=UC(this.value_):n+=this.value_,this.lazyHash_=FC(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(b(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let s=typeof n.value_,i=typeof this.value_,r=t.VALUE_TYPE_ORDER.indexOf(s),o=t.VALUE_TYPE_ORDER.indexOf(i);return b(r>=0,"Unknown leaf type: "+s),b(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let s=n;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),av,lv;function Qk(t){av=t}function Yk(t){lv=t}var H7=class extends Oi{compare(e,n){let s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?us(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(I1,new Fi("[PRIORITY-POST]",lv))}makePost(e,n){let s=av(e);return new ce(n,new Fi("[PRIORITY-POST]",s))}toString(){return".priority"}},be=new H7;var Zk=Math.log(2),$7=class{constructor(e){let n=r=>parseInt(Math.log(r)/Zk,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},zc=function(t,e,n,s){t.sort(e);let i=function(a,l){let u=l-a,f,d;if(u===0)return null;if(u===1)return f=t[a],d=n?n(f):f,new D2(d,f.node,D2.BLACK,null,null);{let h=parseInt(u/2,10)+a,p=i(a,h),m=i(h+1,l);return f=t[h],d=n?n(f):f,new D2(d,f.node,D2.BLACK,p,m)}},r=function(a){let l=null,u=null,f=t.length,d=function(p,m){let y=f-p,M=f;f-=p;let z=i(y+1,M),v=t[y],D=n?n(v):v;h(new D2(D,v.node,m,null,z))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<a.count;++p){let m=a.nextBitIsOne(),y=Math.pow(2,a.count-(p+1));m?d(y,D2.BLACK):(d(y,D2.BLACK),d(y,D2.RED))}return u},o=new $7(t.length),c=r(o);return new u2(s||e,c)};var b7,Ai={},Vi=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return b(Ai&&be,"ChildrenNode.ts has not been loaded"),b7=b7||new t({".priority":Ai},{".priority":be}),b7}get(e){let n=U1(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof u2?n:null}hasIndex(e){return n2(this.indexSet_,e.toString())}addIndex(e,n){b(e!==n1,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let s=[],i=!1,r=n.getIterator(ce.Wrap),o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let c;i?c=zc(s,e.getCompare()):c=Ai;let a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;let u=Object.assign({},this.indexes_);return u[a]=c,new t(u,l)}addToIndexes(e,n){let s=M0(this.indexes_,(i,r)=>{let o=U1(this.indexSet_,r);if(b(o,"Missing index implementation for "+r),i===Ai)if(o.isDefinedOn(e.node)){let c=[],a=n.getIterator(ce.Wrap),l=a.getNext();for(;l;)l.name!==e.name&&c.push(l),l=a.getNext();return c.push(e),zc(c,o.getCompare())}else return Ai;else{let c=n.get(e.name),a=i;return c&&(a=a.remove(new ce(e.name,c))),a.insert(e,e.node)}});return new t(s,this.indexSet_)}removeFromIndexes(e,n){let s=M0(this.indexes_,i=>{if(i===Ai)return i;{let r=n.get(e.name);return r?i.remove(new ce(e.name,r)):i}});return new t(s,this.indexSet_)}};var N3,Q=(()=>{class t{constructor(n,s,i){this.children_=n,this.priorityNode_=s,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&cv(this.priorityNode_),this.children_.isEmpty()&&b(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return N3||(N3=new t(new u2(Vu),null,Vi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||N3}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let s=this.children_.get(n);return s===null?N3:s}}getChild(n){let s=se(n);return s===null?this:this.getImmediateChild(s).getChild(we(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,s){if(b(s,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(s);{let i=new ce(n,s),r,o;s.isEmpty()?(r=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(n,s),o=this.indexMap_.addToIndexes(i,this.children_));let c=r.isEmpty()?N3:this.priorityNode_;return new t(r,c,o)}}updateChild(n,s){let i=se(n);if(i===null)return s;{b(se(n)!==".priority"||fn(n)===1,".priority must be the last token in a path");let r=this.getImmediateChild(i).updateChild(we(n),s);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let s={},i=0,r=0,o=!0;if(this.forEachChild(be,(c,a)=>{s[c]=a.val(n),i++,o&&t.INTEGER_REGEXP_.test(c)?r=Math.max(r,Number(c)):o=!1}),!n&&o&&r<2*i){let c=[];for(let a in s)c[a]=s[a];return c}else return n&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+ov(this.getPriority().val())+":"),this.forEachChild(be,(s,i)=>{let r=i.hash();r!==""&&(n+=":"+s+":"+r)}),this.lazyHash_=n===""?"":FC(n)}return this.lazyHash_}getPredecessorChildName(n,s,i){let r=this.resolveIndex_(i);if(r){let o=r.getPredecessorKey(new ce(n,s));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let s=this.resolveIndex_(n);if(s){let i=s.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let s=this.getFirstChildName(n);return s?new ce(s,this.children_.get(s)):null}getLastChildName(n){let s=this.resolveIndex_(n);if(s){let i=s.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let s=this.getLastChildName(n);return s?new ce(s,this.children_.get(s)):null}forEachChild(n,s){let i=this.resolveIndex_(n);return i?i.inorderTraversal(r=>s(r.name,r.node)):this.children_.inorderTraversal(s)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,s){let i=this.resolveIndex_(s);if(i)return i.getIteratorFrom(n,r=>r);{let r=this.children_.getIteratorFrom(n.name,ce.Wrap),o=r.peek();for(;o!=null&&s.compare(o,n)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,s){let i=this.resolveIndex_(s);if(i)return i.getReverseIteratorFrom(n,r=>r);{let r=this.children_.getReverseIteratorFrom(n.name,ce.Wrap),o=r.peek();for(;o!=null&&s.compare(o,n)>0;)r.getNext(),o=r.peek();return r}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===J3?-1:0}withIndex(n){if(n===n1||this.indexMap_.hasIndex(n))return this;{let s=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,s)}}isIndexed(n){return n===n1||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let s=n;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){let i=this.getIterator(be),r=s.getIterator(be),o=i.getNext(),c=r.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=r.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(n){return n===n1?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),W7=class extends Q{constructor(){super(new u2(Vu),Q.EMPTY_NODE,Vi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}},J3=new W7;Object.defineProperties(ce,{MIN:{value:new ce(un,Q.EMPTY_NODE)},MAX:{value:new ce(I1,J3)}});bc.__EMPTY_NODE=Q.EMPTY_NODE;Fi.__childrenNodeConstructor=Q;Kk(J3);Yk(J3);var Xk=!0;function Re(t,e=null){if(t===null)return Q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),b(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Fi(n,Re(e))}if(!(t instanceof Array)&&Xk){let n=[],s=!1;if(it(t,(o,c)=>{if(o.substring(0,1)!=="."){let a=Re(c);a.isEmpty()||(s=s||!a.getPriority().isEmpty(),n.push(new ce(o,a)))}}),n.length===0)return Q.EMPTY_NODE;let r=zc(n,Gk,o=>o.name,Vu);if(s){let o=zc(n,be.getCompare());return new Q(r,Re(e),new Vi({".priority":o},{".priority":be}))}else return new Q(r,Re(e),Vi.Default)}else{let n=Q.EMPTY_NODE;return it(t,(s,i)=>{if(n2(t,s)&&s.substring(0,1)!=="."){let r=Re(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(Re(e))}}Qk(Re);var V3=class extends Oi{constructor(e){super(),this.indexPath_=e,b(!ie(e)&&se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?us(e.name,n.name):r}makePost(e,n){let s=Re(e),i=Q.EMPTY_NODE.updateChild(this.indexPath_,s);return new ce(n,i)}maxPost(){let e=Q.EMPTY_NODE.updateChild(this.indexPath_,J3);return new ce(I1,e)}toString(){return F3(this.indexPath_,0).join("/")}};var q7=class extends Oi{compare(e,n){let s=e.node.compareTo(n.node);return s===0?us(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,n){let s=Re(e);return new ce(n,s)}toString(){return".value"}},ju=new q7;function uv(t){return{type:"value",snapshotNode:t}}function ji(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function j3(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function U3(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Jk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var B3=class{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){b(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let c=e.getImmediateChild(n);return c.getChild(i).equals(s.getChild(i))&&c.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(j3(n,c)):b(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(ji(n,s)):o.trackChildChange(U3(n,s,c))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(be,(i,r)=>{n.hasChild(i)||s.trackChildChange(j3(i,r))}),n.isLeafNode()||n.forEachChild(be,(i,r)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(U3(i,r,o))}else s.trackChildChange(ji(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Ec=class t{constructor(e){this.indexedFilter_=new B3(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new ce(n,s))||(s=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=Q.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Q.EMPTY_NODE);let r=this;return n.forEachChild(be,(o,c)=>{r.matches(new ce(o,c))||(i=i.updateImmediateChild(o,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var G7=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{let s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Ec(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new ce(n,s))||(s=Q.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Q.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){let c=r.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))i=i.updateImmediateChild(c.name,c.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Q.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){let c=r.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:i=i.updateImmediateChild(c.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){let f=this.index_.getCompare();o=(d,h)=>f(h,d)}else o=this.index_.getCompare();let c=e;b(c.numChildren()===this.limit_,"");let a=new ce(n,s),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(c.hasChild(n)){let f=c.getImmediateChild(n),d=i.getChildAfterChild(this.index_,l,this.reverse_);for(;d!=null&&(d.name===n||c.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);let h=d==null?1:o(d,a);if(u&&!s.isEmpty()&&h>=0)return r?.trackChildChange(U3(n,s,f)),c.updateImmediateChild(n,s);{r?.trackChildChange(j3(n,f));let m=c.updateImmediateChild(n,Q.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(r?.trackChildChange(ji(d.name,d.node)),m.updateImmediateChild(d.name,d.node)):m}}else return s.isEmpty()?e:u&&o(l,a)>=0?(r!=null&&(r.trackChildChange(j3(l.name,l.node)),r.trackChildChange(ji(n,s))),c.updateImmediateChild(n,s).updateImmediateChild(l.name,Q.EMPTY_NODE)):e}};var H3=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=be}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return b(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return b(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:un}hasEnd(){return this.endSet_}getIndexEndValue(){return b(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return b(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I1}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return b(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===be}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function eR(t){return t.loadsAllData()?new B3(t.getIndex()):t.hasLimit()?new G7(t):new Ec(t)}function tR(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function nR(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function K7(t,e,n){let s=t.copy();return s.startSet_=!0,e===void 0&&(e=null),s.indexStartValue_=e,n!=null?(s.startNameSet_=!0,s.indexStartName_=n):(s.startNameSet_=!1,s.indexStartName_=""),s}function sR(t,e,n){let s;return t.index_===n1||n?s=K7(t,e,n):s=K7(t,e,I1),s.startAfterSet_=!0,s}function Q7(t,e,n){let s=t.copy();return s.endSet_=!0,e===void 0&&(e=null),s.indexEndValue_=e,n!==void 0?(s.endNameSet_=!0,s.indexEndName_=n):(s.endNameSet_=!1,s.indexEndName_=""),s}function iR(t,e,n){let s;return t.index_===n1||n?s=Q7(t,e,n):s=Q7(t,e,un),s.endBeforeSet_=!0,s}function Wc(t,e){let n=t.copy();return n.index_=e,n}function MC(t){let e={};if(t.isDefault())return e;let n;if(t.index_===be?n="$priority":t.index_===ju?n="$value":t.index_===n1?n="$key":(b(t.index_ instanceof V3,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=qe(n),t.startSet_){let s=t.startAfterSet_?"startAfter":"startAt";e[s]=qe(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+qe(t.indexStartName_))}if(t.endSet_){let s=t.endBeforeSet_?"endBefore":"endAt";e[s]=qe(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+qe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function _C(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==be&&(e.i=t.index_.toString()),e}var Y7=class t extends _c{constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=X3("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(b(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,s,i){let r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);let o=t.getListenId_(e,s),c={};this.listens_[o]=c;let a=MC(e._queryParams);this.restRequest_(r+".json",a,(l,u)=>{let f=u;if(l===404&&(f=null,l=null),l===null&&this.onDataUpdate_(r,f,!1,s),U1(this.listens_,o)===c){let d;l?l===401?d="permission_denied":d="rest_error:"+l:d="ok",i(d,null)}})}unlisten(e,n){let s=t.getListenId_(e,n);delete this.listens_[s]}get(e){let n=MC(e._queryParams),s=e._path.toString(),i=new Je;return this.restRequest_(s+".json",n,(r,o)=>{let c=o;r===404&&(c=null,r=null),r===null?(this.onDataUpdate_(s,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+pd(n);this.log_("Sending REST request for "+o);let c=new XMLHttpRequest;c.onreadystatechange=()=>{if(s&&c.readyState===4){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let a=null;if(c.status>=200&&c.status<300){try{a=Vr(c.responseText)}catch{ht("Failed to parse JSON response for "+o+": "+c.responseText)}s(null,a)}else c.status!==401&&c.status!==404&&ht("Got unsuccessful REST response for "+o+" Status: "+c.status),s(c.status);s=null}},c.open("GET",o,!0),c.send()})}};var Z7=class{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Sc(){return{value:null,children:new Map}}function qi(t,e,n){if(ie(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let s=se(e);t.children.has(s)||t.children.set(s,Sc());let i=t.children.get(s);e=we(e),qi(i,e,n)}}function X7(t,e){if(ie(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(be,(s,i)=>{qi(t,new de(s),i)}),X7(t,e)}}else if(t.children.size>0){let n=se(e);return e=we(e),t.children.has(n)&&X7(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function J7(t,e,n){t.value!==null?n(e,t.value):rR(t,(s,i)=>{let r=new de(e.toString()+"/"+s);J7(i,r,n)})}function rR(t,e){t.children.forEach((n,s)=>{e(s,n)})}var eu=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&it(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}};var LC=10*1e3,oR=30*1e3,cR=5*60*1e3,tu=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new eu(e);let s=LC+(oR-LC)*Math.random();T3(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){let e=this.statsListener_.get(),n={},s=!1;it(e,(i,r)=>{r>0&&n2(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),T3(this.reportStats_.bind(this),Math.floor(Math.random()*2*cR))}};var t1=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(t1||{});function Uu(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Bu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Hu(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var nu=class t{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=t1.ACK_USER_WRITE,this.source=Uu()}operationForChild(e){if(ie(this.path)){if(this.affectedTree.value!=null)return b(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new de(e));return new t(fe(),n,this.revert)}}else return b(se(this.path)===e,"operationForChild called for unrelated child."),new t(we(this.path),this.affectedTree,this.revert)}};var Dc=class t{constructor(e,n){this.source=e,this.path=n,this.type=t1.LISTEN_COMPLETE}operationForChild(e){return ie(this.path)?new t(this.source,fe()):new t(this.source,we(this.path))}};var Ui=class t{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=t1.OVERWRITE}operationForChild(e){return ie(this.path)?new t(this.source,fe(),this.snap.getImmediateChild(e)):new t(this.source,we(this.path),this.snap)}};var $3=class t{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=t1.MERGE}operationForChild(e){if(ie(this.path)){let n=this.children.subtree(new de(e));return n.isEmpty()?null:n.value?new Ui(this.source,fe(),n.value):new t(this.source,fe(),n)}else return b(se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,we(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var i1=class{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ie(e))return this.isFullyInitialized()&&!this.filtered_;let n=se(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var su=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function aR(t,e,n,s){let i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(Jk(o.childName,o.snapshotNode))}),I3(t,i,"child_removed",e,s,n),I3(t,i,"child_added",e,s,n),I3(t,i,"child_moved",r,s,n),I3(t,i,"child_changed",e,s,n),I3(t,i,"value",e,s,n),i}function I3(t,e,n,s,i,r){let o=s.filter(c=>c.type===n);o.sort((c,a)=>uR(t,c,a)),o.forEach(c=>{let a=lR(t,c,r);i.forEach(l=>{l.respondsTo(c.type)&&e.push(l.createEvent(a,t.query_))})})}function lR(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function uR(t,e,n){if(e.childName==null||n.childName==null)throw Is("Should only compare child_ events.");let s=new ce(e.childName,e.snapshotNode),i=new ce(n.childName,n.snapshotNode);return t.index_.compare(s,i)}function qc(t,e){return{eventCache:t,serverCache:e}}function k3(t,e,n,s){return qc(new i1(e,n,s),t.serverCache)}function fv(t,e,n,s){return qc(t.eventCache,new i1(e,n,s))}function xc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ls(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var z7,fR=()=>(z7||(z7=new u2(lk)),z7),bt=class t{constructor(e,n=fR()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return it(e,(s,i)=>{n=n.set(new de(s),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:fe(),value:this.value};if(ie(e))return null;{let s=se(e),i=this.children.get(s);if(i!==null){let r=i.findRootMostMatchingPathAndValue(we(e),n);return r!=null?{path:Te(new de(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ie(e))return this;{let n=se(e),s=this.children.get(n);return s!==null?s.subtree(we(e)):new t(null)}}set(e,n){if(ie(e))return new t(n,this.children);{let s=se(e),r=(this.children.get(s)||new t(null)).set(we(e),n),o=this.children.insert(s,r);return new t(this.value,o)}}remove(e){if(ie(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=se(e),s=this.children.get(n);if(s){let i=s.remove(we(e)),r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new t(null):new t(this.value,r)}else return this}}get(e){if(ie(e))return this.value;{let n=se(e),s=this.children.get(n);return s?s.get(we(e)):null}}setTree(e,n){if(ie(e))return n;{let s=se(e),r=(this.children.get(s)||new t(null)).setTree(we(e),n),o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new t(this.value,o)}}fold(e){return this.fold_(fe(),e)}fold_(e,n){let s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(Te(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,fe(),n)}findOnPath_(e,n,s){let i=this.value?s(n,this.value):!1;if(i)return i;if(ie(e))return null;{let r=se(e),o=this.children.get(r);return o?o.findOnPath_(we(e),Te(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,fe(),n)}foreachOnPath_(e,n,s){if(ie(e))return this;{this.value&&s(n,this.value);let i=se(e),r=this.children.get(i);return r?r.foreachOnPath_(we(e),Te(n,i),s):new t(null)}}foreach(e){this.foreach_(fe(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(Te(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}};var x2=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new bt(null))}};function R3(t,e,n){if(ie(e))return new x2(new bt(n));{let s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){let i=s.path,r=s.value,o=wt(i,e);return r=r.updateChild(o,n),new x2(t.writeTree_.set(i,r))}else{let i=new bt(n),r=t.writeTree_.setTree(e,i);return new x2(r)}}}function iu(t,e,n){let s=t;return it(n,(i,r)=>{s=R3(s,Te(e,i),r)}),s}function wC(t,e){if(ie(e))return x2.empty();{let n=t.writeTree_.setTree(e,new bt(null));return new x2(n)}}function ru(t,e){return fs(t,e)!=null}function fs(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(wt(n.path,e)):null}function bC(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(be,(s,i)=>{e.push(new ce(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new ce(s,i.value))}),e}function an(t,e){if(ie(e))return t;{let n=fs(t,e);return n!=null?new x2(new bt(n)):new x2(t.writeTree_.subtree(e))}}function ou(t){return t.writeTree_.isEmpty()}function Bi(t,e){return dv(fe(),t.writeTree_,e)}function dv(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(b(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=dv(Te(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(Te(t,".priority"),s)),n}}function Gc(t,e){return gv(e,t)}function dR(t,e,n,s,i){b(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=R3(t.visibleWrites,e,n)),t.lastWriteId=s}function hR(t,e,n,s){b(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=iu(t.visibleWrites,e,n),t.lastWriteId=s}function pR(t,e){for(let n=0;n<t.allWrites.length;n++){let s=t.allWrites[n];if(s.writeId===e)return s}return null}function mR(t,e){let n=t.allWrites.findIndex(c=>c.writeId===e);b(n>=0,"removeWrite called with nonexistent writeId.");let s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let c=t.allWrites[o];c.visible&&(o>=n&&gR(c,s.path)?i=!1:l2(s.path,c.path)&&(r=!0)),o--}if(i){if(r)return yR(t),!0;if(s.snap)t.visibleWrites=wC(t.visibleWrites,s.path);else{let c=s.children;it(c,a=>{t.visibleWrites=wC(t.visibleWrites,Te(s.path,a))})}return!0}else return!1}function gR(t,e){if(t.snap)return l2(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&l2(Te(t.path,n),e))return!0;return!1}function yR(t){t.visibleWrites=hv(t.allWrites,CR,fe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function CR(t){return t.visible}function hv(t,e,n){let s=x2.empty();for(let i=0;i<t.length;++i){let r=t[i];if(e(r)){let o=r.path,c;if(r.snap)l2(n,o)?(c=wt(n,o),s=R3(s,c,r.snap)):l2(o,n)&&(c=wt(o,n),s=R3(s,fe(),r.snap.getChild(c)));else if(r.children){if(l2(n,o))c=wt(n,o),s=iu(s,c,r.children);else if(l2(o,n))if(c=wt(o,n),ie(c))s=iu(s,fe(),r.children);else{let a=U1(r.children,se(c));if(a){let l=a.getChild(we(c));s=R3(s,fe(),l)}}}else throw Is("WriteRecord should have .snap or .children")}}return s}function pv(t,e,n,s,i){if(!s&&!i){let r=fs(t.visibleWrites,e);if(r!=null)return r;{let o=an(t.visibleWrites,e);if(ou(o))return n;if(n==null&&!ru(o,fe()))return null;{let c=n||Q.EMPTY_NODE;return Bi(o,c)}}}else{let r=an(t.visibleWrites,e);if(!i&&ou(r))return n;if(!i&&n==null&&!ru(r,fe()))return null;{let o=function(l){return(l.visible||i)&&(!s||!~s.indexOf(l.writeId))&&(l2(l.path,e)||l2(e,l.path))},c=hv(t.allWrites,o,e),a=n||Q.EMPTY_NODE;return Bi(c,a)}}}function vR(t,e,n){let s=Q.EMPTY_NODE,i=fs(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(be,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){let r=an(t.visibleWrites,e);return n.forEachChild(be,(o,c)=>{let a=Bi(an(r,new de(o)),c);s=s.updateImmediateChild(o,a)}),bC(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{let r=an(t.visibleWrites,e);return bC(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function MR(t,e,n,s,i){b(s||i,"Either existingEventSnap or existingServerSnap must exist");let r=Te(e,n);if(ru(t.visibleWrites,r))return null;{let o=an(t.visibleWrites,r);return ou(o)?i.getChild(n):Bi(o,i.getChild(n))}}function _R(t,e,n,s){let i=Te(e,n),r=fs(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){let o=an(t.visibleWrites,i);return Bi(o,s.getNode().getImmediateChild(n))}else return null}function LR(t,e){return fs(t.visibleWrites,e)}function wR(t,e,n,s,i,r,o){let c,a=an(t.visibleWrites,e),l=fs(a,fe());if(l!=null)c=l;else if(n!=null)c=Bi(a,n);else return[];if(c=c.withIndex(o),!c.isEmpty()&&!c.isLeafNode()){let u=[],f=o.getCompare(),d=r?c.getReverseIteratorFrom(s,o):c.getIteratorFrom(s,o),h=d.getNext();for(;h&&u.length<i;)f(h,s)!==0&&u.push(h),h=d.getNext();return u}else return[]}function bR(){return{visibleWrites:x2.empty(),allWrites:[],lastWriteId:-1}}function Nc(t,e,n,s){return pv(t.writeTree,t.treePath,e,n,s)}function $u(t,e){return vR(t.writeTree,t.treePath,e)}function zC(t,e,n,s){return MR(t.writeTree,t.treePath,e,n,s)}function Ic(t,e){return LR(t.writeTree,Te(t.treePath,e))}function zR(t,e,n,s,i,r){return wR(t.writeTree,t.treePath,e,n,s,i,r)}function Wu(t,e,n){return _R(t.writeTree,t.treePath,e,n)}function mv(t,e){return gv(Te(t.treePath,e),t.writeTree)}function gv(t,e){return{treePath:t,writeTree:e}}var cu=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,s=e.childName;b(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),b(s!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(s);if(i){let r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,U3(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,j3(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,ji(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,U3(s,e.snapshotNode,i.oldSnap));else throw Is("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}};var au=class{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}},yv=new au,W3=class{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let s=this.optCompleteServerCache_!=null?new i1(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Wu(this.writes_,e,s)}}getChildAfterChild(e,n,s){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ls(this.viewCache_),r=zR(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}};function ER(t){return{filter:t}}function SR(t,e){b(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),b(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function DR(t,e,n,s,i){let r=new cu,o,c;if(n.type===t1.OVERWRITE){let l=n;l.source.fromUser?o=lu(t,e,l.path,l.snap,s,i,r):(b(l.source.fromServer,"Unknown source."),c=l.source.tagged||e.serverCache.isFiltered()&&!ie(l.path),o=Tc(t,e,l.path,l.snap,s,i,c,r))}else if(n.type===t1.MERGE){let l=n;l.source.fromUser?o=NR(t,e,l.path,l.children,s,i,r):(b(l.source.fromServer,"Unknown source."),c=l.source.tagged||e.serverCache.isFiltered(),o=uu(t,e,l.path,l.children,s,i,c,r))}else if(n.type===t1.ACK_USER_WRITE){let l=n;l.revert?o=AR(t,e,l.path,s,i,r):o=IR(t,e,l.path,l.affectedTree,s,i,r)}else if(n.type===t1.LISTEN_COMPLETE)o=TR(t,e,n.path,s,r);else throw Is("Unknown operation type: "+n.type);let a=r.getChanges();return xR(e,o,a),{viewCache:o,changes:a}}function xR(t,e,n){let s=e.eventCache;if(s.isFullyInitialized()){let i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=xc(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(uv(xc(e)))}}function Cv(t,e,n,s,i,r){let o=e.eventCache;if(Ic(s,n)!=null)return e;{let c,a;if(ie(n))if(b(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=ls(e),u=l instanceof Q?l:Q.EMPTY_NODE,f=$u(s,u);c=t.filter.updateFullNode(e.eventCache.getNode(),f,r)}else{let l=Nc(s,ls(e));c=t.filter.updateFullNode(e.eventCache.getNode(),l,r)}else{let l=se(n);if(l===".priority"){b(fn(n)===1,"Can't have a priority with additional path components");let u=o.getNode();a=e.serverCache.getNode();let f=zC(s,n,u,a);f!=null?c=t.filter.updatePriority(u,f):c=o.getNode()}else{let u=we(n),f;if(o.isCompleteForChild(l)){a=e.serverCache.getNode();let d=zC(s,n,o.getNode(),a);d!=null?f=o.getNode().getImmediateChild(l).updateChild(u,d):f=o.getNode().getImmediateChild(l)}else f=Wu(s,l,e.serverCache);f!=null?c=t.filter.updateChild(o.getNode(),l,f,u,i,r):c=o.getNode()}}return k3(e,c,o.isFullyInitialized()||ie(n),t.filter.filtersNodes())}}function Tc(t,e,n,s,i,r,o,c){let a=e.serverCache,l,u=o?t.filter:t.filter.getIndexedFilter();if(ie(n))l=u.updateFullNode(a.getNode(),s,null);else if(u.filtersNodes()&&!a.isFiltered()){let h=a.getNode().updateChild(n,s);l=u.updateFullNode(a.getNode(),h,null)}else{let h=se(n);if(!a.isCompleteForPath(n)&&fn(n)>1)return e;let p=we(n),y=a.getNode().getImmediateChild(h).updateChild(p,s);h===".priority"?l=u.updatePriority(a.getNode(),y):l=u.updateChild(a.getNode(),h,y,p,yv,null)}let f=fv(e,l,a.isFullyInitialized()||ie(n),u.filtersNodes()),d=new W3(i,f,r);return Cv(t,f,n,i,d,c)}function lu(t,e,n,s,i,r,o){let c=e.eventCache,a,l,u=new W3(i,e,r);if(ie(n))l=t.filter.updateFullNode(e.eventCache.getNode(),s,o),a=k3(e,l,!0,t.filter.filtersNodes());else{let f=se(n);if(f===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),s),a=k3(e,l,c.isFullyInitialized(),c.isFiltered());else{let d=we(n),h=c.getNode().getImmediateChild(f),p;if(ie(d))p=s;else{let m=u.getCompleteChild(f);m!=null?Pu(d)===".priority"&&m.getChild(iv(d)).isEmpty()?p=m:p=m.updateChild(d,s):p=Q.EMPTY_NODE}if(h.equals(p))a=e;else{let m=t.filter.updateChild(c.getNode(),f,p,d,u,o);a=k3(e,m,c.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function EC(t,e){return t.eventCache.isCompleteForChild(e)}function NR(t,e,n,s,i,r,o){let c=e;return s.foreach((a,l)=>{let u=Te(n,a);EC(e,se(u))&&(c=lu(t,c,u,l,i,r,o))}),s.foreach((a,l)=>{let u=Te(n,a);EC(e,se(u))||(c=lu(t,c,u,l,i,r,o))}),c}function SC(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function uu(t,e,n,s,i,r,o,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,l;ie(n)?l=s:l=new bt(null).setTree(n,s);let u=e.serverCache.getNode();return l.children.inorderTraversal((f,d)=>{if(u.hasChild(f)){let h=e.serverCache.getNode().getImmediateChild(f),p=SC(t,h,d);a=Tc(t,a,new de(f),p,i,r,o,c)}}),l.children.inorderTraversal((f,d)=>{let h=!e.serverCache.isCompleteForChild(f)&&d.value===null;if(!u.hasChild(f)&&!h){let p=e.serverCache.getNode().getImmediateChild(f),m=SC(t,p,d);a=Tc(t,a,new de(f),m,i,r,o,c)}}),a}function IR(t,e,n,s,i,r,o){if(Ic(i,n)!=null)return e;let c=e.serverCache.isFiltered(),a=e.serverCache;if(s.value!=null){if(ie(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Tc(t,e,n,a.getNode().getChild(n),i,r,c,o);if(ie(n)){let l=new bt(null);return a.getNode().forEachChild(n1,(u,f)=>{l=l.set(new de(u),f)}),uu(t,e,n,l,i,r,c,o)}else return e}else{let l=new bt(null);return s.foreach((u,f)=>{let d=Te(n,u);a.isCompleteForPath(d)&&(l=l.set(u,a.getNode().getChild(d)))}),uu(t,e,n,l,i,r,c,o)}}function TR(t,e,n,s,i){let r=e.serverCache,o=fv(e,r.getNode(),r.isFullyInitialized()||ie(n),r.isFiltered());return Cv(t,o,n,s,yv,i)}function AR(t,e,n,s,i,r){let o;if(Ic(s,n)!=null)return e;{let c=new W3(s,e,i),a=e.eventCache.getNode(),l;if(ie(n)||se(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Nc(s,ls(e));else{let f=e.serverCache.getNode();b(f instanceof Q,"serverChildren would be complete if leaf node"),u=$u(s,f)}u=u,l=t.filter.updateFullNode(a,u,r)}else{let u=se(n),f=Wu(s,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=a.getImmediateChild(u)),f!=null?l=t.filter.updateChild(a,u,f,we(n),c,r):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(a,u,Q.EMPTY_NODE,we(n),c,r):l=a,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Nc(s,ls(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,r)))}return o=e.serverCache.isFullyInitialized()||Ic(s,fe())!=null,k3(e,l,o,t.filter.filtersNodes())}}var fu=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let s=this.query_._queryParams,i=new B3(s.getIndex()),r=eR(s);this.processor_=ER(r);let o=n.serverCache,c=n.eventCache,a=i.updateFullNode(Q.EMPTY_NODE,o.getNode(),null),l=r.updateFullNode(Q.EMPTY_NODE,c.getNode(),null),u=new i1(a,o.isFullyInitialized(),i.filtersNodes()),f=new i1(l,c.isFullyInitialized(),r.filtersNodes());this.viewCache_=qc(f,u),this.eventGenerator_=new su(this.query_)}get query(){return this.query_}};function kR(t){return t.viewCache_.serverCache.getNode()}function RR(t){return xc(t.viewCache_)}function PR(t,e){let n=ls(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ie(e)&&!n.getImmediateChild(se(e)).isEmpty())?n.getChild(e):null}function DC(t){return t.eventRegistrations_.length===0}function OR(t,e){t.eventRegistrations_.push(e)}function xC(t,e,n){let s=[];if(n){b(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(r=>{let o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){let o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function NC(t,e,n,s){e.type===t1.MERGE&&e.source.queryId!==null&&(b(ls(t.viewCache_),"We should always have a full cache before handling merges"),b(xc(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,r=DR(t.processor_,i,e,n,s);return SR(t.processor_,r.viewCache),b(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,vv(t,r.changes,r.viewCache.eventCache.getNode(),null)}function FR(t,e){let n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(be,(r,o)=>{s.push(ji(r,o))}),n.isFullyInitialized()&&s.push(uv(n.getNode())),vv(t,s,n.getNode(),e)}function vv(t,e,n,s){let i=s?[s]:t.eventRegistrations_;return aR(t.eventGenerator_,e,n,i)}var Ac,kc=class{constructor(){this.views=new Map}};function VR(t){b(!Ac,"__referenceConstructor has already been defined"),Ac=t}function jR(){return b(Ac,"Reference.ts has not been loaded"),Ac}function UR(t){return t.views.size===0}function qu(t,e,n,s){let i=e.source.queryId;if(i!==null){let r=t.views.get(i);return b(r!=null,"SyncTree gave us an op for an invalid query."),NC(r,e,n,s)}else{let r=[];for(let o of t.views.values())r=r.concat(NC(o,e,n,s));return r}}function Mv(t,e,n,s,i){let r=e._queryIdentifier,o=t.views.get(r);if(!o){let c=Nc(n,i?s:null),a=!1;c?a=!0:s instanceof Q?(c=$u(n,s),a=!1):(c=Q.EMPTY_NODE,a=!1);let l=qc(new i1(c,a,!1),new i1(s,i,!1));return new fu(e,l)}return o}function BR(t,e,n,s,i,r){let o=Mv(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),OR(o,n),FR(o,n)}function HR(t,e,n,s){let i=e._queryIdentifier,r=[],o=[],c=dn(t);if(i==="default")for(let[a,l]of t.views.entries())o=o.concat(xC(l,n,s)),DC(l)&&(t.views.delete(a),l.query._queryParams.loadsAllData()||r.push(l.query));else{let a=t.views.get(i);a&&(o=o.concat(xC(a,n,s)),DC(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||r.push(a.query)))}return c&&!dn(t)&&r.push(new(jR())(e._repo,e._path)),{removed:r,events:o}}function _v(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ln(t,e){let n=null;for(let s of t.views.values())n=n||PR(s,e);return n}function Lv(t,e){if(e._queryParams.loadsAllData())return Kc(t);{let s=e._queryIdentifier;return t.views.get(s)}}function wv(t,e){return Lv(t,e)!=null}function dn(t){return Kc(t)!=null}function Kc(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Rc;function $R(t){b(!Rc,"__referenceConstructor has already been defined"),Rc=t}function WR(){return b(Rc,"Reference.ts has not been loaded"),Rc}var qR=1,Pc=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new bt(null),this.pendingWriteTree_=bR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Gu(t,e,n,s,i){return dR(t.pendingWriteTree_,e,n,s,i),i?Gi(t,new Ui(Uu(),e,n)):[]}function GR(t,e,n,s){hR(t.pendingWriteTree_,e,n,s);let i=bt.fromObject(n);return Gi(t,new $3(Uu(),e,i))}function cn(t,e,n=!1){let s=pR(t.pendingWriteTree_,e);if(mR(t.pendingWriteTree_,e)){let r=new bt(null);return s.snap!=null?r=r.set(fe(),!0):it(s.children,o=>{r=r.set(new de(o),!0)}),Gi(t,new nu(s.path,r,n))}else return[]}function er(t,e,n){return Gi(t,new Ui(Bu(),e,n))}function KR(t,e,n){let s=bt.fromObject(n);return Gi(t,new $3(Bu(),e,s))}function QR(t,e){return Gi(t,new Dc(Bu(),e))}function YR(t,e,n){let s=Ku(t,n);if(s){let i=Qu(s),r=i.path,o=i.queryId,c=wt(r,e),a=new Dc(Hu(o),c);return Yu(t,r,a)}else return[]}function Oc(t,e,n,s,i=!1){let r=e._path,o=t.syncPointTree_.get(r),c=[];if(o&&(e._queryIdentifier==="default"||wv(o,e))){let a=HR(o,e,n,s);UR(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));let l=a.removed;if(c=a.events,!i){let u=l.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(r,(d,h)=>dn(h));if(u&&!f){let d=t.syncPointTree_.subtree(r);if(!d.isEmpty()){let h=JR(d);for(let p=0;p<h.length;++p){let m=h[p],y=m.query,M=Sv(t,m);t.listenProvider_.startListening(P3(y),q3(t,y),M.hashFn,M.onComplete)}}}!f&&l.length>0&&!s&&(u?t.listenProvider_.stopListening(P3(e),null):l.forEach(d=>{let h=t.queryToTagMap.get(Yc(d));t.listenProvider_.stopListening(P3(d),h)}))}eP(t,l)}return c}function bv(t,e,n,s){let i=Ku(t,s);if(i!=null){let r=Qu(i),o=r.path,c=r.queryId,a=wt(o,e),l=new Ui(Hu(c),a,n);return Yu(t,o,l)}else return[]}function ZR(t,e,n,s){let i=Ku(t,s);if(i){let r=Qu(i),o=r.path,c=r.queryId,a=wt(o,e),l=bt.fromObject(n),u=new $3(Hu(c),a,l);return Yu(t,o,u)}else return[]}function du(t,e,n,s=!1){let i=e._path,r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(d,h)=>{let p=wt(d,i);r=r||ln(h,p),o=o||dn(h)});let c=t.syncPointTree_.get(i);c?(o=o||dn(c),r=r||ln(c,fe())):(c=new kc,t.syncPointTree_=t.syncPointTree_.set(i,c));let a;r!=null?a=!0:(a=!1,r=Q.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{let m=ln(p,fe());m&&(r=r.updateImmediateChild(h,m))}));let l=wv(c,e);if(!l&&!e._queryParams.loadsAllData()){let d=Yc(e);b(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");let h=tP();t.queryToTagMap.set(d,h),t.tagToQueryMap.set(h,d)}let u=Gc(t.pendingWriteTree_,i),f=BR(c,e,n,u,r,a);if(!l&&!o&&!s){let d=Lv(c,e);f=f.concat(nP(t,e,d))}return f}function Qc(t,e,n){let i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,c)=>{let a=wt(o,e),l=ln(c,a);if(l)return l});return pv(i,e,r,n,!0)}function XR(t,e){let n=e._path,s=null;t.syncPointTree_.foreachOnPath(n,(l,u)=>{let f=wt(l,n);s=s||ln(u,f)});let i=t.syncPointTree_.get(n);i?s=s||ln(i,fe()):(i=new kc,t.syncPointTree_=t.syncPointTree_.set(n,i));let r=s!=null,o=r?new i1(s,!0,!1):null,c=Gc(t.pendingWriteTree_,e._path),a=Mv(i,e,c,r?o.getNode():Q.EMPTY_NODE,r);return RR(a)}function Gi(t,e){return zv(e,t.syncPointTree_,null,Gc(t.pendingWriteTree_,fe()))}function zv(t,e,n,s){if(ie(t.path))return Ev(t,e,n,s);{let i=e.get(fe());n==null&&i!=null&&(n=ln(i,fe()));let r=[],o=se(t.path),c=t.operationForChild(o),a=e.children.get(o);if(a&&c){let l=n?n.getImmediateChild(o):null,u=mv(s,o);r=r.concat(zv(c,a,l,u))}return i&&(r=r.concat(qu(i,t,s,n))),r}}function Ev(t,e,n,s){let i=e.get(fe());n==null&&i!=null&&(n=ln(i,fe()));let r=[];return e.children.inorderTraversal((o,c)=>{let a=n?n.getImmediateChild(o):null,l=mv(s,o),u=t.operationForChild(o);u&&(r=r.concat(Ev(u,c,a,l)))}),i&&(r=r.concat(qu(i,t,s,n))),r}function Sv(t,e){let n=e.query,s=q3(t,n);return{hashFn:()=>(kR(e)||Q.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?YR(t,n._path,s):QR(t,n._path);{let r=dk(i,n);return Oc(t,n,null,r)}}}}function q3(t,e){let n=Yc(e);return t.queryToTagMap.get(n)}function Yc(t){return t._path.toString()+"$"+t._queryIdentifier}function Ku(t,e){return t.tagToQueryMap.get(e)}function Qu(t){let e=t.indexOf("$");return b(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new de(t.substr(0,e))}}function Yu(t,e,n){let s=t.syncPointTree_.get(e);b(s,"Missing sync point for query tag that we're tracking");let i=Gc(t.pendingWriteTree_,e);return qu(s,n,i,null)}function JR(t){return t.fold((e,n,s)=>{if(n&&dn(n))return[Kc(n)];{let i=[];return n&&(i=_v(n)),it(s,(r,o)=>{i=i.concat(o)}),i}})}function P3(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(WR())(t._repo,t._path):t}function eP(t,e){for(let n=0;n<e.length;++n){let s=e[n];if(!s._queryParams.loadsAllData()){let i=Yc(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function tP(){return qR++}function nP(t,e,n){let s=e._path,i=q3(t,e),r=Sv(t,n),o=t.listenProvider_.startListening(P3(e),i,r.hashFn,r.onComplete),c=t.syncPointTree_.subtree(s);if(i)b(!dn(c.value),"If we're adding a query, it shouldn't be shadowed");else{let a=c.fold((l,u,f)=>{if(!ie(l)&&u&&dn(u))return[Kc(u).query];{let d=[];return u&&(d=d.concat(_v(u).map(h=>h.query))),it(f,(h,p)=>{d=d.concat(p)}),d}});for(let l=0;l<a.length;++l){let u=a[l];t.listenProvider_.stopListening(P3(u),q3(t,u))}}return o}var hu=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},pu=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Te(this.path_,e);return new t(this.syncTree_,n)}node(){return Qc(this.syncTree_,this.path_)}},sP=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},IC=function(t,e,n){if(!t||typeof t!="object")return t;if(b(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return iP(t[".sv"],e,n);if(typeof t[".sv"]=="object")return rP(t[".sv"],e);b(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},iP=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:b(!1,"Unexpected server value: "+t)}},rP=function(t,e,n){t.hasOwnProperty("increment")||b(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let s=t.increment;typeof s!="number"&&b(!1,"Unexpected increment value: "+s);let i=e.node();if(b(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;let o=i.getValue();return typeof o!="number"?s:o+s},Dv=function(t,e,n,s){return Xu(e,new pu(n,t),s)},Zu=function(t,e,n){return Xu(t,new hu(e),n)};function Xu(t,e,n){let s=t.getPriority().val(),i=IC(s,e.getImmediateChild(".priority"),n),r;if(t.isLeafNode()){let o=t,c=IC(o.getValue(),e,n);return c!==o.getValue()||i!==o.getPriority().val()?new Fi(c,Re(i)):t}else{let o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new Fi(i))),o.forEachChild(be,(c,a)=>{let l=Xu(a,e.getImmediateChild(c),n);l!==a&&(r=r.updateImmediateChild(c,l))}),r}}var G3=class{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}};function Zc(t,e){let n=e instanceof de?e:new de(e),s=t,i=se(n);for(;i!==null;){let r=U1(s.node.children,i)||{children:{},childCount:0};s=new G3(i,s,r),n=we(n),i=se(n)}return s}function ds(t){return t.node.value}function Ju(t,e){t.node.value=e,mu(t)}function xv(t){return t.node.childCount>0}function oP(t){return ds(t)===void 0&&!xv(t)}function Xc(t,e){it(t.node.children,(n,s)=>{e(new G3(n,t,s))})}function Nv(t,e,n,s){n&&!s&&e(t),Xc(t,i=>{Nv(i,e,!0,s)}),n&&s&&e(t)}function cP(t,e,n){let s=n?t:t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function tr(t){return new de(t.parent===null?t.name:tr(t.parent)+"/"+t.name)}function mu(t){t.parent!==null&&aP(t.parent,t.name,t)}function aP(t,e,n){let s=oP(n),i=n2(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,mu(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,mu(t))}var lP=/[\[\].#$\/\u0000-\u001F\u007F]/,uP=/[\[\].#$\u0000-\u001F\u007F]/,E7=10*1024*1024,Jc=function(t){return typeof t=="string"&&t.length!==0&&!lP.test(t)},Iv=function(t){return typeof t=="string"&&t.length!==0&&!uP.test(t)},fP=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Iv(t)},K3=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!$c(t)||t&&typeof t=="object"&&n2(t,".sv")},r1=function(t,e,n,s){s&&e===void 0||nr(St(t,"value"),e,n)},nr=function(t,e,n){let s=n instanceof de?new V7(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+os(s));if(typeof e=="function")throw new Error(t+"contains a function "+os(s)+" with contents = "+e.toString());if($c(e))throw new Error(t+"contains "+e.toString()+" "+os(s));if(typeof e=="string"&&e.length>E7/3&&_0(e)>E7)throw new Error(t+"contains a string greater than "+E7+" utf8 bytes "+os(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(it(e,(o,c)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!Jc(o)))throw new Error(t+" contains an invalid key ("+o+") "+os(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Uk(s,o),nr(t,c,s),Bk(s)}),i&&r)throw new Error(t+' contains ".value" child '+os(s)+" in addition to actual children.")}},dP=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];let r=F3(s);for(let o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!Jc(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(jk);let i=null;for(n=0;n<e.length;n++){if(s=e[n],i!==null&&l2(i,s))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+s.toString());i=s}},Tv=function(t,e,n,s){if(s&&e===void 0)return;let i=St(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let r=[];it(e,(o,c)=>{let a=new de(o);if(nr(i,c,Te(n,a)),Pu(a)===".priority"&&!K3(c))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(a)}),dP(i,r)},ef=function(t,e,n){if(!(n&&e===void 0)){if($c(e))throw new Error(St(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!K3(e))throw new Error(St(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},sr=function(t,e,n,s){if(!(s&&n===void 0)&&!Jc(n))throw new Error(St(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Ki=function(t,e,n,s){if(!(s&&n===void 0)&&!Iv(n))throw new Error(St(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},hP=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ki(t,e,n,s)},Wt=function(t,e){if(se(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Av=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Jc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!fP(n))throw new Error(St(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var gu=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function e6(t,e){let n=null;for(let s=0;s<e.length;s++){let i=e[s],r=i.getPath();n!==null&&!Ou(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function kv(t,e,n){e6(t,n),Rv(t,s=>Ou(s,e))}function qt(t,e,n){e6(t,n),Rv(t,s=>l2(s,e)||l2(e,s))}function Rv(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){let i=t.eventLists_[s];if(i){let r=i.path;e(r)?(pP(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function pP(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let s=n.getEventRunner();as&&st("event: "+n.toString()),Wi(s)}}}var Pv="repo_interrupt",mP=25,yu=class{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gu,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sc(),this.transactionQueueTree_=new G3,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function gP(t,e,n){if(t.stats_=Ru(t.repoInfo_),t.forceRestClient_||gk())t.server_=new Y7(t.repoInfo_,(s,i,r,o)=>{TC(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>AC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qe(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Fu(t.repoInfo_,e,(s,i,r,o)=>{TC(t,s,i,r,o)},s=>{AC(t,s)},s=>{yP(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=Ck(t.repoInfo_,()=>new tu(t.stats_,t.server_)),t.infoData_=new Z7,t.infoSyncTree_=new Pc({startListening:(s,i,r,o)=>{let c=[],a=t.infoData_.getNode(s._path);return a.isEmpty()||(c=er(t.infoSyncTree_,s._path,a),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),tf(t,"connected",!1),t.serverSyncTree_=new Pc({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(c,a)=>{let l=o(c,a);qt(t.eventQueue_,s._path,l)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function Ov(t){let n=t.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ir(t){return sP({timestamp:Ov(t)})}function TC(t,e,n,s,i){t.dataUpdateCount++;let r=new de(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){let a=M0(n,l=>Re(l));o=ZR(t.serverSyncTree_,r,a,i)}else{let a=Re(n);o=bv(t.serverSyncTree_,r,a,i)}else if(s){let a=M0(n,l=>Re(l));o=KR(t.serverSyncTree_,r,a)}else{let a=Re(n);o=er(t.serverSyncTree_,r,a)}let c=r;o.length>0&&(c=Hi(t,r)),qt(t.eventQueue_,c,o)}function AC(t,e){tf(t,"connected",e),e===!1&&MP(t)}function yP(t,e){it(e,(n,s)=>{tf(t,n,s)})}function tf(t,e,n){let s=new de("/.info/"+e),i=Re(n);t.infoData_.updateSnapshot(s,i);let r=er(t.infoSyncTree_,s,i);qt(t.eventQueue_,s,r)}function t6(t){return t.nextWriteId_++}function CP(t,e,n){let s=XR(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(i=>{let r=Re(i).withIndex(e._queryParams.getIndex());du(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=er(t.serverSyncTree_,e._path,r);else{let c=q3(t.serverSyncTree_,e);o=bv(t.serverSyncTree_,e._path,r,c)}return qt(t.eventQueue_,e._path,o),Oc(t.serverSyncTree_,e,n,null,!0),r},i=>(Qi(t,"get for query "+qe(e)+" failed: "+i),Promise.reject(new Error(i))))}function nf(t,e,n,s,i){Qi(t,"set",{path:e.toString(),value:n,priority:s});let r=ir(t),o=Re(n,s),c=Qc(t.serverSyncTree_,e),a=Zu(o,c,r),l=t6(t),u=Gu(t.serverSyncTree_,e,a,l,!0);e6(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(d,h)=>{let p=d==="ok";p||ht("set at "+e+" failed: "+d);let m=cn(t.serverSyncTree_,l,!p);qt(t.eventQueue_,e,m),hn(t,i,d,h)});let f=rf(t,e);Hi(t,f),qt(t.eventQueue_,f,[])}function vP(t,e,n,s){Qi(t,"update",{path:e.toString(),value:n});let i=!0,r=ir(t),o={};if(it(n,(c,a)=>{i=!1,o[c]=Dv(Te(e,c),Re(a),t.serverSyncTree_,r)}),i)st("update() called with empty data.  Don't do anything."),hn(t,s,"ok",void 0);else{let c=t6(t),a=GR(t.serverSyncTree_,e,o,c);e6(t.eventQueue_,a),t.server_.merge(e.toString(),n,(l,u)=>{let f=l==="ok";f||ht("update at "+e+" failed: "+l);let d=cn(t.serverSyncTree_,c,!f),h=d.length>0?Hi(t,e):e;qt(t.eventQueue_,h,d),hn(t,s,l,u)}),it(n,l=>{let u=rf(t,Te(e,l));Hi(t,u)}),qt(t.eventQueue_,e,[])}}function MP(t){Qi(t,"onDisconnectEvents");let e=ir(t),n=Sc();J7(t.onDisconnect_,fe(),(i,r)=>{let o=Dv(i,r,t.serverSyncTree_,e);qi(n,i,o)});let s=[];J7(n,fe(),(i,r)=>{s=s.concat(er(t.serverSyncTree_,i,r));let o=rf(t,i);Hi(t,o)}),t.onDisconnect_=Sc(),qt(t.eventQueue_,fe(),s)}function _P(t,e,n){t.server_.onDisconnectCancel(e.toString(),(s,i)=>{s==="ok"&&X7(t.onDisconnect_,e),hn(t,n,s,i)})}function kC(t,e,n,s){let i=Re(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(r,o)=>{r==="ok"&&qi(t.onDisconnect_,e,i),hn(t,s,r,o)})}function LP(t,e,n,s,i){let r=Re(n,s);t.server_.onDisconnectPut(e.toString(),r.val(!0),(o,c)=>{o==="ok"&&qi(t.onDisconnect_,e,r),hn(t,i,o,c)})}function wP(t,e,n,s){if(jr(n)){st("onDisconnect().update() called with empty data.  Don't do anything."),hn(t,s,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,r)=>{i==="ok"&&it(n,(o,c)=>{let a=Re(c);qi(t.onDisconnect_,Te(e,o),a)}),hn(t,s,i,r)})}function bP(t,e,n){let s;se(e._path)===".info"?s=du(t.infoSyncTree_,e,n):s=du(t.serverSyncTree_,e,n),kv(t.eventQueue_,e._path,s)}function Cu(t,e,n){let s;se(e._path)===".info"?s=Oc(t.infoSyncTree_,e,n):s=Oc(t.serverSyncTree_,e,n),kv(t.eventQueue_,e._path,s)}function Fv(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Pv)}function zP(t){t.persistentConnection_&&t.persistentConnection_.resume(Pv)}function Qi(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),st(n,...e)}function hn(t,e,n,s){e&&Wi(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),r=i;s&&(r+=": "+s);let o=new Error(r);o.code=i,e(o)}})}function EP(t,e,n,s,i,r){Qi(t,"transaction on "+e);let o={path:e,update:n,onComplete:s,status:null,order:OC(),applyLocally:r,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=sf(t,e,void 0);o.currentInputSnapshot=c;let a=o.update(c.val());if(a===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{nr("transaction failed: Data returned ",a,o.path),o.status=0;let l=Zc(t.transactionQueueTree_,e),u=ds(l)||[];u.push(o),Ju(l,u);let f;typeof a=="object"&&a!==null&&n2(a,".priority")?(f=U1(a,".priority"),b(K3(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(Qc(t.serverSyncTree_,e)||Q.EMPTY_NODE).getPriority().val();let d=ir(t),h=Re(a,f),p=Zu(h,c,d);o.currentOutputSnapshotRaw=h,o.currentOutputSnapshotResolved=p,o.currentWriteId=t6(t);let m=Gu(t.serverSyncTree_,e,p,o.currentWriteId,o.applyLocally);qt(t.eventQueue_,e,m),n6(t,t.transactionQueueTree_)}}function sf(t,e,n){return Qc(t.serverSyncTree_,e,n)||Q.EMPTY_NODE}function n6(t,e=t.transactionQueueTree_){if(e||s6(t,e),ds(e)){let n=jv(t,e);b(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&SP(t,tr(e),n)}else xv(e)&&Xc(e,n=>{n6(t,n)})}function SP(t,e,n){let s=n.map(l=>l.currentWriteId),i=sf(t,e,s),r=i,o=i.hash();for(let l=0;l<n.length;l++){let u=n[l];b(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let f=wt(e,u.path);r=r.updateChild(f,u.currentOutputSnapshotRaw)}let c=r.val(!0),a=e;t.server_.put(a.toString(),c,l=>{Qi(t,"transaction put response",{path:a.toString(),status:l});let u=[];if(l==="ok"){let f=[];for(let d=0;d<n.length;d++)n[d].status=2,u=u.concat(cn(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();s6(t,Zc(t.transactionQueueTree_,e)),n6(t,t.transactionQueueTree_),qt(t.eventQueue_,e,u);for(let d=0;d<f.length;d++)Wi(f[d])}else{if(l==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{ht("transaction at "+a.toString()+" failed: "+l);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=l}Hi(t,e)}},o)}function Hi(t,e){let n=Vv(t,e),s=tr(n),i=jv(t,n);return DP(t,i,s),s}function DP(t,e,n){if(e.length===0)return;let s=[],i=[],o=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){let a=e[c],l=wt(n,a.path),u=!1,f;if(b(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)u=!0,f=a.abortReason,i=i.concat(cn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=mP)u=!0,f="maxretry",i=i.concat(cn(t.serverSyncTree_,a.currentWriteId,!0));else{let d=sf(t,a.path,o);a.currentInputSnapshot=d;let h=e[c].update(d.val());if(h!==void 0){nr("transaction failed: Data returned ",h,a.path);let p=Re(h);typeof h=="object"&&h!=null&&n2(h,".priority")||(p=p.updatePriority(d.getPriority()));let y=a.currentWriteId,M=ir(t),z=Zu(p,d,M);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=z,a.currentWriteId=t6(t),o.splice(o.indexOf(y),1),i=i.concat(Gu(t.serverSyncTree_,a.path,z,a.currentWriteId,a.applyLocally)),i=i.concat(cn(t.serverSyncTree_,y,!0))}else u=!0,f="nodata",i=i.concat(cn(t.serverSyncTree_,a.currentWriteId,!0))}qt(t.eventQueue_,n,i),i=[],u&&(e[c].status=2,function(d){setTimeout(d,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(f==="nodata"?s.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):s.push(()=>e[c].onComplete(new Error(f),!1,null))))}s6(t,t.transactionQueueTree_);for(let c=0;c<s.length;c++)Wi(s[c]);n6(t,t.transactionQueueTree_)}function Vv(t,e){let n,s=t.transactionQueueTree_;for(n=se(e);n!==null&&ds(s)===void 0;)s=Zc(s,n),e=we(e),n=se(e);return s}function jv(t,e){let n=[];return Uv(t,e,n),n.sort((s,i)=>s.order-i.order),n}function Uv(t,e,n){let s=ds(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);Xc(e,i=>{Uv(t,i,n)})}function s6(t,e){let n=ds(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,Ju(e,n.length>0?n:void 0)}Xc(e,s=>{s6(t,s)})}function rf(t,e){let n=tr(Vv(t,e)),s=Zc(t.transactionQueueTree_,e);return cP(s,i=>{S7(t,i)}),S7(t,s),Nv(s,i=>{S7(t,i)}),n}function S7(t,e){let n=ds(e);if(n){let s=[],i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(b(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(b(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(cn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?Ju(e,void 0):n.length=r+1,qt(t.eventQueue_,tr(e),i);for(let o=0;o<s.length;o++)Wi(s[o])}}function xP(t){let e="",n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function NP(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):ht(`Invalid query segment '${n}' in query '${t}'`)}return e}var vu=function(t,e){let n=IP(t),s=n.namespace;n.domain==="firebase.com"&&s1(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&s1("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ck();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new vc(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new de(n.pathString)}},IP=function(t){let e="",n="",s="",i="",r="",o=!0,c="https",a=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(c=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=xP(t.substring(u,f)));let d=NP(t.substring(Math.min(t.length,f)));l=e.indexOf(":"),l>=0?(o=c==="https"||c==="wss",a=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");s=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=s}"ns"in d&&(r=d.ns)}return{host:e,port:a,domain:n,subdomain:s,secure:o,scheme:c,pathString:i,namespace:r}};var RC="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",TP=function(){let t=0,e=[];return function(n){let s=n===t;t=n;let i,r=new Array(8);for(i=7;i>=0;i--)r[i]=RC.charAt(n%64),n=Math.floor(n/64);b(n===0,"Cannot push at time == 0");let o=r.join("");if(s){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=RC.charAt(e[i]);return b(o.length===20,"nextPushId: Length should be 20."),o}}();var Fc=class{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+qe(this.snapshot.exportVal())}},Vc=class{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Q3=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return b(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var jc=class{constructor(e,n){this._repo=e,this._path=n}cancel(){let e=new Je;return _P(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Wt("OnDisconnect.remove",this._path);let e=new Je;return kC(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Wt("OnDisconnect.set",this._path),r1("OnDisconnect.set",e,this._path,!1);let n=new Je;return kC(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Wt("OnDisconnect.setWithPriority",this._path),r1("OnDisconnect.setWithPriority",e,this._path,!1),ef("OnDisconnect.setWithPriority",n,!1);let s=new Je;return LP(this._repo,this._path,e,n,s.wrapCallback(()=>{})),s.promise}update(e){Wt("OnDisconnect.update",this._path),Tv("OnDisconnect.update",e,this._path,!1);let n=new Je;return wP(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};var zt=class t{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return ie(this._path)?null:Pu(this._path)}get ref(){return new Gt(this._repo,this._path)}get _queryIdentifier(){let e=_C(this._queryParams),n=ku(e);return n==="{}"?"default":n}get _queryObject(){return _C(this._queryParams)}isEqual(e){if(e=Ne(e),!(e instanceof t))return!1;let n=this._repo===e._repo,s=Ou(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Vk(this._path)}};function i6(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function mn(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===n1){let s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==un)throw new Error(s);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==I1)throw new Error(s);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===be){if(e!=null&&!K3(e)||n!=null&&!K3(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(b(t.getIndex()instanceof V3||t.getIndex()===ju,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function r6(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Gt=class t extends zt{constructor(e,n){super(e,n,new H3,!1)}get parent(){let e=iv(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},$i=class t{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new de(e),s=pn(this.ref,e);return new t(this._node.getChild(n),s,be)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new t(i,pn(this.ref,s),be)))}hasChild(e){let n=new de(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function of(t,e){return t=Ne(t),t._checkNotDeleted("ref"),e!==void 0?pn(t._root,e):t._root}function cf(t,e){t=Ne(t),t._checkNotDeleted("refFromURL");let n=vu(e,t._repo.repoInfo_.nodeAdmin);Av("refFromURL",n);let s=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&s.host!==t._repo.repoInfo_.host&&s1("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+t._repo.repoInfo_.host+")"),of(t,n.path.toString())}function pn(t,e){return t=Ne(t),se(t._path)===null?hP("child","path",e,!1):Ki("child","path",e,!1),new Gt(t._repo,Te(t._path,e))}function Bv(t,e){t=Ne(t),Wt("push",t._path),r1("push",e,t._path,!0);let n=Ov(t._repo),s=TP(n),i=pn(t,s),r=pn(t,s),o;return e!=null?o=o6(r,e).then(()=>r):o=Promise.resolve(r),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Hv(t){return Wt("remove",t._path),o6(t,null)}function o6(t,e){t=Ne(t),Wt("set",t._path),r1("set",e,t._path,!1);let n=new Je;return nf(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function $v(t,e){t=Ne(t),Wt("setPriority",t._path),ef("setPriority",e,!1);let n=new Je;return nf(t._repo,Te(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function Wv(t,e,n){if(Wt("setWithPriority",t._path),r1("setWithPriority",e,t._path,!1),ef("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let s=new Je;return nf(t._repo,t._path,e,n,s.wrapCallback(()=>{})),s.promise}function qv(t,e){Tv("update",e,t._path,!1);let n=new Je;return vP(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Gv(t){t=Ne(t);let e=new Q3(()=>{}),n=new Y3(e);return CP(t._repo,t,n).then(s=>new $i(s,new Gt(t._repo,t._path),t._queryParams.getIndex()))}var Y3=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let s=n._queryParams.getIndex();return new Fc("value",this,new $i(e.snapshotNode,new Gt(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Vc(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Uc=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Vc(this,e,n):null}createEvent(e,n){b(e.childName!=null,"Child events should have a childName.");let s=pn(new Gt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Fc(e.type,this,new $i(e.snapshotNode,s,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function rr(t,e,n,s,i){let r;if(typeof s=="object"&&(r=void 0,i=s),typeof s=="function"&&(r=s),i&&i.onlyOnce){let a=n,l=(u,f)=>{Cu(t._repo,t,c),a(u,f)};l.userCallback=n.userCallback,l.context=n.context,n=l}let o=new Q3(n,r||void 0),c=e==="value"?new Y3(o):new Uc(e,o);return bP(t._repo,t,c),()=>Cu(t._repo,t,c)}function c6(t,e,n,s){return rr(t,"value",e,n,s)}function af(t,e,n,s){return rr(t,"child_added",e,n,s)}function lf(t,e,n,s){return rr(t,"child_changed",e,n,s)}function uf(t,e,n,s){return rr(t,"child_moved",e,n,s)}function ff(t,e,n,s){return rr(t,"child_removed",e,n,s)}function df(t,e,n){let s=null,i=n?new Q3(n):null;e==="value"?s=new Y3(i):e&&(s=new Uc(e,i)),Cu(t._repo,t,s)}var Kt=class{},Bc=class extends Kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){r1("endAt",this._value,e._path,!0);let n=Q7(e._queryParams,this._value,this._key);if(r6(n),mn(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new zt(e._repo,e._path,n,e._orderByCalled)}};function Kv(t,e){return sr("endAt","key",e,!0),new Bc(t,e)}var Mu=class extends Kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){r1("endBefore",this._value,e._path,!1);let n=iR(e._queryParams,this._value,this._key);if(r6(n),mn(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new zt(e._repo,e._path,n,e._orderByCalled)}};function Qv(t,e){return sr("endBefore","key",e,!0),new Mu(t,e)}var Hc=class extends Kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){r1("startAt",this._value,e._path,!0);let n=K7(e._queryParams,this._value,this._key);if(r6(n),mn(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new zt(e._repo,e._path,n,e._orderByCalled)}};function Yv(t=null,e){return sr("startAt","key",e,!0),new Hc(t,e)}var _u=class extends Kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){r1("startAfter",this._value,e._path,!1);let n=sR(e._queryParams,this._value,this._key);if(r6(n),mn(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new zt(e._repo,e._path,n,e._orderByCalled)}};function Zv(t,e){return sr("startAfter","key",e,!0),new _u(t,e)}var Lu=class extends Kt{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new zt(e._repo,e._path,tR(e._queryParams,this._limit),e._orderByCalled)}};function Xv(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Lu(t)}var wu=class extends Kt{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new zt(e._repo,e._path,nR(e._queryParams,this._limit),e._orderByCalled)}};function Jv(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new wu(t)}var bu=class extends Kt{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){i6(e,"orderByChild");let n=new de(this._path);if(ie(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let s=new V3(n),i=Wc(e._queryParams,s);return mn(i),new zt(e._repo,e._path,i,!0)}};function eM(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ki("orderByChild","path",t,!1),new bu(t)}var zu=class extends Kt{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){i6(e,"orderByKey");let n=Wc(e._queryParams,n1);return mn(n),new zt(e._repo,e._path,n,!0)}};function tM(){return new zu}var Eu=class extends Kt{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){i6(e,"orderByPriority");let n=Wc(e._queryParams,be);return mn(n),new zt(e._repo,e._path,n,!0)}};function nM(){return new Eu}var Su=class extends Kt{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){i6(e,"orderByValue");let n=Wc(e._queryParams,ju);return mn(n),new zt(e._repo,e._path,n,!0)}};function sM(){return new Su}var Du=class extends Kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(r1("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Bc(this._value,this._key)._apply(new Hc(this._value,this._key)._apply(e))}};function iM(t,e){return sr("equalTo","key",e,!0),new Du(t,e)}function f2(t,...e){let n=Ne(t);for(let s of e)n=s._apply(n);return n}VR(Gt);$R(Gt);var AP="FIREBASE_DATABASE_EMULATOR_HOST",xu={},kP=!1;function RP(t,e,n,s){t.repoInfo_=new vc(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function hf(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||s1("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),st("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=vu(r,i),c=o.repoInfo,a,l;typeof process<"u"&&process.env&&(l=process.env[AP]),l?(a=!0,r=`http://${l}?ns=${c.namespace}`,o=vu(r,i),c=o.repoInfo):a=!o.repoInfo.secure;let u=i&&a?new A3(A3.OWNER):new A7(t.name,t.options,e);Av("Invalid Firebase Database URL",o),ie(o.path)||s1("Database URL must point to the root of a Firebase Database (not including a child path).");let f=OP(c,t,u,new T7(t.name,n));return new Nu(f,t)}function PP(t,e){let n=xu[e];(!n||n[t.key]!==t)&&s1(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Fv(t),delete n[t.key]}function OP(t,e,n,s){let i=xu[e.name];i||(i={},xu[e.name]=i);let r=i[t.toURLString()];return r&&s1("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new yu(t,kP,n,s),i[t.toURLString()]=r,r}var Nu=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(gP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Gt(this._repo,fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(PP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&s1("Cannot call "+e+" on a deleted database.")}};function rM(){sv.IS_TRANSPORT_INITIALIZED&&ht("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function oM(){rM(),O3.forceDisallow()}function cM(){rM(),ki.forceDisallow(),O3.forceAllow()}function aM(t,e,n,s={}){t=Ne(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&s1("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,r;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&s1('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new A3(A3.OWNER);else if(s.mockUserToken){let o=typeof s.mockUserToken=="string"?s.mockUserToken:Fr(s.mockUserToken,t.app.options.projectId);r=new A3(o)}RP(i,e,n,r)}function lM(t){t=Ne(t),t._checkNotDeleted("goOffline"),Fv(t._repo)}function uM(t){t=Ne(t),t._checkNotDeleted("goOnline"),zP(t._repo)}function fM(t,e){VC(t,e)}function FP(t){Au(Br),zn(new Ot("database",(e,{instanceIdentifier:n})=>{let s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return hf(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),Ft(iC,rC,t),Ft(iC,rC,"esm2017")}var VP={".sv":"timestamp"};function dM(){return VP}function hM(t){return{".sv":{increment:t}}}var Iu=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function pM(t,e,n){var s;if(t=Ne(t),Wt("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let i=(s=n?.applyLocally)!==null&&s!==void 0?s:!0,r=new Je,o=(a,l,u)=>{let f=null;a?r.reject(a):(f=new $i(u,new Gt(t._repo,t._path),be),r.resolve(new Iu(l,f)))},c=c6(t,()=>{});return EP(t._repo,t._path,e,o,c,i),r.promise}Fu.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Fu.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};FP();var jP="@firebase/database-compat",UP="1.0.5";var BP=new Ts("@firebase/database-compat"),mM=function(t){let e="FIREBASE WARNING: "+t;BP.warn(e)};var HP=function(t,e,n,s){if(!(s&&n===void 0)&&typeof n!="boolean")throw new Error(St(t,e)+"must be a boolean.")},$P=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(St(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var pf=class{constructor(e){this._delegate=e}cancel(e){H("OnDisconnect.cancel",0,1,arguments.length),Ye("OnDisconnect.cancel","onComplete",e,!0);let n=this._delegate.cancel();return e&&n.then(()=>e(null),s=>e(s)),n}remove(e){H("OnDisconnect.remove",0,1,arguments.length),Ye("OnDisconnect.remove","onComplete",e,!0);let n=this._delegate.remove();return e&&n.then(()=>e(null),s=>e(s)),n}set(e,n){H("OnDisconnect.set",1,2,arguments.length),Ye("OnDisconnect.set","onComplete",n,!0);let s=this._delegate.set(e);return n&&s.then(()=>n(null),i=>n(i)),s}setWithPriority(e,n,s){H("OnDisconnect.setWithPriority",2,3,arguments.length),Ye("OnDisconnect.setWithPriority","onComplete",s,!0);let i=this._delegate.setWithPriority(e,n);return s&&i.then(()=>s(null),r=>s(r)),i}update(e,n){if(H("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let r=0;r<e.length;++r)i[""+r]=e[r];e=i,mM("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ye("OnDisconnect.update","onComplete",n,!0);let s=this._delegate.update(e);return n&&s.then(()=>n(null),i=>n(i)),s}};var mf=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return H("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var hs=class t{constructor(e,n){this._database=e,this._delegate=n}val(){return H("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return H("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return H("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return H("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return H("DataSnapshot.child",0,1,arguments.length),e=String(e),Ki("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return H("DataSnapshot.hasChild",1,1,arguments.length),Ki("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return H("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return H("DataSnapshot.forEach",1,1,arguments.length),Ye("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new t(this._database,n)))}hasChildren(){return H("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return H("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return H("DataSnapshot.ref",0,0,arguments.length),new T1(this._database,this._delegate.ref)}get ref(){return this.getRef()}},a6=class t{constructor(e,n){this.database=e,this._delegate=n}on(e,n,s,i){var r;H("Query.on",2,4,arguments.length),Ye("Query.on","callback",n,!1);let o=t.getCancelAndContextArgs_("Query.on",s,i),c=(l,u)=>{n.call(o.context,new hs(this.database,l),u)};c.userCallback=n,c.context=o.context;let a=(r=o.cancel)===null||r===void 0?void 0:r.bind(o.context);switch(e){case"value":return c6(this._delegate,c,a),n;case"child_added":return af(this._delegate,c,a),n;case"child_removed":return ff(this._delegate,c,a),n;case"child_changed":return lf(this._delegate,c,a),n;case"child_moved":return uf(this._delegate,c,a),n;default:throw new Error(St("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,s){if(H("Query.off",0,3,arguments.length),$P("Query.off",e,!0),Ye("Query.off","callback",n,!0),sa("Query.off","context",s,!0),n){let i=()=>{};i.userCallback=n,i.context=s,df(this._delegate,e,i)}else df(this._delegate,e)}get(){return Gv(this._delegate).then(e=>new hs(this.database,e))}once(e,n,s,i){H("Query.once",1,4,arguments.length),Ye("Query.once","callback",n,!0);let r=t.getCancelAndContextArgs_("Query.once",s,i),o=new Je,c=(l,u)=>{let f=new hs(this.database,l);n&&n.call(r.context,f,u),o.resolve(f)};c.userCallback=n,c.context=r.context;let a=l=>{r.cancel&&r.cancel.call(r.context,l),o.reject(l)};switch(e){case"value":c6(this._delegate,c,a,{onlyOnce:!0});break;case"child_added":af(this._delegate,c,a,{onlyOnce:!0});break;case"child_removed":ff(this._delegate,c,a,{onlyOnce:!0});break;case"child_changed":lf(this._delegate,c,a,{onlyOnce:!0});break;case"child_moved":uf(this._delegate,c,a,{onlyOnce:!0});break;default:throw new Error(St("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return H("Query.limitToFirst",1,1,arguments.length),new t(this.database,f2(this._delegate,Xv(e)))}limitToLast(e){return H("Query.limitToLast",1,1,arguments.length),new t(this.database,f2(this._delegate,Jv(e)))}orderByChild(e){return H("Query.orderByChild",1,1,arguments.length),new t(this.database,f2(this._delegate,eM(e)))}orderByKey(){return H("Query.orderByKey",0,0,arguments.length),new t(this.database,f2(this._delegate,tM()))}orderByPriority(){return H("Query.orderByPriority",0,0,arguments.length),new t(this.database,f2(this._delegate,nM()))}orderByValue(){return H("Query.orderByValue",0,0,arguments.length),new t(this.database,f2(this._delegate,sM()))}startAt(e=null,n){return H("Query.startAt",0,2,arguments.length),new t(this.database,f2(this._delegate,Yv(e,n)))}startAfter(e=null,n){return H("Query.startAfter",0,2,arguments.length),new t(this.database,f2(this._delegate,Zv(e,n)))}endAt(e=null,n){return H("Query.endAt",0,2,arguments.length),new t(this.database,f2(this._delegate,Kv(e,n)))}endBefore(e=null,n){return H("Query.endBefore",0,2,arguments.length),new t(this.database,f2(this._delegate,Qv(e,n)))}equalTo(e,n){return H("Query.equalTo",1,2,arguments.length),new t(this.database,f2(this._delegate,iM(e,n)))}toString(){return H("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return H("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(H("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,s){let i={cancel:void 0,context:void 0};if(n&&s)i.cancel=n,Ye(e,"cancel",i.cancel,!0),i.context=s,sa(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(St(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new T1(this.database,new Gt(this._delegate._repo,this._delegate._path))}},T1=class t extends a6{constructor(e,n){super(e,new zt(n._repo,n._path,new H3,!1)),this.database=e,this._delegate=n}getKey(){return H("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return H("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,pn(this._delegate,e))}getParent(){H("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return H("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,n){H("Reference.set",1,2,arguments.length),Ye("Reference.set","onComplete",n,!0);let s=o6(this._delegate,e);return n&&s.then(()=>n(null),i=>n(i)),s}update(e,n){if(H("Reference.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let r=0;r<e.length;++r)i[""+r]=e[r];e=i,mM("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Wt("Reference.update",this._delegate._path),Ye("Reference.update","onComplete",n,!0);let s=qv(this._delegate,e);return n&&s.then(()=>n(null),i=>n(i)),s}setWithPriority(e,n,s){H("Reference.setWithPriority",2,3,arguments.length),Ye("Reference.setWithPriority","onComplete",s,!0);let i=Wv(this._delegate,e,n);return s&&i.then(()=>s(null),r=>s(r)),i}remove(e){H("Reference.remove",0,1,arguments.length),Ye("Reference.remove","onComplete",e,!0);let n=Hv(this._delegate);return e&&n.then(()=>e(null),s=>e(s)),n}transaction(e,n,s){H("Reference.transaction",1,3,arguments.length),Ye("Reference.transaction","transactionUpdate",e,!1),Ye("Reference.transaction","onComplete",n,!0),HP("Reference.transaction","applyLocally",s,!0);let i=pM(this._delegate,e,{applyLocally:s}).then(r=>new mf(r.committed,new hs(this.database,r.snapshot)));return n&&i.then(r=>n(null,r.committed,r.snapshot),r=>n(r,!1,null)),i}setPriority(e,n){H("Reference.setPriority",1,2,arguments.length),Ye("Reference.setPriority","onComplete",n,!0);let s=$v(this._delegate,e);return n&&s.then(()=>n(null),i=>n(i)),s}push(e,n){H("Reference.push",0,2,arguments.length),Ye("Reference.push","onComplete",n,!0);let s=Bv(this._delegate,e),i=s.then(o=>new t(this.database,o));n&&i.then(()=>n(null),o=>n(o));let r=new t(this.database,s);return r.then=i.then.bind(i),r.catch=i.catch.bind(i,void 0),r}onDisconnect(){return Wt("Reference.onDisconnect",this._delegate._path),new pf(new jc(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var ps=class{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:oM,forceLongPolling:cM}}useEmulator(e,n,s={}){aM(this._delegate,e,n,s)}ref(e){if(H("database.ref",0,1,arguments.length),e instanceof T1){let n=cf(this._delegate,e.toString());return new T1(this,n)}else{let n=of(this._delegate,e);return new T1(this,n)}}refFromURL(e){H("database.refFromURL",1,1,arguments.length);let s=cf(this._delegate,e);return new T1(this,s)}goOffline(){return H("database.goOffline",0,0,arguments.length),lM(this._delegate)}goOnline(){return H("database.goOnline",0,0,arguments.length),uM(this._delegate)}};ps.ServerValue={TIMESTAMP:dM(),increment:t=>hM(t)};function WP({app:t,url:e,version:n,customAuthImpl:s,customAppCheckImpl:i,namespace:r,nodeAdmin:o=!1}){Au(n);let c=new ia("database-standalone"),a=new Ur("auth-internal",c);a.setComponent(new Ot("auth-internal",()=>s,"PRIVATE"));let l;return i&&(l=new Ur("app-check-internal",c),l.setComponent(new Ot("app-check-internal",()=>i,"PRIVATE"))),{instance:new ps(hf(t,a,l,e,o),t),namespace:r}}var qP=Object.freeze({__proto__:null,initStandalone:WP});var GP=ps.ServerValue;function KP(t){t.INTERNAL.registerComponent(new Ot("database-compat",(e,{instanceIdentifier:n})=>{let s=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new ps(i,s)},"PUBLIC").setServiceProps({Reference:T1,Query:a6,Database:ps,DataSnapshot:hs,enableLogging:fM,INTERNAL:qP,ServerValue:GP}).setMultipleInstances(!0)),t.registerVersion(jP,UP)}KP(Ze);function or(t,e,n="on",s=In){return new K(i=>{let r=null;return r=t[n](e,(o,c)=>{s.schedule(()=>{i.next({snapshot:o,prevKey:c})}),n==="once"&&s.schedule(()=>i.complete())},o=>{s.schedule(()=>i.error(o))}),n==="on"?{unsubscribe(){r!=null&&t.off(e,r)}}:{unsubscribe(){}}}).pipe(V(i=>{let{snapshot:r,prevKey:o}=i,c=null;return r.exists()&&(c=r.key),{type:e,payload:r,prevKey:o,key:c}}),E0())}function QP(t){return typeof t=="string"}function YP(t){return typeof t.exportVal=="function"}function MM(t){return t==null}function _M(t){return typeof t.set=="function"}function gM(t,e){return _M(e)?e:t.ref(e)}function LM(t,e){if(QP(t))return e.stringCase();if(_M(t))return e.firebaseCase();if(YP(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function wM(t){return(MM(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function bM(t,e,n){e=wM(e);let s=e.map(i=>or(t,i,"on",n));return Gs(...s)}function ZP(t,e,n){let s=bM(t,e).pipe(Qs((i,r)=>[...i,r],[]));return JP(t,s,n)}function XP(t,e){return or(t,"value","on",e).pipe(V(n=>{let s;return n.payload.forEach(i=>(s=i.key,!1)),{data:n,lastKeyToLoad:s}}))}function JP(t,e,n){return XP(t,n).pipe(Da(e),V(([i,r])=>{let o=i.lastKeyToLoad,c=r.map(a=>a.key);return{actions:r,lastKeyToLoad:o,loadedKeys:c}}),za(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),V(i=>i.actions))}function yM(t,e){return function(s,i){return LM(s,{stringCase:()=>t.child(s)[e](i),firebaseCase:()=>s[e](i),snapshotCase:()=>s.ref[e](i)})}}function eO(t){return function(n){return n?LM(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function tO(t,e,n){return or(t,"value","once",n).pipe(Ce(s=>{let i=[R(s)];return e.forEach(r=>i.push(or(t,r,"on",n))),Gs(...i).pipe(Qs(sO,[]))}),La())}function zM(t,e){let n=t.length;for(let s=0;s<n;s++)if(t[s].payload.key===e)return s;return-1}function nO(t,e){if(MM(e))return 0;{let n=zM(t,e);return n===-1?t.length:n+1}}function sO(t,e){let{payload:n,prevKey:s,key:i}=e,r=zM(t,i),o=nO(t,s);switch(e.type){case"value":if(e.payload?.exists()){let c=null;e.payload.forEach(a=>{let l={payload:a,type:"value",prevKey:c,key:a.key};return c=a.key,t=[...t,l],!1})}return t;case"child_added":if(r>-1)(t[r-1]?.key||null)!==s&&(t=t.filter(a=>a.payload.key!==n.key),t.splice(o,0,e));else{if(s==null)return[e,...t];t=t.slice(),t.splice(o,0,e)}return t;case"child_removed":return t.filter(c=>c.payload.key!==n.key);case"child_changed":return t.map(c=>c.payload.key===i?e:c);case"child_moved":if(r>-1){let c=t.splice(r,1)[0];return t=t.slice(),t.splice(o,0,c),t}return t;default:return t}}function CM(t,e,n){return e=wM(e),tO(t,e,n)}function iO(t,e){let n=e.schedulers.outsideAngular,s=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:yM(s,"update"),set:yM(s,"set"),push:i=>s.push(i),remove:eO(s),snapshotChanges(i){return CM(t,i,n).pipe($t)},stateChanges(i){return bM(t,i,n).pipe($t)},auditTrail(i){return ZP(t,i,n).pipe($t)},valueChanges(i,r){return CM(t,i,n).pipe(V(c=>c.map(a=>r&&r.idField?O(g({},a.payload.val()),{[r.idField]:a.key}):a.payload.val())),$t)}}}function vM(t,e){return function(){return or(t,"value","on",e)}}function rO(t,e){return{query:t,snapshotChanges(){return vM(t,e.schedulers.outsideAngular)().pipe($t)},update(n){return t.ref.update(n)},set(n){return t.ref.set(n)},remove(){return t.ref.remove()},valueChanges(){return vM(t,e.schedulers.outsideAngular)().pipe($t,V(s=>s.payload.exists()?s.payload.val():null))}}}var oO=new N("angularfire2.realtimeDatabaseURL"),cO=new N("angularfire2.database.use-emulator"),A1=(()=>{class t{schedulers;database;constructor(n,s,i,r,o,c,a,l,u,f,d,h,p,m,y){this.schedulers=c;let M=a,z=rs(n,o,s);l&&M7(z,o,u,d,h,p,f,m),this.database=Ti(`${z.name}.database.${i}`,"AngularFireDatabase",z.name,()=>{let v=o.runOutsideAngular(()=>z.database(i||void 0));return M&&v.useEmulator(...M),v},[M])}list(n,s){let i=this.schedulers.ngZone.runOutsideAngular(()=>gM(this.database,n)),r=i;return s&&(r=s(i)),iO(r,this)}object(n){let s=this.schedulers.ngZone.runOutsideAngular(()=>gM(this.database,n));return rO(s,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(s){return new(s||t)(C(rn),C(on,8),C(oO,8),C(dt),C(X),C(is),C(cO,8),C(S3,8),C(p7,8),C(m7,8),C(g7,8),C(y7,8),C(C7,8),C(v7,8),C(J2,8))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),EM=(()=>{class t{constructor(){Ze.registerVersion("angularfire",e1.full,"rtdb-compat")}static \u0275fac=function(s){return new(s||t)};static \u0275mod=ge({type:t});static \u0275inj=me({providers:[A1]})}return t})();var RM="firebasestorage.googleapis.com",PM="storageBucket",aO=2*60*1e3,lO=10*60*1e3,uO=1e3;var Pe=class t extends ud{constructor(e,n,s=0){super(gf(e),`Firebase Storage: ${n} (${gf(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ae=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Ae||{});function gf(t){return"storage/"+t}function bf(){let t="An unknown error occurred, please check the error payload for server response.";return new Pe(Ae.UNKNOWN,t)}function fO(t){return new Pe(Ae.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function dO(t){return new Pe(Ae.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hO(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Pe(Ae.UNAUTHENTICATED,t)}function pO(){return new Pe(Ae.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function mO(t){return new Pe(Ae.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function OM(){return new Pe(Ae.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FM(){return new Pe(Ae.CANCELED,"User canceled the upload/download.")}function gO(t){return new Pe(Ae.INVALID_URL,"Invalid URL '"+t+"'.")}function yO(t){return new Pe(Ae.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function CO(){return new Pe(Ae.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+PM+"' property when initializing the app?")}function VM(){return new Pe(Ae.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vO(){return new Pe(Ae.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function MO(){return new Pe(Ae.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _O(t){return new Pe(Ae.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ms(t){return new Pe(Ae.INVALID_ARGUMENT,t)}function jM(){return new Pe(Ae.APP_DELETED,"The Firebase app was deleted.")}function zf(t){return new Pe(Ae.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ar(t,e){return new Pe(Ae.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function cr(t){throw new Pe(Ae.INTERNAL_ERROR,"Internal error: "+t)}var Et=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(s.path==="")return s;throw yO(e)}static makeFromUrl(e,n){let s=null,i="([A-Za-z0-9.\\-_]+)";function r(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}let o="(/(.*))?$",c=new RegExp("^gs://"+i+o,"i"),a={bucket:1,path:3};function l(D){D.path_=decodeURIComponent(D.path)}let u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${u}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===RM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",M=new RegExp(`^https?://${m}/${i}/${y}`,"i"),v=[{regex:c,indices:a,postModify:r},{regex:h,indices:p,postModify:l},{regex:M,indices:{bucket:1,path:2},postModify:l}];for(let D=0;D<v.length;D++){let j=v[D],B=j.regex.exec(e);if(B){let ee=B[j.indices.bucket],ae=B[j.indices.path];ae||(ae=""),s=new t(ee,ae),j.postModify(s);break}}if(s==null)throw gO(e);return s}},Cf=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function LO(t,e,n){let s=1,i=null,r=null,o=!1,c=0;function a(){return c===2}let l=!1;function u(...y){l||(l=!0,e.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,t(h,a())},y)}function d(){r&&clearTimeout(r)}function h(y,...M){if(l){d();return}if(y){d(),u.call(null,y,...M);return}if(a()||o){d(),u.call(null,y,...M);return}s<64&&(s*=2);let v;c===1?(c=2,v=0):v=(s+Math.random())*1e3,f(v)}let p=!1;function m(y){p||(p=!0,d(),!l&&(i!==null?(y||(c=2),clearTimeout(i),f(0)):y||(c=1)))}return f(0),r=setTimeout(()=>{o=!0,m(!0)},n),m}function wO(t){t(!1)}function bO(t){return t!==void 0}function zO(t){return typeof t=="function"}function EO(t){return typeof t=="object"&&!Array.isArray(t)}function d6(t){return typeof t=="string"||t instanceof String}function SM(t){return Ef()&&t instanceof Blob}function Ef(){return typeof Blob<"u"}function vf(t,e,n,s){if(s<e)throw ms(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw ms(`Invalid value for '${t}'. Expected ${n} or less.`)}function gn(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function UM(t){let e=encodeURIComponent,n="?";for(let s in t)if(t.hasOwnProperty(s)){let i=e(s)+"="+e(t[s]);n=n+i+"&"}return n=n.slice(0,-1),n}var Xi=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Xi||{});function BM(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||i||r}var Mf=class{constructor(e,n,s,i,r,o,c,a,l,u,f,d=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){let e=(s,i)=>{if(i){s(!1,new Zi(!1,null,!0));return}let r=this.connectionFactory_();this.pendingConnection_=r;let o=c=>{let a=c.loaded,l=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,l)};this.progressCallback_!==null&&r.addUploadProgressListener(o),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(o),this.pendingConnection_=null;let c=r.getErrorCode()===Xi.NO_ERROR,a=r.getStatus();if(!c||BM(a,this.additionalRetryCodes_)&&this.retry){let u=r.getErrorCode()===Xi.ABORT;s(!1,new Zi(!1,null,u));return}let l=this.successCodes_.indexOf(a)!==-1;s(!0,new Zi(l,r))})},n=(s,i)=>{let r=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{let a=this.callback_(c,c.getResponse());bO(a)?r(a):r()}catch(a){o(a)}else if(c!==null){let a=bf();a.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,a)):o(a)}else if(i.canceled){let a=this.appDelete_?jM():FM();o(a)}else{let a=OM();o(a)}};this.canceled_?n(!1,new Zi(!1,null,!0)):this.backoffId_=LO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Zi=class{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}};function SO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function DO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function NO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function IO(t,e,n,s,i,r,o=!0){let c=UM(t.urlParams),a=t.url+c,l=Object.assign({},t.headers);return xO(l,e),SO(l,n),DO(l,r),NO(l,s),new Mf(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function TO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function AO(...t){let e=TO();if(e!==void 0){let n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(Ef())return new Blob(t);throw new Pe(Ae.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kO(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function RO(t){if(typeof atob>"u")throw _O("base-64");return atob(t)}var Qt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},lr=class{constructor(e,n){this.data=e,this.contentType=n||null}};function Sf(t,e){switch(t){case Qt.RAW:return new lr(HM(e));case Qt.BASE64:case Qt.BASE64URL:return new lr($M(t,e));case Qt.DATA_URL:return new lr(OO(e),FO(e))}throw bf()}function HM(t){let e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let r=s,o=t.charCodeAt(++n);s=65536|(r&1023)<<10|o&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function PO(t){let e;try{e=decodeURIComponent(t)}catch{throw ar(Qt.DATA_URL,"Malformed data URL.")}return HM(e)}function $M(t,e){switch(t){case Qt.BASE64:{let i=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(i||r)throw ar(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Qt.BASE64URL:{let i=e.indexOf("+")!==-1,r=e.indexOf("/")!==-1;if(i||r)throw ar(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=RO(e)}catch(i){throw i.message.includes("polyfill")?i:ar(t,"Invalid character found")}let s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}var f6=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw ar(Qt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let s=n[1]||null;s!=null&&(this.base64=VO(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}};function OO(t){let e=new f6(t);return e.base64?$M(Qt.BASE64,e.rest):PO(e.rest)}function FO(t){return new f6(t).contentType}function VO(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Ji=class t{constructor(e,n){let s=0,i="";SM(e)?(this.data_=e,s=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(SM(this.data_)){let s=this.data_,i=kO(s,e,n);return i===null?null:new t(i)}else{let s=new Uint8Array(this.data_.buffer,e,n-e);return new t(s,!0)}}static getBlob(...e){if(Ef()){let n=e.map(s=>s instanceof t?s.data_:s);return new t(AO.apply(null,n))}else{let n=e.map(o=>d6(o)?Sf(Qt.RAW,o).data:o.data_),s=0;n.forEach(o=>{s+=o.byteLength});let i=new Uint8Array(s),r=0;return n.forEach(o=>{for(let c=0;c<o.length;c++)i[r++]=o[c]}),new t(i,!0)}}uploadData(){return this.data_}};function Df(t){let e;try{e=JSON.parse(t)}catch{return null}return EO(e)?e:null}function jO(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function UO(t,e){let n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function WM(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function BO(t,e){return e}var lt=class{constructor(e,n,s,i){this.server=e,this.local=n||e,this.writable=!!s,this.xform=i||BO}},u6=null;function HO(t){return!d6(t)||t.length<2?t:WM(t)}function h6(){if(u6)return u6;let t=[];t.push(new lt("bucket")),t.push(new lt("generation")),t.push(new lt("metageneration")),t.push(new lt("name","fullPath",!0));function e(r,o){return HO(o)}let n=new lt("name");n.xform=e,t.push(n);function s(r,o){return o!==void 0?Number(o):o}let i=new lt("size");return i.xform=s,t.push(i),t.push(new lt("timeCreated")),t.push(new lt("updated")),t.push(new lt("md5Hash",null,!0)),t.push(new lt("cacheControl",null,!0)),t.push(new lt("contentDisposition",null,!0)),t.push(new lt("contentEncoding",null,!0)),t.push(new lt("contentLanguage",null,!0)),t.push(new lt("contentType",null,!0)),t.push(new lt("metadata","customMetadata",!0)),u6=t,u6}function $O(t,e){function n(){let s=t.bucket,i=t.fullPath,r=new Et(s,i);return e._makeStorageReference(r)}Object.defineProperty(t,"ref",{get:n})}function WO(t,e,n){let s={};s.type="file";let i=n.length;for(let r=0;r<i;r++){let o=n[r];s[o.local]=o.xform(s,e[o.server])}return $O(s,t),s}function qM(t,e,n){let s=Df(e);return s===null?null:WO(t,s,n)}function qO(t,e,n,s){let i=Df(e);if(i===null||!d6(i.downloadTokens))return null;let r=i.downloadTokens;if(r.length===0)return null;let o=encodeURIComponent;return r.split(",").map(l=>{let u=t.bucket,f=t.fullPath,d="/b/"+o(u)+"/o/"+o(f),h=gn(d,n,s),p=UM({alt:"media",token:l});return h+p})[0]}function xf(t,e){let n={},s=e.length;for(let i=0;i<s;i++){let r=e[i];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}var DM="prefixes",xM="items";function GO(t,e,n){let s={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[DM])for(let i of n[DM]){let r=i.replace(/\/$/,""),o=t._makeStorageReference(new Et(e,r));s.prefixes.push(o)}if(n[xM])for(let i of n[xM]){let r=t._makeStorageReference(new Et(e,i.name));s.items.push(r)}return s}function KO(t,e,n){let s=Df(n);return s===null?null:GO(t,e,s)}var N2=class{constructor(e,n,s,i){this.url=e,this.method=n,this.handler=s,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function c1(t){if(!t)throw bf()}function p6(t,e){function n(s,i){let r=qM(t,i,e);return c1(r!==null),r}return n}function QO(t,e){function n(s,i){let r=KO(t,e,i);return c1(r!==null),r}return n}function YO(t,e){function n(s,i){let r=qM(t,i,e);return c1(r!==null),qO(r,i,t.host,t._protocol)}return n}function n0(t){function e(n,s){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=pO():i=hO():n.getStatus()===402?i=dO(t.bucket):n.getStatus()===403?i=mO(t.path):i=s,i.status=n.getStatus(),i.serverResponse=s.serverResponse,i}return e}function m6(t){let e=n0(t);function n(s,i){let r=e(s,i);return s.getStatus()===404&&(r=fO(t.path)),r.serverResponse=i.serverResponse,r}return n}function GM(t,e,n){let s=e.fullServerUrl(),i=gn(s,t.host,t._protocol),r="GET",o=t.maxOperationRetryTime,c=new N2(i,r,p6(t,n),o);return c.errorHandler=m6(e),c}function ZO(t,e,n,s,i){let r={};e.isRoot?r.prefix="":r.prefix=e.path+"/",n&&n.length>0&&(r.delimiter=n),s&&(r.pageToken=s),i&&(r.maxResults=i);let o=e.bucketOnlyServerUrl(),c=gn(o,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,u=new N2(c,a,QO(t,e.bucket),l);return u.urlParams=r,u.errorHandler=n0(e),u}function XO(t,e,n){let s=e.fullServerUrl(),i=gn(s,t.host,t._protocol),r="GET",o=t.maxOperationRetryTime,c=new N2(i,r,YO(t,n),o);return c.errorHandler=m6(e),c}function JO(t,e,n,s){let i=e.fullServerUrl(),r=gn(i,t.host,t._protocol),o="PATCH",c=xf(n,s),a={"Content-Type":"application/json; charset=utf-8"},l=t.maxOperationRetryTime,u=new N2(r,o,p6(t,s),l);return u.headers=a,u.body=c,u.errorHandler=m6(e),u}function eF(t,e){let n=e.fullServerUrl(),s=gn(n,t.host,t._protocol),i="DELETE",r=t.maxOperationRetryTime;function o(a,l){}let c=new N2(s,i,o,r);return c.successCodes=[200,204],c.errorHandler=m6(e),c}function tF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function KM(t,e,n){let s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=tF(null,e)),s}function nF(t,e,n,s,i){let r=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let v="";for(let D=0;D<2;D++)v=v+Math.random().toString().slice(2);return v}let a=c();o["Content-Type"]="multipart/related; boundary="+a;let l=KM(e,s,i),u=xf(l,n),f="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+a+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+a+"--",h=Ji.getBlob(f,s,d);if(h===null)throw VM();let p={name:l.fullPath},m=gn(r,t.host,t._protocol),y="POST",M=t.maxUploadRetryTime,z=new N2(m,y,p6(t,n),M);return z.urlParams=p,z.headers=o,z.body=h.uploadData(),z.errorHandler=n0(e),z}var e0=class{constructor(e,n,s,i){this.current=e,this.total=n,this.finalized=!!s,this.metadata=i||null}};function Nf(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{c1(!1)}return c1(!!n&&(e||["active"]).indexOf(n)!==-1),n}function sF(t,e,n,s,i){let r=e.bucketOnlyServerUrl(),o=KM(e,s,i),c={name:o.fullPath},a=gn(r,t.host,t._protocol),l="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=xf(o,n),d=t.maxUploadRetryTime;function h(m){Nf(m);let y;try{y=m.getResponseHeader("X-Goog-Upload-URL")}catch{c1(!1)}return c1(d6(y)),y}let p=new N2(a,l,h,d);return p.urlParams=c,p.headers=u,p.body=f,p.errorHandler=n0(e),p}function iF(t,e,n,s){let i={"X-Goog-Upload-Command":"query"};function r(l){let u=Nf(l,["active","final"]),f=null;try{f=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{c1(!1)}f||c1(!1);let d=Number(f);return c1(!isNaN(d)),new e0(d,s.size(),u==="final")}let o="POST",c=t.maxUploadRetryTime,a=new N2(n,o,r,c);return a.headers=i,a.errorHandler=n0(e),a}var NM=256*1024;function rF(t,e,n,s,i,r,o,c){let a=new e0(0,0);if(o?(a.current=o.current,a.total=o.total):(a.current=0,a.total=s.size()),s.size()!==a.total)throw vO();let l=a.total-a.current,u=l;i>0&&(u=Math.min(u,i));let f=a.current,d=f+u,h="";u===0?h="finalize":l===u?h="upload, finalize":h="upload";let p={"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":`${a.current}`},m=s.slice(f,d);if(m===null)throw VM();function y(D,j){let B=Nf(D,["active","final"]),ee=a.current+u,ae=s.size(),je;return B==="final"?je=p6(e,r)(D,j):je=null,new e0(ee,ae,B==="final",je)}let M="POST",z=e.maxUploadRetryTime,v=new N2(n,M,y,z);return v.headers=p,v.body=m.uploadData(),v.progressCallback=c||null,v.errorHandler=n0(t),v}var QM={STATE_CHANGED:"state_changed"},pt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yf(t){switch(t){case"running":case"pausing":case"canceling":return pt.RUNNING;case"paused":return pt.PAUSED;case"success":return pt.SUCCESS;case"canceled":return pt.CANCELED;case"error":return pt.ERROR;default:return pt.ERROR}}var _f=class{constructor(e,n,s){if(zO(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{let r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}}};function Yi(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var IM=null,Lf=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,i){if(this.sent_)throw cr("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cr("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cr("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cr("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cr("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},wf=class extends Lf{initXhr(){this.xhr_.responseType="text"}};function o1(){return IM?IM():new wf}var ur=class{constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=h6(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ae.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let r=this.isExponentialBackoffExpired();if(BM(i.status,[]))if(r)i=OM();else{this.sleepTime=Math.max(this.sleepTime*2,uO),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ae.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,r)=>{this._resolve=i,this._reject=r,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let s=sF(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(s,o1,e,n);this._request=i,i.getPromise().then(r=>{this._request=void 0,this._uploadUrl=r,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,s)=>{let i=iF(this._ref.storage,this._ref._location,e,this._blob),r=this._ref.storage._makeRequest(i,o1,n,s);this._request=r,r.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=NM*this._chunkMultiplier,n=new e0(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((i,r)=>{let o;try{o=rF(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(a){this._error=a,this._transition("error");return}let c=this._ref.storage._makeRequest(o,o1,i,r,!1);this._request=c,c.getPromise().then(a=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(a.current),a.finalized?(this._metadata=a.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){NM*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let s=GM(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(s,o1,e,n);this._request=i,i.getPromise().then(r=>{this._request=void 0,this._metadata=r,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let s=nF(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(s,o1,e,n);this._request=i,i.getPromise().then(r=>{this._request=void 0,this._metadata=r,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=FM(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=yf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,i){let r=new _f(n||void 0,s||void 0,i||void 0);return this._addObserver(r),()=>{this._removeObserver(r)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(yf(this._state)){case pt.SUCCESS:Yi(this._resolve.bind(null,this.snapshot))();break;case pt.CANCELED:case pt.ERROR:let n=this._reject;Yi(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(yf(this._state)){case pt.RUNNING:case pt.PAUSED:e.next&&Yi(e.next.bind(e,this.snapshot))();break;case pt.SUCCESS:e.complete&&Yi(e.complete.bind(e))();break;case pt.CANCELED:case pt.ERROR:e.error&&Yi(e.error.bind(e,this._error))();break;default:e.error&&Yi(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var t0=class t{constructor(e,n){this._service=e,n instanceof Et?this._location=n:this._location=Et.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Et(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WM(this._location.path)}get storage(){return this._service}get parent(){let e=jO(this._location.path);if(e===null)return null;let n=new Et(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw zf(e)}};function oF(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new ur(t,new Ji(e),n)}function cF(t){let e={prefixes:[],items:[]};return YM(t,e).then(()=>e)}function YM(t,e,n){return xe(this,null,function*(){let i=yield ZM(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&(yield YM(t,e,i.nextPageToken))})}function ZM(t,e){e!=null&&typeof e.maxResults=="number"&&vf("options.maxResults",1,1e3,e.maxResults);let n=e||{},s=ZO(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(s,o1)}function aF(t){t._throwIfRoot("getMetadata");let e=GM(t.storage,t._location,h6());return t.storage.makeRequestWithTokens(e,o1)}function lF(t,e){t._throwIfRoot("updateMetadata");let n=JO(t.storage,t._location,e,h6());return t.storage.makeRequestWithTokens(n,o1)}function uF(t){t._throwIfRoot("getDownloadURL");let e=XO(t.storage,t._location,h6());return t.storage.makeRequestWithTokens(e,o1).then(n=>{if(n===null)throw MO();return n})}function fF(t){t._throwIfRoot("deleteObject");let e=eF(t.storage,t._location);return t.storage.makeRequestWithTokens(e,o1)}function XM(t,e){let n=UO(t._location.path,e),s=new Et(t._location.bucket,n);return new t0(t.storage,s)}function dF(t){return/^[A-Za-z]+:\/\//.test(t)}function hF(t,e){return new t0(t,e)}function JM(t,e){if(t instanceof fr){let n=t;if(n._bucket==null)throw CO();let s=new t0(n,n._bucket);return e!=null?JM(s,e):s}else return e!==void 0?XM(t,e):t}function pF(t,e){if(e&&dF(e)){if(t instanceof fr)return hF(t,e);throw ms("To use ref(service, url), the first argument must be a Storage instance.")}else return JM(t,e)}function TM(t,e){let n=e?.[PM];return n==null?null:Et.makeFromBucketSpec(n,t)}function mF(t,e,n,s={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=s;i&&(t._overrideAuthToken=typeof i=="string"?i:Fr(i,t.app.options.projectId))}var fr=class{constructor(e,n,s,i,r){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=i,this._firebaseVersion=r,this._bucket=null,this._host=RM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aO,this._maxUploadRetryTime=lO,this._requests=new Set,i!=null?this._bucket=Et.makeFromBucketSpec(i,this._host):this._bucket=TM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Et.makeFromBucketSpec(this._url,e):this._bucket=TM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vf("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vf("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return xe(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return xe(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new t0(this,e)}_makeRequest(e,n,s,i,r=!0){if(this._deleted)return new Cf(jM());{let o=IO(e,this._appId,s,i,n,this._firebaseVersion,r);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return xe(this,null,function*(){let[s,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,i).getPromise()})}},AM="@firebase/storage",kM="0.12.5";var gF="storage";function e_(t,e,n){return t=Ne(t),oF(t,e,n)}function t_(t){return t=Ne(t),aF(t)}function n_(t,e){return t=Ne(t),lF(t,e)}function s_(t,e){return t=Ne(t),ZM(t,e)}function i_(t){return t=Ne(t),cF(t)}function r_(t){return t=Ne(t),uF(t)}function o_(t){return t=Ne(t),fF(t)}function If(t,e){return t=Ne(t),pF(t,e)}function c_(t,e){return XM(t,e)}function a_(t,e,n,s={}){mF(t,e,n,s)}function yF(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new fr(n,s,i,e,Br)}function CF(){zn(new Ot(gF,yF,"PUBLIC").setMultipleInstances(!0)),Ft(AM,kM,""),Ft(AM,kM,"esm2017")}CF();var s0=class{constructor(e,n,s){this._delegate=e,this.task=n,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var g6=class{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new s0(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(s=>{if(e)return e(new s0(s,this,this._ref))},n)}on(e,n,s,i){let r;return n&&(typeof n=="function"?r=o=>n(new s0(o,this,this._ref)):r={next:n.next?o=>n.next(new s0(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,r,s||void 0,i||void 0)}},y6=class{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new gs(e,this._service))}get items(){return this._delegate.items.map(e=>new gs(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var gs=class t{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let n=c_(this._delegate,e);return new t(n,this.storage)}get root(){return new t(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new t(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new g6(e_(this._delegate,e,n),this)}putString(e,n=Qt.RAW,s){this._throwIfRoot("putString");let i=Sf(n,e),r=Object.assign({},s);return r.contentType==null&&i.contentType!=null&&(r.contentType=i.contentType),new g6(new ur(this._delegate,new Ji(i.data,!0),r),this)}listAll(){return i_(this._delegate).then(e=>new y6(e,this.storage))}list(e){return s_(this._delegate,e||void 0).then(n=>new y6(n,this.storage))}getMetadata(){return t_(this._delegate)}updateMetadata(e){return n_(this._delegate,e)}getDownloadURL(){return r_(this._delegate)}delete(){return this._throwIfRoot("delete"),o_(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw zf(e)}};var C6=class{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(l_(e))throw ms("ref() expected a child path but got a URL, use refFromURL instead.");return new gs(If(this._delegate,e),this)}refFromURL(e){if(!l_(e))throw ms("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Et.makeFromUrl(e,this._delegate.host)}catch{throw ms("refFromUrl() expected a valid full URL but got an invalid one.")}return new gs(If(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,s={}){a_(this._delegate,e,n,s)}};function l_(t){return/^[A-Za-z]+:\/\//.test(t)}var vF="@firebase/storage-compat",MF="0.3.8";var _F="storage-compat";function LF(t,{instanceIdentifier:e}){let n=t.getProvider("app-compat").getImmediate(),s=t.getProvider("storage").getImmediate({identifier:e});return new C6(n,s)}function wF(t){let e={TaskState:pt,TaskEvent:QM,StringFormat:Qt,Storage:C6,Reference:gs};t.INTERNAL.registerComponent(new Ot(_F,LF,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(vF,MF)}wF(Ze);function bF(t){return new K(e=>{let n=o=>e.next(o),s=o=>e.error(o),i=()=>e.complete();n(t.snapshot);let r=t.on("state_changed",n);return t.then(o=>{n(o),i()},o=>{n(t.snapshot),s(o)}),function(){r()}}).pipe(Ma(0))}function u_(t){let e=bF(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(V(n=>n.bytesTransferred/n.totalBytes*100))}}function v6(t){return{getDownloadURL:()=>R(void 0).pipe(r7,Ce(()=>t.getDownloadURL()),$t),getMetadata:()=>R(void 0).pipe(r7,Ce(()=>t.getMetadata()),$t),delete:()=>ue(t.delete()),child:e=>v6(t.child(e)),updateMetadata:e=>ue(t.updateMetadata(e)),put:(e,n)=>{let s=t.put(e,n);return u_(s)},putString:(e,n,s)=>{let i=t.putString(e,n,s);return u_(i)},list:e=>ue(t.list(e)),listAll:()=>ue(t.listAll())}}var zF=new N("angularfire2.storageBucket"),EF=new N("angularfire2.storage.maxUploadRetryTime"),SF=new N("angularfire2.storage.maxOperationRetryTime"),DF=new N("angularfire2.storage.use-emulator"),dr=(()=>{class t{storage;constructor(n,s,i,r,o,c,a,l,u,f){let d=rs(n,o,s);this.storage=Ti(`${d.name}.storage.${i}`,"AngularFireStorage",d.name,()=>{let h=o.runOutsideAngular(()=>d.storage(i||void 0)),p=u;return p&&h.useEmulator(...p),a&&h.setMaxUploadRetryTime(a),l&&h.setMaxOperationRetryTime(l),h},[a,l])}ref(n){return v6(this.storage.ref(n))}refFromURL(n){return v6(this.storage.refFromURL(n))}upload(n,s,i){let r=this.storage.ref(n);return v6(r).put(s,i)}static \u0275fac=function(s){return new(s||t)(C(rn),C(on,8),C(zF,8),C(dt),C(X),C(is),C(EF,8),C(SF,8),C(DF,8),C(J2,8))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var xF=(()=>{class t{static \u0275fac=function(s){return new(s||t)};static \u0275mod=ge({type:t});static \u0275inj=me({})}return t})(),f_=(()=>{class t{constructor(){Ze.registerVersion("angularfire",e1.full,"gcs-compat")}static \u0275fac=function(s){return new(s||t)};static \u0275mod=ge({type:t});static \u0275inj=me({providers:[dr],imports:[xF]})}return t})();var Z=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Z||{}),a1="*";function h_(t,e){return{type:Z.Trigger,name:t,definitions:e,options:{}}}function Tf(t,e=null){return{type:Z.Animate,styles:e,timings:t}}function p_(t,e=null){return{type:Z.Sequence,steps:t,options:e}}function ys(t){return{type:Z.Style,styles:t,offset:null}}function M6(t,e,n){return{type:Z.State,name:t,styles:e,options:n}}function Af(t,e,n=null){return{type:Z.Transition,expr:t,animation:e,options:n}}var yn=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}},hr=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,s=0,i=0,r=this.players.length;r==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==r&&this._onFinish()}),o.onDestroy(()=>{++s==r&&this._onDestroy()}),o.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,c)=>Math.max(o,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(s=>{let i=s.totalTime?Math.min(1,n/s.totalTime):1;s.setPosition(i)})}getPosition(){let e=this.players.reduce((n,s)=>n===null||s.totalTime>n.totalTime?s:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}},_6="!";var m_=["toast-component",""];function NF(t,e){if(t&1){let n=E1();L(0,"button",5),Ee("click",function(){$2(n);let i=Qe();return W2(i.remove())}),L(1,"span",6),A(2,"\xD7"),w()()}}function IF(t,e){if(t&1&&(Lo(0),A(1),wo()),t&2){let n=Qe(2);T(),Se("[",n.duplicatesCount+1,"]")}}function TF(t,e){if(t&1&&(L(0,"div"),A(1),tt(2,IF,2,1,"ng-container",4),w()),t&2){let n=Qe();z1(n.options.titleClass),c2("aria-label",n.title),T(),Se(" ",n.title," "),T(),F("ngIf",n.duplicatesCount)}}function AF(t,e){if(t&1&&Y(0,"div",7),t&2){let n=Qe();z1(n.options.messageClass),F("innerHTML",n.message,W0)}}function kF(t,e){if(t&1&&(L(0,"div",8),A(1),w()),t&2){let n=Qe();z1(n.options.messageClass),c2("aria-label",n.message),T(),Se(" ",n.message," ")}}function RF(t,e){if(t&1&&(L(0,"div"),Y(1,"div",9),w()),t&2){let n=Qe();T(),Yn("width",n.width()+"%")}}function PF(t,e){if(t&1){let n=E1();L(0,"button",5),Ee("click",function(){$2(n);let i=Qe();return W2(i.remove())}),L(1,"span",6),A(2,"\xD7"),w()()}}function OF(t,e){if(t&1&&(Lo(0),A(1),wo()),t&2){let n=Qe(2);T(),Se("[",n.duplicatesCount+1,"]")}}function FF(t,e){if(t&1&&(L(0,"div"),A(1),tt(2,OF,2,1,"ng-container",4),w()),t&2){let n=Qe();z1(n.options.titleClass),c2("aria-label",n.title),T(),Se(" ",n.title," "),T(),F("ngIf",n.duplicatesCount)}}function VF(t,e){if(t&1&&Y(0,"div",7),t&2){let n=Qe();z1(n.options.messageClass),F("innerHTML",n.message,W0)}}function jF(t,e){if(t&1&&(L(0,"div",8),A(1),w()),t&2){let n=Qe();z1(n.options.messageClass),c2("aria-label",n.message),T(),Se(" ",n.message," ")}}function UF(t,e){if(t&1&&(L(0,"div"),Y(1,"div",9),w()),t&2){let n=Qe();T(),Yn("width",n.width()+"%")}}var kf=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Rf=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},Pf=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new pe;_activate=new pe;_manualClose=new pe;_resetTimeout=new pe;_countDuplicate=new pe;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},i0=class{toastId;config;message;title;toastType;toastRef;_onTap=new pe;_onAction=new pe;constructor(e,n,s,i,r,o){this.toastId=e,this.config=n,this.message=s,this.title=i,this.toastType=r,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},g_={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},y_=new N("ToastConfig"),Of=class extends Rf{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,s){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=s}attachComponentPortal(e,n){let s=this._componentFactoryResolver.resolveComponentFactory(e.component),i;return i=s.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},BF=(()=>{class t{_document=E(Ve);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(s){return new(s||t)};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ff=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},HF=(()=>{class t{_overlayContainer=E(BF);_componentFactoryResolver=E(gi);_appRef=E(Q2);_document=E(Ve);_paneElements=new Map;create(n,s){return this._createOverlayRef(this.getPaneElement(n,s))}getPaneElement(n="",s){return this._paneElements.get(s)||this._paneElements.set(s,{}),this._paneElements.get(s)[n]||(this._paneElements.get(s)[n]=this._createPaneElement(n,s)),this._paneElements.get(s)[n]}_createPaneElement(n,s){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),s?s.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new Of(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new Ff(this._createPortalHost(n))}static \u0275fac=function(s){return new(s||t)};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),d2=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,s,i,r,o){this.overlay=s,this._injector=i,this.sanitizer=r,this.ngZone=o,this.toastrConfig=g(g({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=g(g({},n.default.iconClasses),n.config.iconClasses))}show(n,s,i={},r=""){return this._preBuildNotification(r,n,s,this.applyConfig(i))}success(n,s,i={}){let r=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(r,n,s,this.applyConfig(i))}error(n,s,i={}){let r=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(r,n,s,this.applyConfig(i))}info(n,s,i={}){let r=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(r,n,s,this.applyConfig(i))}warning(n,s,i={}){let r=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(r,n,s,this.applyConfig(i))}clear(n){for(let s of this.toasts)if(n!==void 0){if(s.toastId===n){s.toastRef.manualClose();return}}else s.toastRef.manualClose()}remove(n){let s=this._findToast(n);if(!s||(s.activeToast.toastRef.close(),this.toasts.splice(s.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",s="",i,r){let{includeTitleDuplicates:o}=this.toastrConfig;for(let c of this.toasts){let a=o&&c.title===n;if((!o||a)&&c.message===s)return c.toastRef.onDuplicate(i,r),c}return null}applyConfig(n={}){return g(g({},this.toastrConfig),n)}_findToast(n){for(let s=0;s<this.toasts.length;s++)if(this.toasts[s].toastId===n)return{index:s,activeToast:this.toasts[s]};return null}_preBuildNotification(n,s,i,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,s,i,r)):this._buildNotification(n,s,i,r)}_buildNotification(n,s,i,r){if(!r.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(i,s,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||s)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=s;let c=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(c=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let a=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;let l=s;s&&r.enableHtml&&(l=this.sanitizer.sanitize(Ut.HTML,s));let u=new Pf(a),f=new i0(this.index,r,l,i,n,u),d=[{provide:i0,useValue:f}],h=_t.create({providers:d,parent:this._injector}),p=new kf(r.toastComponent,h),m=a.attach(p,r.newestOnTop);u.componentInstance=m.instance;let y={toastId:this.index,title:i||"",message:s||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:f.onTap(),onAction:f.onAction(),portal:m};return c||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{y.toastRef.activate()})),this.toasts.push(y),y}static \u0275fac=function(s){return new(s||t)(C(y_),C(HF),C(_t),C(s3),C(X))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$F=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=G0(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,s,i){this.toastrService=n,this.toastPackage=s,this.ngZone=i,this.message=s.message,this.title=s.title,this.options=s.config,this.originalTimeout=s.config.timeOut,this.toastClasses=`${s.toastType} ${s.config.toastClass}`,this.sub=s.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=s.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=s.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=s.toastRef.countDuplicate().subscribe(r=>{this.duplicatesCount=r}),this.state=G0({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(n=>O(g({},n),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),s=this.hideTime-n;this.width.set(s/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(n=>O(g({},n),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(n=>O(g({},n),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,s){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),s)):this.timeout=setTimeout(()=>n(),s)}outsideInterval(n,s){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),s)):this.intervalId=setInterval(()=>n(),s)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(s){return new(s||t)(S(d2),S(i0),S(X))};static \u0275cmp=ve({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(s,i){s&1&&Ee("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),s&2&&(V8("@flyInOut",i._state),z1(i.toastClasses),Yn("display",i.displayStyle))},standalone:!0,features:[Z1],attrs:m_,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(s,i){s&1&&tt(0,NF,3,0,"button",0)(1,TF,3,5,"div",1)(2,AF,1,3,"div",2)(3,kF,2,4,"div",3)(4,RF,2,2,"div",4),s&2&&(F("ngIf",i.options.closeButton),T(),F("ngIf",i.title),T(),F("ngIf",i.message&&i.options.enableHtml),T(),F("ngIf",i.message&&!i.options.enableHtml),T(),F("ngIf",i.options.progressBar))},dependencies:[z2],encapsulation:2,data:{animation:[h_("flyInOut",[M6("inactive",ys({opacity:0})),M6("active",ys({opacity:1})),M6("removed",ys({opacity:0})),Af("inactive => active",Tf("{{ easeTime }}ms {{ easing }}")),Af("active => removed",Tf("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return t})(),WF=O(g({},g_),{toastComponent:$F}),qF=(t={})=>to([{provide:y_,useValue:{default:WF,config:t}}]),C_=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[qF(n)]}}static \u0275fac=function(s){return new(s||t)};static \u0275mod=ge({type:t});static \u0275inj=me({})}return t})();var GF=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=G0(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=G0("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,s,i){this.toastrService=n,this.toastPackage=s,this.appRef=i,this.message=s.message,this.title=s.title,this.options=s.config,this.originalTimeout=s.config.timeOut,this.toastClasses=`${s.toastType} ${s.config.toastClass}`,this.sub=s.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=s.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=s.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=s.toastRef.countDuplicate().subscribe(r=>{this.duplicatesCount=r})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),s=this.hideTime-n;this.width.set(s/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(s){return new(s||t)(S(d2),S(i0),S(Q2))};static \u0275cmp=ve({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(s,i){s&1&&Ee("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),s&2&&(z1(i.toastClasses),Yn("display",i.displayStyle))},standalone:!0,features:[Z1],attrs:m_,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(s,i){s&1&&tt(0,PF,3,0,"button",0)(1,FF,3,5,"div",1)(2,VF,1,3,"div",2)(3,jF,2,4,"div",3)(4,UF,2,2,"div",4),s&2&&(F("ngIf",i.options.closeButton),T(),F("ngIf",i.title),T(),F("ngIf",i.message&&i.options.enableHtml),T(),F("ngIf",i.message&&!i.options.enableHtml),T(),F("ngIf",i.options.progressBar))},dependencies:[z2],encapsulation:2,changeDetection:0})}return t})(),Qee=O(g({},g_),{toastComponent:GF});var h2=(()=>{let e=class e{constructor(s){this.auth=s}signUp(s,i){return this.auth.createUserWithEmailAndPassword(s,i)}signIn(s,i){return this.auth.signInWithEmailAndPassword(s,i)}getUser(){return this.auth.authState}signOut(){return this.auth.signOut()}};e.\u0275fac=function(i){return new(i||e)(C(S3))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var S_=(()=>{let e=class e{constructor(s,i){this._renderer=s,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(s,i){this._renderer.setProperty(this._elementRef.nativeElement,s,i)}registerOnTouched(s){this.onTouched=s}registerOnChange(s){this.onChange=s}setDisabledState(s){this.setProperty("disabled",s)}};e.\u0275fac=function(i){return new(i||e)(S(G2),S(Lt))},e.\u0275dir=$e({type:e});let t=e;return t})(),KF=(()=>{let e=class e extends S_{};e.\u0275fac=(()=>{let s;return function(r){return(s||(s=Qn(e)))(r||e)}})(),e.\u0275dir=$e({type:e,features:[K2]});let t=e;return t})(),D_=new N("");var QF={provide:D_,useExisting:qn(()=>Cn),multi:!0};function YF(){let t=Y2()?Y2().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var ZF=new N(""),Cn=(()=>{let e=class e extends S_{constructor(s,i,r){super(s,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!YF())}writeValue(s){let i=s??"";this.setProperty("value",i)}_handleInput(s){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(s)}_compositionStart(){this._composing=!0}_compositionEnd(s){this._composing=!1,this._compositionMode&&this.onChange(s)}};e.\u0275fac=function(i){return new(i||e)(S(G2),S(Lt),S(ZF,8))},e.\u0275dir=$e({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&Ee("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[Q0([QF]),K2]});let t=e;return t})();function XF(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var jf=new N(""),x_=new N("");function JF(t){return XF(t.value)?{required:!0}:null}function v_(t){return null}function N_(t){return t!=null}function I_(t){return Jn(t)?ue(t):t}function T_(t){let e={};return t.forEach(n=>{e=n!=null?g(g({},e),n):e}),Object.keys(e).length===0?null:e}function A_(t,e){return e.map(n=>n(t))}function eV(t){return!t.validate}function k_(t){return t.map(e=>eV(e)?e:n=>e.validate(n))}function tV(t){if(!t)return null;let e=t.filter(N_);return e.length==0?null:function(n){return T_(A_(n,e))}}function Uf(t){return t!=null?tV(k_(t)):null}function nV(t){if(!t)return null;let e=t.filter(N_);return e.length==0?null:function(n){let s=A_(n,e).map(I_);return va(s).pipe(V(T_))}}function Bf(t){return t!=null?nV(k_(t)):null}function M_(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function sV(t){return t._rawValidators}function iV(t){return t._rawAsyncValidators}function Vf(t){return t?Array.isArray(t)?t:[t]:[]}function w6(t,e){return Array.isArray(t)?t.includes(e):t===e}function __(t,e){let n=Vf(e);return Vf(t).forEach(i=>{w6(n,i)||n.push(i)}),n}function L_(t,e){return Vf(e).filter(n=>!w6(t,n))}var b6=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Uf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},c0=class extends b6{get formDirective(){return null}get path(){return null}},Cr=class extends b6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},z6=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},rV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},dte=O(g({},rV),{"[class.ng-submitted]":"isSubmitted"}),a0=(()=>{let e=class e extends z6{constructor(s){super(s)}};e.\u0275fac=function(i){return new(i||e)(S(Cr,2))},e.\u0275dir=$e({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&K0("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[K2]});let t=e;return t})(),l0=(()=>{let e=class e extends z6{constructor(s){super(s)}};e.\u0275fac=function(i){return new(i||e)(S(c0,10))},e.\u0275dir=$e({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&K0("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[K2]});let t=e;return t})();var mr="VALID",L6="INVALID",o0="PENDING",gr="DISABLED";function R_(t){return(D6(t)?t.validators:t)||null}function oV(t){return Array.isArray(t)?Uf(t):t||null}function P_(t,e){return(D6(e)?e.asyncValidators:t)||null}function cV(t){return Array.isArray(t)?Bf(t):t||null}function D6(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function aV(t,e,n){let s=t.controls;if(!(e?Object.keys(s):s).length)throw new _(1e3,"");if(!s[n])throw new _(1001,"")}function lV(t,e,n){t._forEachChild((s,i)=>{if(n[i]===void 0)throw new _(1002,"")})}var E6=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mr}get invalid(){return this.status===L6}get pending(){return this.status==o0}get disabled(){return this.status===gr}get enabled(){return this.status!==gr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(__(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(__(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(L_(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(L_(e,this._rawAsyncValidators))}hasValidator(e){return w6(this._rawValidators,e)}hasAsyncValidator(e){return w6(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=o0,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=gr,this.errors=null,this._forEachChild(s=>{s.disable(O(g({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(O(g({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=mr,this._forEachChild(s=>{s.enable(O(g({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(O(g({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mr||this.status===o0)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gr:mr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=o0,this._hasOwnPendingAsyncValidator=!0;let n=I_(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((s,i)=>s&&s._find(i),this)}getError(e,n){let s=n?this.get(n):this;return s&&s.errors?s.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?gr:this.errors?L6:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(o0)?o0:this._anyControlsHaveStatus(L6)?L6:mr}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){D6(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=oV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=cV(this._rawAsyncValidators)}},S6=class extends E6{constructor(e,n,s){super(R_(n),P_(s,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,s={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){lV(this,!0,e),Object.keys(e).forEach(s=>{aV(this,!0,s),this.controls[s].setValue(e[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(s=>{let i=this.controls[s];i&&i.patchValue(e[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((s,i)=>{s.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,s)=>(e[s]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,s)=>s._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let s=this.controls[n];s&&e(s,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,s]of Object.entries(this.controls))if(this.contains(n)&&e(s))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,s,i)=>((s.enabled||this.disabled)&&(n[i]=s.value),n))}_reduceChildren(e,n){let s=e;return this._forEachChild((i,r)=>{s=n(s,i,r)}),s}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Hf=new N("CallSetDisabledState",{providedIn:"root",factory:()=>$f}),$f="always";function uV(t,e){return[...e.path,t]}function O_(t,e,n=$f){F_(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),dV(t,e),pV(t,e),hV(t,e),fV(t,e)}function w_(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function fV(t,e){if(e.valueAccessor.setDisabledState){let n=s=>{e.valueAccessor.setDisabledState(s)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function F_(t,e){let n=sV(t);e.validator!==null?t.setValidators(M_(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let s=iV(t);e.asyncValidator!==null?t.setAsyncValidators(M_(s,e.asyncValidator)):typeof s=="function"&&t.setAsyncValidators([s]);let i=()=>t.updateValueAndValidity();w_(e._rawValidators,i),w_(e._rawAsyncValidators,i)}function dV(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&V_(t,e)})}function hV(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&V_(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function V_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function pV(t,e){let n=(s,i)=>{e.valueAccessor.writeValue(s),i&&e.viewToModelUpdate(s)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function mV(t,e){t==null,F_(t,e)}function gV(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function yV(t){return Object.getPrototypeOf(t.constructor)===KF}function CV(t,e){t._syncPendingControls(),e.forEach(n=>{let s=n.control;s.updateOn==="submit"&&s._pendingChange&&(n.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function vV(t,e){if(!e)return null;Array.isArray(e);let n,s,i;return e.forEach(r=>{r.constructor===Cn?n=r:yV(r)?s=r:i=r}),i||s||n||null}var MV={provide:c0,useExisting:qn(()=>Cs)},yr=Promise.resolve(),Cs=(()=>{let e=class e extends c0{constructor(s,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Oe,this.form=new S6({},Uf(s),Bf(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(s){yr.then(()=>{let i=this._findContainer(s.path);s.control=i.registerControl(s.name,s.control),O_(s.control,s,this.callSetDisabledState),s.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(s)})}getControl(s){return this.form.get(s.path)}removeControl(s){yr.then(()=>{let i=this._findContainer(s.path);i&&i.removeControl(s.name),this._directives.delete(s)})}addFormGroup(s){yr.then(()=>{let i=this._findContainer(s.path),r=new S6({});mV(r,s),i.registerControl(s.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(s){yr.then(()=>{let i=this._findContainer(s.path);i&&i.removeControl(s.name)})}getFormGroup(s){return this.form.get(s.path)}updateModel(s,i){yr.then(()=>{this.form.get(s.path).setValue(i)})}setValue(s){this.control.setValue(s)}onSubmit(s){return this.submitted=!0,CV(this.form,this._directives),this.ngSubmit.emit(s),s?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(s=void 0){this.form.reset(s),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(s){return s.pop(),s.length?this.form.get(s):this.form}};e.\u0275fac=function(i){return new(i||e)(S(jf,10),S(x_,10),S(Hf,8))},e.\u0275dir=$e({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&Ee("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:[ut.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Q0([MV]),K2]});let t=e;return t})();function b_(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function z_(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var _V=class extends E6{constructor(e=null,n,s){super(R_(n),P_(s,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),D6(n)&&(n.nonNullable||n.initialValueIsDefault)&&(z_(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(s=>s(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){b_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){b_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){z_(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var LV={provide:Cr,useExisting:qn(()=>vs)},E_=Promise.resolve(),vs=(()=>{let e=class e extends Cr{constructor(s,i,r,o,c,a){super(),this._changeDetectorRef=c,this.callSetDisabledState=a,this.control=new _V,this._registered=!1,this.name="",this.update=new Oe,this._parent=s,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=vV(this,o)}ngOnChanges(s){if(this._checkForErrors(),!this._registered||"name"in s){if(this._registered&&(this._checkName(),this.formDirective)){let i=s.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in s&&this._updateDisabled(s),gV(s,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(s){this.viewModel=s,this.update.emit(s)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){O_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(s){E_.then(()=>{this.control.setValue(s,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(s){let i=s.isDisabled.currentValue,r=i!==0&&X1(i);E_.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(s){return this._parent?uV(s,this._parent):[s]}};e.\u0275fac=function(i){return new(i||e)(S(c0,9),S(jf,10),S(x_,10),S(D_,10),S(S1,8),S(Hf,8))},e.\u0275dir=$e({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ut.None,"disabled","isDisabled"],model:[ut.None,"ngModel","model"],options:[ut.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Q0([LV]),K2,Mt]});let t=e;return t})(),u0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=$e({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var wV=(()=>{let e=class e{constructor(){this._validator=v_}ngOnChanges(s){if(this.inputName in s){let i=this.normalizeInput(s[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):v_,this._onChange&&this._onChange()}}validate(s){return this._validator(s)}registerOnValidatorChange(s){this._onChange=s}enabled(s){return s!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=$e({type:e,features:[Mt]});let t=e;return t})();var bV={provide:jf,useExisting:qn(()=>Ms),multi:!0};var Ms=(()=>{let e=class e extends wV{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=X1,this.createValidator=s=>JF}enabled(s){return s}};e.\u0275fac=(()=>{let s;return function(r){return(s||(s=Qn(e)))(r||e)}})(),e.\u0275dir=$e({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&c2("required",r._enabled?"":null)},inputs:{required:"required"},features:[Q0([bV]),K2]});let t=e;return t})();var zV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let t=e;return t})();var j_=(()=>{let e=class e{static withConfig(s){return{ngModule:e,providers:[{provide:Hf,useValue:s.callSetDisabledState??$f}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({imports:[zV]});let t=e;return t})();function EV(t,e){t&1&&(L(0,"div",20),A(1," Upload finished "),w())}function SV(t,e){t&1&&(L(0,"h3",21),A(1," Your Image "),w())}function DV(t,e){if(t&1&&Y(0,"img",22),t&2){let n=Qe();F("src",n.picture,b2)}}var B_=(()=>{let e=class e{constructor(s,i,r,o,c){this.db=s,this.storage=i,this.toastr=r,this.router=o,this.auth=c,this.picture=null,this.user=null,this.uploadPercent=null,c.getUser().subscribe(a=>{a&&this.db.object(`/users/${a.uid}`).valueChanges().subscribe(l=>{this.user=l||null})})}ngOnInit(){}onSubmit(){if(this.user)if(console.log("User before submission:",this.user),this.user.name&&this.user.instaUsername){let s=s7();this.db.object(`/posts/${s}`).set({id:s,locationName:this.locationName||"",description:this.description||"",picture:this.picture,by:this.user.name,instaId:this.user.instaUsername,date:Date.now()}).then(()=>{this.toastr.success("Post added successfully"),this.router.navigate(["/"])}).catch(i=>{this.toastr.error("Something went wrong"),console.error("Error adding post:",i)})}else this.toastr.error("User information is incomplete"),console.error("User information is incomplete:",this.user);else this.toastr.error("User not found"),console.error("User object is null")}uploadFile(s){return xe(this,null,function*(){let i=s.target.files[0],r=yield(0,U_.readAndCompressImage)(i,fc),o=i.name,c=this.storage.ref(o),a=this.storage.upload(o,r);a.percentageChanges().subscribe(l=>{this.uploadPercent=l}),a.snapshotChanges().pipe(O2(()=>{c.getDownloadURL().subscribe(l=>{this.picture=l,this.toastr.success("Image Upload Success")})})).subscribe()})}};e.\u0275fac=function(i){return new(i||e)(S(A1),S(dr),S(d2),S(Xe),S(h2))},e.\u0275cmp=ve({type:e,selectors:[["app-addpost"]],decls:31,vars:14,consts:[[1,"main","row","mt-5","mb-3"],[1,"col","col-6"],[1,"card","border-primary"],[1,"card-header","bg-secondary","text-large","text-white","text-center"],[1,"card-body",3,"ngSubmit"],[1,"form-group"],["for","locationName"],["type","text","id","locationName","name","locationName","placeholder","Enter Name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","description"],["type","text","rows","5","id","description","name","description","required","","placeholder","some description",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center","mb-4","mt-2"],["for","imagepicker",1,""],["type","file","name","image","id","imagepicker","accept","image/*","multiple","{false}",1,"form-control-file",3,"change"],[1,"text-info","text-center",3,"hidden"],["class","text-success text-uppercase text-center",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"col","col-md-6","mt-5"],["class","text-success text-center mt-5 text-uppercase",4,"ngIf"],["alt","","class","img-fluid",3,"src",4,"ngIf"],[1,"text-success","text-uppercase","text-center"],[1,"text-success","text-center","mt-5","text-uppercase"],["alt","",1,"img-fluid",3,"src"]],template:function(i,r){i&1&&(L(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),A(4),Xn(5,"uppercase"),w(),L(6,"form",4),Ee("ngSubmit",function(){return r.onSubmit()}),L(7,"div",5)(8,"label",6),A(9,"Location Name"),w(),L(10,"input",7),zo("ngModelChange",function(c){return B8(r.locationName,c)||(r.locationName=c),c}),w()(),L(11,"div",5)(12,"label",8),A(13,"Description"),w(),L(14,"textarea",9),zo("ngModelChange",function(c){return B8(r.description,c)||(r.description=c),c}),w()(),L(15,"div",10)(16,"label",11),A(17," Add your awesome photo "),w(),L(18,"input",12),Ee("change",function(c){return r.uploadFile(c)}),w(),L(19,"div",13),A(20),Xn(21,"number"),Y(22,"br"),A(23," Please wait a little... "),w(),tt(24,EV,2,0,"div",14),w(),L(25,"div",15)(26,"button",16),A(27," Submit Post "),w()()()()(),L(28,"div",17),tt(29,SV,2,0,"h3",18)(30,DV,1,1,"img",19),w()()),i&2&&(T(4),Se(" ",Eo(5,9,"Add Your awesome Post")," "),T(6),bo("ngModel",r.locationName),T(4),bo("ngModel",r.description),T(5),F("hidden",!r.uploadPercent||r.uploadPercent==100),T(),Se("uploading ",So(21,11,r.uploadPercent,"1.0-0")," % of 100% "),T(4),F("ngIf",r.uploadPercent==100),T(2),F("disabled",!r.picture),T(3),F("ngIf",r.picture),T(),F("ngIf",r.picture))},dependencies:[z2,u0,Cn,a0,l0,Ms,vs,Cs,Oo,Fo]});let t=e;return t})();var H_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["app-pagenotfound"]],decls:2,vars:0,template:function(i,r){i&1&&(L(0,"p"),A(1,"pagenotfound works!"),w())}});let t=e;return t})();var $_={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]};var W_={prefix:"fas",iconName:"thumbs-down",icon:[512,512,[128078,61576],"f165","M313.4 479.1c26-5.2 42.9-30.5 37.7-56.5l-2.3-11.4c-5.3-26.7-15.1-52.1-28.8-75.2l144 0c26.5 0 48-21.5 48-48c0-18.5-10.5-34.6-25.9-42.6C497 236.6 504 223.1 504 208c0-23.4-16.8-42.9-38.9-47.1c4.4-7.3 6.9-15.8 6.9-24.9c0-21.3-13.9-39.4-33.1-45.6c.7-3.3 1.1-6.8 1.1-10.4c0-26.5-21.5-48-48-48l-97.5 0c-19 0-37.5 5.6-53.3 16.1L202.7 73.8C176 91.6 160 121.6 160 153.7l0 38.3 0 48 0 24.9c0 29.2 13.3 56.7 36 75l7.4 5.9c26.5 21.2 44.6 51 51.2 84.2l2.3 11.4c5.2 26 30.5 42.9 56.5 37.7zM32 384l64 0c17.7 0 32-14.3 32-32l0-224c0-17.7-14.3-32-32-32L32 96C14.3 96 0 110.3 0 128L0 352c0 17.7 14.3 32 32 32z"]};var xV={prefix:"fas",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M352 224l-46.5 0c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8l-2.5 0c-2.4 0-4.8-.4-7.1-1.4C210.8 374.8 128 333.4 128 240c0-79.5 64.5-144 144-144l80 0 0-61.3C352 15.5 367.5 0 386.7 0c8.6 0 16.8 3.2 23.2 8.9L548.1 133.3c7.6 6.8 11.9 16.5 11.9 26.7s-4.3 19.9-11.9 26.7l-139 125.1c-5.9 5.3-13.5 8.2-21.4 8.2l-3.7 0c-17.7 0-32-14.3-32-32l0-64zM80 96c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-48c0-17.7 14.3-32 32-32s32 14.3 32 32l0 48c0 44.2-35.8 80-80 80L80 512c-44.2 0-80-35.8-80-80L0 112C0 67.8 35.8 32 80 32l48 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 96z"]},q_=xV;var G_={prefix:"fas",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2l144 0c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48l-97.5 0c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3l0-38.3 0-48 0-24.9c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192l64 0c17.7 0 32 14.3 32 32l0 224c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32L0 224c0-17.7 14.3-32 32-32z"]};var K_=()=>{},d9={},CL={},vL=null,ML={mark:K_,measure:K_};try{typeof window<"u"&&(d9=window),typeof document<"u"&&(CL=document),typeof MutationObserver<"u"&&(vL=MutationObserver),typeof performance<"u"&&(ML=performance)}catch{}var{userAgent:Q_=""}=d9.navigator||{},_n=d9,De=CL,Y_=vL,x6=ML,Lte=!!_n.document,P1=!!De.documentElement&&!!De.head&&typeof De.addEventListener=="function"&&typeof De.createElement=="function",_L=~Q_.indexOf("MSIE")||~Q_.indexOf("Trident/"),ke="classic",LL="duotone",Yt="sharp",Zt="sharp-duotone",NV=[ke,LL,Yt,Zt],IV={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},Z_={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},TV=["kit"],AV=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,kV=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,RV={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},PV={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},OV={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},FV={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},VV={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},jV={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},wL={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},UV=["solid","regular","light","thin","duotone","brands"],bL=[1,2,3,4,5,6,7,8,9,10],BV=bL.concat([11,12,13,14,15,16,17,18,19,20]),vr={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},HV=[...Object.keys(FV),...UV,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",vr.GROUP,vr.SWAP_OPACITY,vr.PRIMARY,vr.SECONDARY].concat(bL.map(t=>"".concat(t,"x"))).concat(BV.map(t=>"w-".concat(t))),$V={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},WV={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},qV={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},X_={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},k1="___FONT_AWESOME___",Zf=16,zL="fa",EL="svg-inline--fa",bs="data-fa-i2svg",Xf="data-fa-pseudo-element",GV="data-fa-pseudo-element-pending",h9="data-prefix",p9="data-icon",J_="fontawesome-i2svg",KV="async",QV=["HTML","HEAD","STYLE","SCRIPT"],SL=(()=>{try{return!0}catch{return!1}})(),DL=[ke,Yt,Zt];function zr(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[ke]}})}var xL=g({},wL);xL[ke]=g(g(g({},wL[ke]),Z_.kit),Z_["kit-duotone"]);var Ls=zr(xL),Jf=g({},jV);Jf[ke]=g(g(g({},Jf[ke]),X_.kit),X_["kit-duotone"]);var wr=zr(Jf),e9=g({},VV);e9[ke]=g(g({},e9[ke]),qV.kit);var ws=zr(e9),t9=g({},OV);t9[ke]=g(g({},t9[ke]),WV.kit);var YV=zr(t9),ZV=AV,NL="fa-layers-text",XV=kV,JV=g({},IV),wte=zr(JV),ej=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],qf=vr,h0=new Set;Object.keys(wr[ke]).map(h0.add.bind(h0));Object.keys(wr[Yt]).map(h0.add.bind(h0));Object.keys(wr[Zt]).map(h0.add.bind(h0));var tj=[...TV,...HV],_r=_n.FontAwesomeConfig||{};function nj(t){var e=De.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function sj(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}De&&typeof De.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,s]=e,i=sj(nj(n));i!=null&&(_r[s]=i)});var IL={styleDefault:"solid",familyDefault:"classic",cssPrefix:zL,replacementClass:EL,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};_r.familyPrefix&&(_r.cssPrefix=_r.familyPrefix);var p0=g(g({},IL),_r);p0.autoReplaceSvg||(p0.observeMutations=!1);var k={};Object.keys(IL).forEach(t=>{Object.defineProperty(k,t,{enumerable:!0,set:function(e){p0[t]=e,Lr.forEach(n=>n(k))},get:function(){return p0[t]}})});Object.defineProperty(k,"familyPrefix",{enumerable:!0,set:function(t){p0.cssPrefix=t,Lr.forEach(e=>e(k))},get:function(){return p0.cssPrefix}});_n.FontAwesomeConfig=k;var Lr=[];function ij(t){return Lr.push(t),()=>{Lr.splice(Lr.indexOf(t),1)}}var vn=Zf,l1={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function rj(t){if(!t||!P1)return;let e=De.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;let n=De.head.childNodes,s=null;for(let i=n.length-1;i>-1;i--){let r=n[i],o=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(s=r)}return De.head.insertBefore(e,s),t}var oj="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function br(){let t=12,e="";for(;t-- >0;)e+=oj[Math.random()*62|0];return e}function m0(t){let e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function m9(t){return t.classList?m0(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function TL(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function cj(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(TL(t[n]),'" '),"").trim()}function k6(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function g9(t){return t.size!==l1.size||t.x!==l1.x||t.y!==l1.y||t.rotate!==l1.rotate||t.flipX||t.flipY}function aj(t){let{transform:e,containerWidth:n,iconWidth:s}=t,i={transform:"translate(".concat(n/2," 256)")},r="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),a={transform:"".concat(r," ").concat(o," ").concat(c)},l={transform:"translate(".concat(s/2*-1," -256)")};return{outer:i,inner:a,path:l}}function lj(t){let{transform:e,width:n=Zf,height:s=Zf,startCentered:i=!1}=t,r="";return i&&_L?r+="translate(".concat(e.x/vn-n/2,"em, ").concat(e.y/vn-s/2,"em) "):i?r+="translate(calc(-50% + ".concat(e.x/vn,"em), calc(-50% + ").concat(e.y/vn,"em)) "):r+="translate(".concat(e.x/vn,"em, ").concat(e.y/vn,"em) "),r+="scale(".concat(e.size/vn*(e.flipX?-1:1),", ").concat(e.size/vn*(e.flipY?-1:1),") "),r+="rotate(".concat(e.rotate,"deg) "),r}var uj=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function AL(){let t=zL,e=EL,n=k.cssPrefix,s=k.replacementClass,i=uj;if(n!==t||s!==e){let r=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");i=i.replace(r,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(c,".".concat(s))}return i}var eL=!1;function Gf(){k.autoAddCss&&!eL&&(rj(AL()),eL=!0)}var fj={mixout(){return{dom:{css:AL,insertCss:Gf}}},hooks(){return{beforeDOMElementCreation(){Gf()},beforeI2svg(){Gf()}}}},R1=_n||{};R1[k1]||(R1[k1]={});R1[k1].styles||(R1[k1].styles={});R1[k1].hooks||(R1[k1].hooks={});R1[k1].shims||(R1[k1].shims=[]);var u1=R1[k1],kL=[],RL=function(){De.removeEventListener("DOMContentLoaded",RL),T6=1,kL.map(t=>t())},T6=!1;P1&&(T6=(De.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(De.readyState),T6||De.addEventListener("DOMContentLoaded",RL));function dj(t){P1&&(T6?setTimeout(t,0):kL.push(t))}function Er(t){let{tag:e,attributes:n={},children:s=[]}=t;return typeof t=="string"?TL(t):"<".concat(e," ").concat(cj(n),">").concat(s.map(Er).join(""),"</").concat(e,">")}function tL(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var hj=function(e,n){return function(s,i,r,o){return e.call(n,s,i,r,o)}},Kf=function(e,n,s,i){var r=Object.keys(e),o=r.length,c=i!==void 0?hj(n,i):n,a,l,u;for(s===void 0?(a=1,u=e[r[0]]):(a=0,u=s);a<o;a++)l=r[a],u=c(u,e[l],l,e);return u};function pj(t){let e=[],n=0,s=t.length;for(;n<s;){let i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<s){let r=t.charCodeAt(n++);(r&64512)==56320?e.push(((i&1023)<<10)+(r&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function n9(t){let e=pj(t);return e.length===1?e[0].toString(16):null}function mj(t,e){let n=t.length,s=t.charCodeAt(e),i;return s>=55296&&s<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(s-55296)*1024+i-56320+65536:s}function nL(t){return Object.keys(t).reduce((e,n)=>{let s=t[n];return!!s.icon?e[s.iconName]=s.icon:e[n]=s,e},{})}function s9(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:s=!1}=n,i=nL(e);typeof u1.hooks.addPack=="function"&&!s?u1.hooks.addPack(t,nL(e)):u1.styles[t]=g(g({},u1.styles[t]||{}),i),t==="fas"&&s9("fa",e)}var{styles:_s,shims:gj}=u1,yj={[ke]:Object.values(ws[ke]),[Yt]:Object.values(ws[Yt]),[Zt]:Object.values(ws[Zt])},y9=null,PL={},OL={},FL={},VL={},jL={},Cj={[ke]:Object.keys(Ls[ke]),[Yt]:Object.keys(Ls[Yt]),[Zt]:Object.keys(Ls[Zt])};function vj(t){return~tj.indexOf(t)}function Mj(t,e){let n=e.split("-"),s=n[0],i=n.slice(1).join("-");return s===t&&i!==""&&!vj(i)?i:null}var UL=()=>{let t=s=>Kf(_s,(i,r,o)=>(i[o]=Kf(r,s,{}),i),{});PL=t((s,i,r)=>(i[3]&&(s[i[3]]=r),i[2]&&i[2].filter(c=>typeof c=="number").forEach(c=>{s[c.toString(16)]=r}),s)),OL=t((s,i,r)=>(s[r]=r,i[2]&&i[2].filter(c=>typeof c=="string").forEach(c=>{s[c]=r}),s)),jL=t((s,i,r)=>{let o=i[2];return s[r]=r,o.forEach(c=>{s[c]=r}),s});let e="far"in _s||k.autoFetchSvg,n=Kf(gj,(s,i)=>{let r=i[0],o=i[1],c=i[2];return o==="far"&&!e&&(o="fas"),typeof r=="string"&&(s.names[r]={prefix:o,iconName:c}),typeof r=="number"&&(s.unicodes[r.toString(16)]={prefix:o,iconName:c}),s},{names:{},unicodes:{}});FL=n.names,VL=n.unicodes,y9=R6(k.styleDefault,{family:k.familyDefault})};ij(t=>{y9=R6(t.styleDefault,{family:k.familyDefault})});UL();function C9(t,e){return(PL[t]||{})[e]}function _j(t,e){return(OL[t]||{})[e]}function Mn(t,e){return(jL[t]||{})[e]}function BL(t){return FL[t]||{prefix:null,iconName:null}}function Lj(t){let e=VL[t],n=C9("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Ln(){return y9}var v9=()=>({prefix:null,iconName:null,rest:[]});function R6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:n=ke}=e,s=Ls[n][t],i=wr[n][t]||wr[n][s],r=t in u1.styles?t:null;return i||r||null}var wj={[ke]:Object.keys(ws[ke]),[Yt]:Object.keys(ws[Yt]),[Zt]:Object.keys(ws[Zt])};function P6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:n=!1}=e,s={[ke]:"".concat(k.cssPrefix,"-").concat(ke),[Yt]:"".concat(k.cssPrefix,"-").concat(Yt),[Zt]:"".concat(k.cssPrefix,"-").concat(Zt)},i=null,r=ke,o=NV.filter(a=>a!==LL);o.forEach(a=>{(t.includes(s[a])||t.some(l=>wj[a].includes(l)))&&(r=a)});let c=t.reduce((a,l)=>{let u=Mj(k.cssPrefix,l);if(_s[l]?(l=yj[r].includes(l)?YV[r][l]:l,i=l,a.prefix=l):Cj[r].indexOf(l)>-1?(i=l,a.prefix=R6(l,{family:r})):u?a.iconName=u:l!==k.replacementClass&&!o.some(f=>l===s[f])&&a.rest.push(l),!n&&a.prefix&&a.iconName){let f=i==="fa"?BL(a.iconName):{},d=Mn(a.prefix,a.iconName);f.prefix&&(i=null),a.iconName=f.iconName||d||a.iconName,a.prefix=f.prefix||a.prefix,a.prefix==="far"&&!_s.far&&_s.fas&&!k.autoFetchSvg&&(a.prefix="fas")}return a},v9());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&r===Yt&&(_s.fass||k.autoFetchSvg)&&(c.prefix="fass",c.iconName=Mn(c.prefix,c.iconName)||c.iconName),!c.prefix&&r===Zt&&(_s.fasds||k.autoFetchSvg)&&(c.prefix="fasds",c.iconName=Mn(c.prefix,c.iconName)||c.iconName),(c.prefix==="fa"||i==="fa")&&(c.prefix=Ln()||"fas"),c}var i9=class{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];let i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(r=>{this.definitions[r]=g(g({},this.definitions[r]||{}),i[r]),s9(r,i[r]);let o=ws[ke][r];o&&s9(o,i[r]),UL()})}reset(){this.definitions={}}_pullDefinitions(e,n){let s=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(s).map(i=>{let{prefix:r,iconName:o,icon:c}=s[i],a=c[2];e[r]||(e[r]={}),a.length>0&&a.forEach(l=>{typeof l=="string"&&(e[r][l]=c)}),e[r][o]=c}),e}},sL=[],f0={},d0={},bj=Object.keys(d0);function zj(t,e){let{mixoutsTo:n}=e;return sL=t,f0={},Object.keys(d0).forEach(s=>{bj.indexOf(s)===-1&&delete d0[s]}),sL.forEach(s=>{let i=s.mixout?s.mixout():{};if(Object.keys(i).forEach(r=>{typeof i[r]=="function"&&(n[r]=i[r]),typeof i[r]=="object"&&Object.keys(i[r]).forEach(o=>{n[r]||(n[r]={}),n[r][o]=i[r][o]})}),s.hooks){let r=s.hooks();Object.keys(r).forEach(o=>{f0[o]||(f0[o]=[]),f0[o].push(r[o])})}s.provides&&s.provides(d0)}),n}function r9(t,e){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];return(f0[t]||[]).forEach(o=>{e=o.apply(null,[e,...s])}),e}function zs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];(f0[t]||[]).forEach(r=>{r.apply(null,n)})}function wn(){let t=arguments[0],e=Array.prototype.slice.call(arguments,1);return d0[t]?d0[t].apply(null,e):void 0}function o9(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t,n=t.prefix||Ln();if(e)return e=Mn(n,e)||e,tL(HL.definitions,n,e)||tL(u1.styles,n,e)}var HL=new i9,Ej=()=>{k.autoReplaceSvg=!1,k.observeMutations=!1,zs("noAuto")},Sj={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return P1?(zs("beforeI2svg",t),wn("pseudoElements2svg",t),wn("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e}=t;k.autoReplaceSvg===!1&&(k.autoReplaceSvg=!0),k.observeMutations=!0,dj(()=>{xj({autoReplaceSvgRoot:e}),zs("watch",t)})}},Dj={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Mn(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){let e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=R6(t[0]);return{prefix:n,iconName:Mn(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(k.cssPrefix,"-"))>-1||t.match(ZV))){let e=P6(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||Ln(),iconName:Mn(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){let e=Ln();return{prefix:e,iconName:Mn(e,t)||t}}}},Xt={noAuto:Ej,config:k,dom:Sj,parse:Dj,library:HL,findIconDefinition:o9,toHtml:Er},xj=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e=De}=t;(Object.keys(u1.styles).length>0||k.autoFetchSvg)&&P1&&k.autoReplaceSvg&&Xt.dom.i2svg({node:e})};function O6(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>Er(n))}}),Object.defineProperty(t,"node",{get:function(){if(!P1)return;let n=De.createElement("div");return n.innerHTML=t.html,n.children}}),t}function Nj(t){let{children:e,main:n,mask:s,attributes:i,styles:r,transform:o}=t;if(g9(o)&&n.found&&!s.found){let{width:c,height:a}=n,l={x:c/a/2,y:.5};i.style=k6(O(g({},r),{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function Ij(t){let{prefix:e,iconName:n,children:s,attributes:i,symbol:r}=t,o=r===!0?"".concat(e,"-").concat(k.cssPrefix,"-").concat(n):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:O(g({},i),{id:o}),children:s}]}]}function M9(t){let{icons:{main:e,mask:n},prefix:s,iconName:i,transform:r,symbol:o,title:c,maskId:a,titleId:l,extra:u,watchable:f=!1}=t,{width:d,height:h}=n.found?n:e,p=s==="fak",m=[k.replacementClass,i?"".concat(k.cssPrefix,"-").concat(i):""].filter(j=>u.classes.indexOf(j)===-1).filter(j=>j!==""||!!j).concat(u.classes).join(" "),y={children:[],attributes:O(g({},u.attributes),{"data-prefix":s,"data-icon":i,class:m,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(d," ").concat(h)})},M=p&&!~u.classes.indexOf("fa-fw")?{width:"".concat(d/h*16*.0625,"em")}:{};f&&(y.attributes[bs]=""),c&&(y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(l||br())},children:[c]}),delete y.attributes.title);let z=O(g({},y),{prefix:s,iconName:i,main:e,mask:n,maskId:a,transform:r,symbol:o,styles:g(g({},M),u.styles)}),{children:v,attributes:D}=n.found&&e.found?wn("generateAbstractMask",z)||{children:[],attributes:{}}:wn("generateAbstractIcon",z)||{children:[],attributes:{}};return z.children=v,z.attributes=D,o?Ij(z):Nj(z)}function iL(t){let{content:e,width:n,height:s,transform:i,title:r,extra:o,watchable:c=!1}=t,a=O(g(g({},o.attributes),r?{title:r}:{}),{class:o.classes.join(" ")});c&&(a[bs]="");let l=g({},o.styles);g9(i)&&(l.transform=lj({transform:i,startCentered:!0,width:n,height:s}),l["-webkit-transform"]=l.transform);let u=k6(l);u.length>0&&(a.style=u);let f=[];return f.push({tag:"span",attributes:a,children:[e]}),r&&f.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),f}function Tj(t){let{content:e,title:n,extra:s}=t,i=O(g(g({},s.attributes),n?{title:n}:{}),{class:s.classes.join(" ")}),r=k6(s.styles);r.length>0&&(i.style=r);let o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var{styles:Qf}=u1;function c9(t){let e=t[0],n=t[1],[s]=t.slice(4),i=null;return Array.isArray(s)?i={tag:"g",attributes:{class:"".concat(k.cssPrefix,"-").concat(qf.GROUP)},children:[{tag:"path",attributes:{class:"".concat(k.cssPrefix,"-").concat(qf.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(k.cssPrefix,"-").concat(qf.PRIMARY),fill:"currentColor",d:s[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:i}}var Aj={found:!1,width:512,height:512};function kj(t,e){!SL&&!k.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function a9(t,e){let n=e;return e==="fa"&&k.styleDefault!==null&&(e=Ln()),new Promise((s,i)=>{if(n==="fa"){let r=BL(t)||{};t=r.iconName||t,e=r.prefix||e}if(t&&e&&Qf[e]&&Qf[e][t]){let r=Qf[e][t];return s(c9(r))}kj(t,e),s(O(g({},Aj),{icon:k.showMissingIcons&&t?wn("missingIconAbstract")||{}:{}}))})}var rL=()=>{},l9=k.measurePerformance&&x6&&x6.mark&&x6.measure?x6:{mark:rL,measure:rL},Mr='FA "6.6.0"',Rj=t=>(l9.mark("".concat(Mr," ").concat(t," begins")),()=>$L(t)),$L=t=>{l9.mark("".concat(Mr," ").concat(t," ends")),l9.measure("".concat(Mr," ").concat(t),"".concat(Mr," ").concat(t," begins"),"".concat(Mr," ").concat(t," ends"))},_9={begin:Rj,end:$L},N6=()=>{};function oL(t){return typeof(t.getAttribute?t.getAttribute(bs):null)=="string"}function Pj(t){let e=t.getAttribute?t.getAttribute(h9):null,n=t.getAttribute?t.getAttribute(p9):null;return e&&n}function Oj(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(k.replacementClass)}function Fj(){return k.autoReplaceSvg===!0?I6.replace:I6[k.autoReplaceSvg]||I6.replace}function Vj(t){return De.createElementNS("http://www.w3.org/2000/svg",t)}function jj(t){return De.createElement(t)}function WL(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:n=t.tag==="svg"?Vj:jj}=e;if(typeof t=="string")return De.createTextNode(t);let s=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(r){s.setAttribute(r,t.attributes[r])}),(t.children||[]).forEach(function(r){s.appendChild(WL(r,{ceFn:n}))}),s}function Uj(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var I6={replace:function(t){let e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(WL(n),e)}),e.getAttribute(bs)===null&&k.keepOriginalSource){let n=De.createComment(Uj(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){let e=t[0],n=t[1];if(~m9(e).indexOf(k.replacementClass))return I6.replace(t);let s=new RegExp("".concat(k.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){let r=n[0].attributes.class.split(" ").reduce((o,c)=>(c===k.replacementClass||c.match(s)?o.toSvg.push(c):o.toNode.push(c),o),{toNode:[],toSvg:[]});n[0].attributes.class=r.toSvg.join(" "),r.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",r.toNode.join(" "))}let i=n.map(r=>Er(r)).join(`
`);e.setAttribute(bs,""),e.innerHTML=i}};function cL(t){t()}function qL(t,e){let n=typeof e=="function"?e:N6;if(t.length===0)n();else{let s=cL;k.mutateApproach===KV&&(s=_n.requestAnimationFrame||cL),s(()=>{let i=Fj(),r=_9.begin("mutate");t.map(i),r(),n()})}}var L9=!1;function GL(){L9=!0}function u9(){L9=!1}var A6=null;function aL(t){if(!Y_||!k.observeMutations)return;let{treeCallback:e=N6,nodeCallback:n=N6,pseudoElementsCallback:s=N6,observeMutationsRoot:i=De}=t;A6=new Y_(r=>{if(L9)return;let o=Ln();m0(r).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!oL(c.addedNodes[0])&&(k.searchPseudoElements&&s(c.target),e(c.target)),c.type==="attributes"&&c.target.parentNode&&k.searchPseudoElements&&s(c.target.parentNode),c.type==="attributes"&&oL(c.target)&&~ej.indexOf(c.attributeName))if(c.attributeName==="class"&&Pj(c.target)){let{prefix:a,iconName:l}=P6(m9(c.target));c.target.setAttribute(h9,a||o),l&&c.target.setAttribute(p9,l)}else Oj(c.target)&&n(c.target)})}),P1&&A6.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Bj(){A6&&A6.disconnect()}function Hj(t){let e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce((s,i)=>{let r=i.split(":"),o=r[0],c=r.slice(1);return o&&c.length>0&&(s[o]=c.join(":").trim()),s},{})),n}function $j(t){let e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),s=t.innerText!==void 0?t.innerText.trim():"",i=P6(m9(t));return i.prefix||(i.prefix=Ln()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&s.length>0&&(i.iconName=_j(i.prefix,t.innerText)||C9(i.prefix,n9(t.innerText))),!i.iconName&&k.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function Wj(t){let e=m0(t.attributes).reduce((i,r)=>(i.name!=="class"&&i.name!=="style"&&(i[r.name]=r.value),i),{}),n=t.getAttribute("title"),s=t.getAttribute("data-fa-title-id");return k.autoA11y&&(n?e["aria-labelledby"]="".concat(k.replacementClass,"-title-").concat(s||br()):(e["aria-hidden"]="true",e.focusable="false")),e}function qj(){return{iconName:null,title:null,titleId:null,prefix:null,transform:l1,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function lL(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:n,prefix:s,rest:i}=$j(t),r=Wj(t),o=r9("parseNodeAttributes",{},t),c=e.styleParser?Hj(t):[];return g({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:s,transform:l1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:c,attributes:r}},o)}var{styles:Gj}=u1;function KL(t){let e=k.autoReplaceSvg==="nest"?lL(t,{styleParser:!1}):lL(t);return~e.extra.classes.indexOf(NL)?wn("generateLayersText",t,e):wn("generateSvgReplacementMutation",t,e)}var f1=new Set;DL.map(t=>{f1.add("fa-".concat(t))});Object.keys(Ls[ke]).map(f1.add.bind(f1));Object.keys(Ls[Yt]).map(f1.add.bind(f1));Object.keys(Ls[Zt]).map(f1.add.bind(f1));f1=[...f1];function uL(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!P1)return Promise.resolve();let n=De.documentElement.classList,s=u=>n.add("".concat(J_,"-").concat(u)),i=u=>n.remove("".concat(J_,"-").concat(u)),r=k.autoFetchSvg?f1:DL.map(u=>"fa-".concat(u)).concat(Object.keys(Gj));r.includes("fa")||r.push("fa");let o=[".".concat(NL,":not([").concat(bs,"])")].concat(r.map(u=>".".concat(u,":not([").concat(bs,"])"))).join(", ");if(o.length===0)return Promise.resolve();let c=[];try{c=m0(t.querySelectorAll(o))}catch{}if(c.length>0)s("pending"),i("complete");else return Promise.resolve();let a=_9.begin("onTree"),l=c.reduce((u,f)=>{try{let d=KL(f);d&&u.push(d)}catch(d){SL||d.name==="MissingIcon"&&console.error(d)}return u},[]);return new Promise((u,f)=>{Promise.all(l).then(d=>{qL(d,()=>{s("active"),s("complete"),i("pending"),typeof e=="function"&&e(),a(),u()})}).catch(d=>{a(),f(d)})})}function Kj(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;KL(t).then(n=>{n&&qL([n],e)})}function Qj(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=(e||{}).icon?e:o9(e||{}),{mask:i}=n;return i&&(i=(i||{}).icon?i:o9(i||{})),t(s,O(g({},n),{mask:i}))}}var Yj=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=l1,symbol:s=!1,mask:i=null,maskId:r=null,title:o=null,titleId:c=null,classes:a=[],attributes:l={},styles:u={}}=e;if(!t)return;let{prefix:f,iconName:d,icon:h}=t;return O6(g({type:"icon"},t),()=>(zs("beforeDOMElementCreation",{iconDefinition:t,params:e}),k.autoA11y&&(o?l["aria-labelledby"]="".concat(k.replacementClass,"-title-").concat(c||br()):(l["aria-hidden"]="true",l.focusable="false")),M9({icons:{main:c9(h),mask:i?c9(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:d,transform:g(g({},l1),n),symbol:s,title:o,maskId:r,titleId:c,extra:{attributes:l,styles:u,classes:a}})))},Zj={mixout(){return{icon:Qj(Yj)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=uL,t.nodeCallback=Kj,t}}},provides(t){t.i2svg=function(e){let{node:n=De,callback:s=()=>{}}=e;return uL(n,s)},t.generateSvgReplacementMutation=function(e,n){let{iconName:s,title:i,titleId:r,prefix:o,transform:c,symbol:a,mask:l,maskId:u,extra:f}=n;return new Promise((d,h)=>{Promise.all([a9(s,o),l.iconName?a9(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(p=>{let[m,y]=p;d([e,M9({icons:{main:m,mask:y},prefix:o,iconName:s,transform:c,symbol:a,maskId:u,title:i,titleId:r,extra:f,watchable:!0})])}).catch(h)})},t.generateAbstractIcon=function(e){let{children:n,attributes:s,main:i,transform:r,styles:o}=e,c=k6(o);c.length>0&&(s.style=c);let a;return g9(r)&&(a=wn("generateAbstractTransformGrouping",{main:i,transform:r,containerWidth:i.width,iconWidth:i.width})),n.push(a||i.icon),{children:n,attributes:s}}}},Xj={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:n=[]}=e;return O6({type:"layer"},()=>{zs("beforeDOMElementCreation",{assembler:t,params:e});let s=[];return t(i=>{Array.isArray(i)?i.map(r=>{s=s.concat(r.abstract)}):s=s.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(k.cssPrefix,"-layers"),...n].join(" ")},children:s}]})}}}},Jj={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:n=null,classes:s=[],attributes:i={},styles:r={}}=e;return O6({type:"counter",content:t},()=>(zs("beforeDOMElementCreation",{content:t,params:e}),Tj({content:t.toString(),title:n,extra:{attributes:i,styles:r,classes:["".concat(k.cssPrefix,"-layers-counter"),...s]}})))}}}},eU={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=l1,title:s=null,classes:i=[],attributes:r={},styles:o={}}=e;return O6({type:"text",content:t},()=>(zs("beforeDOMElementCreation",{content:t,params:e}),iL({content:t,transform:g(g({},l1),n),title:s,extra:{attributes:r,styles:o,classes:["".concat(k.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){let{title:s,transform:i,extra:r}=n,o=null,c=null;if(_L){let a=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();o=l.width/a,c=l.height/a}return k.autoA11y&&!s&&(r.attributes["aria-hidden"]="true"),Promise.resolve([e,iL({content:e.innerHTML,width:o,height:c,transform:i,title:s,extra:r,watchable:!0})])}}},tU=new RegExp('"',"ug"),fL=[1105920,1112319],dL=g(g(g({FontAwesome:{normal:"fas",400:"fas"}},PV),RV),$V),f9=Object.keys(dL).reduce((t,e)=>(t[e.toLowerCase()]=dL[e],t),{}),nU=Object.keys(f9).reduce((t,e)=>{let n=f9[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function sU(t){let e=t.replace(tU,""),n=mj(e,0),s=n>=fL[0]&&n<=fL[1],i=e.length===2?e[0]===e[1]:!1;return{value:n9(i?e[0]:e),isSecondary:s||i}}function iU(t,e){let n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),s=parseInt(e),i=isNaN(s)?"normal":s;return(f9[n]||{})[i]||nU[n]}function hL(t,e){let n="".concat(GV).concat(e.replace(":","-"));return new Promise((s,i)=>{if(t.getAttribute(n)!==null)return s();let o=m0(t.children).filter(d=>d.getAttribute(Xf)===e)[0],c=_n.getComputedStyle(t,e),a=c.getPropertyValue("font-family"),l=a.match(XV),u=c.getPropertyValue("font-weight"),f=c.getPropertyValue("content");if(o&&!l)return t.removeChild(o),s();if(l&&f!=="none"&&f!==""){let d=c.getPropertyValue("content"),h=iU(a,u),{value:p,isSecondary:m}=sU(d),y=l[0].startsWith("FontAwesome"),M=C9(h,p),z=M;if(y){let v=Lj(p);v.iconName&&v.prefix&&(M=v.iconName,h=v.prefix)}if(M&&!m&&(!o||o.getAttribute(h9)!==h||o.getAttribute(p9)!==z)){t.setAttribute(n,z),o&&t.removeChild(o);let v=qj(),{extra:D}=v;D.attributes[Xf]=e,a9(M,h).then(j=>{let B=M9(O(g({},v),{icons:{main:j,mask:v9()},prefix:h,iconName:z,extra:D,watchable:!0})),ee=De.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(ee,t.firstChild):t.appendChild(ee),ee.outerHTML=B.map(ae=>Er(ae)).join(`
`),t.removeAttribute(n),s()}).catch(i)}else s()}else s()})}function rU(t){return Promise.all([hL(t,"::before"),hL(t,"::after")])}function oU(t){return t.parentNode!==document.head&&!~QV.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Xf)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function pL(t){if(P1)return new Promise((e,n)=>{let s=m0(t.querySelectorAll("*")).filter(oU).map(rU),i=_9.begin("searchPseudoElements");GL(),Promise.all(s).then(()=>{i(),u9(),e()}).catch(()=>{i(),u9(),n()})})}var cU={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=pL,t}}},provides(t){t.pseudoElements2svg=function(e){let{node:n=De}=e;k.searchPseudoElements&&pL(n)}}},mL=!1,aU={mixout(){return{dom:{unwatch(){GL(),mL=!0}}}},hooks(){return{bootstrap(){aL(r9("mutationObserverCallbacks",{}))},noAuto(){Bj()},watch(t){let{observeMutationsRoot:e}=t;mL?u9():aL(r9("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},gL=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,s)=>{let i=s.toLowerCase().split("-"),r=i[0],o=i.slice(1).join("-");if(r&&o==="h")return n.flipX=!0,n;if(r&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(r){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)},lU={mixout(){return{parse:{transform:t=>gL(t)}}},hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-transform");return n&&(t.transform=gL(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:s,containerWidth:i,iconWidth:r}=e,o={transform:"translate(".concat(i/2," 256)")},c="translate(".concat(s.x*32,", ").concat(s.y*32,") "),a="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),l="rotate(".concat(s.rotate," 0 0)"),u={transform:"".concat(c," ").concat(a," ").concat(l)},f={transform:"translate(".concat(r/2*-1," -256)")},d={outer:o,inner:u,path:f};return{tag:"g",attributes:g({},d.outer),children:[{tag:"g",attributes:g({},d.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:g(g({},n.icon.attributes),d.path)}]}]}}}},Yf={x:0,y:0,width:"100%",height:"100%"};function yL(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function uU(t){return t.tag==="g"?t.children:[t]}var fU={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-mask"),s=n?P6(n.split(" ").map(i=>i.trim())):v9();return s.prefix||(s.prefix=Ln()),t.mask=s,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:s,main:i,mask:r,maskId:o,transform:c}=e,{width:a,icon:l}=i,{width:u,icon:f}=r,d=aj({transform:c,containerWidth:u,iconWidth:a}),h={tag:"rect",attributes:O(g({},Yf),{fill:"white"})},p=l.children?{children:l.children.map(yL)}:{},m={tag:"g",attributes:g({},d.inner),children:[yL(g({tag:l.tag,attributes:g(g({},l.attributes),d.path)},p))]},y={tag:"g",attributes:g({},d.outer),children:[m]},M="mask-".concat(o||br()),z="clip-".concat(o||br()),v={tag:"mask",attributes:O(g({},Yf),{id:M,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,y]},D={tag:"defs",children:[{tag:"clipPath",attributes:{id:z},children:uU(f)},v]};return n.push(D,{tag:"rect",attributes:g({fill:"currentColor","clip-path":"url(#".concat(z,")"),mask:"url(#".concat(M,")")},Yf)}),{children:n,attributes:s}}}},dU={provides(t){let e=!1;_n.matchMedia&&(e=_n.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){let n=[],s={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:O(g({},s),{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let r=O(g({},i),{attributeName:"opacity"}),o={tag:"circle",attributes:O(g({},s),{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:O(g({},i),{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:O(g({},r),{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:O(g({},s),{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:O(g({},r),{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:O(g({},s),{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:O(g({},r),{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},hU={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-symbol"),s=n===null?!1:n===""?!0:n;return t.symbol=s,t}}}},pU=[fj,Zj,Xj,Jj,eU,cU,aU,lU,fU,dU,hU];zj(pU,{mixoutsTo:Xt});var bte=Xt.noAuto,QL=Xt.config,zte=Xt.library,YL=Xt.dom,ZL=Xt.parse,Ete=Xt.findIconDefinition,Ste=Xt.toHtml,XL=Xt.icon,Dte=Xt.layer,mU=Xt.text,gU=Xt.counter;var yU=["*"],CU=t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)},vU=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},MU=t=>{let e={[`fa-${t.animation}`]:t.animation!=null&&!t.animation.startsWith("spin"),"fa-spin":t.animation==="spin"||t.animation==="spin-reverse","fa-spin-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-spin-reverse":t.animation==="spin-reverse"||t.animation==="spin-pulse-reverse","fa-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both",[`fa-${t.size}`]:t.size!==null,[`fa-rotate-${t.rotate}`]:t.rotate!==null,[`fa-pull-${t.pull}`]:t.pull!==null,[`fa-stack-${t.stackItemSize}`]:t.stackItemSize!=null};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)},w9=new WeakSet,JL="fa-auto-css";function _U(t,e){if(!e.autoAddCss||w9.has(t))return;if(t.getElementById(JL)!=null){e.autoAddCss=!1,w9.add(t);return}let n=t.createElement("style");n.setAttribute("type","text/css"),n.setAttribute("id",JL),n.innerHTML=YL.css();let s=t.head.childNodes,i=null;for(let r=s.length-1;r>-1;r--){let o=s[r],c=o.nodeName.toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(i=o)}t.head.insertBefore(n,i),e.autoAddCss=!1,w9.add(t)}var LU=t=>t.prefix!==void 0&&t.iconName!==void 0,wU=(t,e)=>LU(t)?t:Array.isArray(t)&&t.length===2?{prefix:t[0],iconName:t[1]}:{prefix:e,iconName:t},bU=(()=>{let e=class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this._autoAddCss=!0}set autoAddCss(s){QL.autoAddCss=s,this._autoAddCss=s}get autoAddCss(){return this._autoAddCss}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zU=(()=>{let e=class e{constructor(){this.definitions={}}addIcons(...s){for(let i of s){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(let r of i.icon[2])typeof r=="string"&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...s){for(let i of s){let r=Object.keys(i).map(o=>i[o]);this.addIcons(...r)}}getIconDefinition(s,i){return s in this.definitions&&i in this.definitions[s]?this.definitions[s][i]:null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),EU=(()=>{let e=class e{constructor(){this.stackItemSize="1x"}ngOnChanges(s){if("size"in s)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=$e({type:e,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},standalone:!0,features:[Mt]});let t=e;return t})(),SU=(()=>{let e=class e{constructor(s,i){this.renderer=s,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(s){"size"in s&&(s.size.currentValue!=null&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${s.size.currentValue}`),s.size.previousValue!=null&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${s.size.previousValue}`))}};e.\u0275fac=function(i){return new(i||e)(S(G2),S(Lt))},e.\u0275cmp=ve({type:e,selectors:[["fa-stack"]],inputs:{size:"size"},standalone:!0,features:[Mt,Z1],ngContentSelectors:yU,decls:1,vars:0,template:function(i,r){i&1&&(ig(),rg(0))},encapsulation:2});let t=e;return t})(),ew=(()=>{let e=class e{constructor(s,i,r,o,c){this.sanitizer=s,this.config=i,this.iconLibrary=r,this.stackItem=o,this.document=E(Ve),c!=null&&o==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(s){if(this.icon==null&&this.config.fallbackIcon==null){vU();return}if(s){let i=this.findIconDefinition(this.icon??this.config.fallbackIcon);if(i!=null){let r=this.buildParams();_U(this.document,this.config);let o=XL(i,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(o.html.join(`
`))}}}render(){this.ngOnChanges({})}findIconDefinition(s){let i=wU(s,this.config.defaultPrefix);if("icon"in i)return i;let r=this.iconLibrary.getIconDefinition(i.prefix,i.iconName);return r??(CU(i),null)}buildParams(){let s={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:typeof this.fixedWidth=="boolean"?this.fixedWidth:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize:null},i=typeof this.transform=="string"?ZL.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:MU(s),mask:this.mask!=null?this.findIconDefinition(this.mask):null,symbol:this.symbol,attributes:{role:this.a11yRole}}}};e.\u0275fac=function(i){return new(i||e)(S(s3),S(bU),S(zU),S(EU,8),S(SU,8))},e.\u0275cmp=ve({type:e,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(i,r){i&2&&(F8("innerHTML",r.renderedIconHTML,W0),c2("title",r.title))},inputs:{icon:"icon",title:"title",animation:"animation",mask:"mask",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},standalone:!0,features:[Mt,Z1],decls:0,vars:0,template:function(i,r){},encapsulation:2});let t=e;return t})();var tw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let t=e;return t})();var nw=(()=>{let e=class e{constructor(s,i){this.db=s,this.auth=i,this.faHeart=$_,this.faThumbsUp=G_,this.faThumbsDown=W_,this.faShareSquare=q_,this.uid=null,this.upvote=0,this.downvote=0,this.likes=0,this.auth.getUser().subscribe(r=>{this.uid=r?.uid})}ngOnInit(){}ngOnChanges(){this.post.vote&&(Object.values(this.post.vote).map(s=>{s.upvote&&(this.upvote+=1),s.downvote&&(this.downvote+=1)}),Object.values(this.post.like).map(s=>{s.likes&&(this.likes+=1)}))}upvotePost(){console.log("UPVOTING"),this.db.object(`/posts/${this.post.id}/vote/${this.uid}`).set({upvote:1})}downvotePost(){console.log("DOWNVOTING"),this.db.object(`/posts/${this.post.id}/vote/${this.uid}`).set({downvote:1})}likePost(){console.log("LIKING"),this.db.object(`/posts/${this.post.id}/like/${this.uid}`).set({likes:1})}getInstaUrl(){return`https://instagram.com/${this.post.instaId}`}visitPlace(){return`http://maps.google.com/?q=${this.post.locationName}`}};e.\u0275fac=function(i){return new(i||e)(S(A1),S(h2))},e.\u0275cmp=ve({type:e,selectors:[["app-post"]],inputs:{post:"post"},features:[Mt],decls:23,vars:13,consts:[[1,"card","mb-3","border-secondary"],["target","_blank",3,"href"],["height","500","width","auto",1,"card-img-top","img-fluid",3,"src"],[1,"card-body"],[1,"card-title","text-primary","text-uppercase"],[1,"card-text"],[1,"text-muted"],[1,"card-footer","bg-transparent","border-secondary","d-flex","justify-content-around","align-content-center"],[1,"text-secondary",3,"click"],["size","lg","primaryColor","blue",3,"icon"],[1,"text-primary",3,"click"],["target","_blank",1,"text-primary",3,"href"]],template:function(i,r){i&1&&(L(0,"div",0)(1,"a",1),Y(2,"img",2),w(),L(3,"div",3)(4,"h5",4),A(5),w(),L(6,"p",5),A(7),w(),L(8,"p",5)(9,"small",6),A(10),w()()(),L(11,"div",7)(12,"div",8),Ee("click",function(){return r.likePost()}),Y(13,"fa-icon",9),A(14),w(),L(15,"div",10),Ee("click",function(){return r.upvotePost()}),Y(16,"fa-icon",9),A(17),w(),L(18,"div",8),Ee("click",function(){return r.downvotePost()}),Y(19,"fa-icon",9),A(20),w(),L(21,"a",11),Y(22,"fa-icon",9),w()()()),i&2&&(T(),F("href",r.visitPlace(),b2),T(),F("src",r.post.picture,b2),T(3),U8(r.post.locationName),T(2),Se("",r.post.description," "),T(3),Se("by:- ",r.post.by,""),T(3),F("icon",r.faHeart),T(),Se(" ",r.likes," "),T(2),F("icon",r.faThumbsUp),T(),Se(" ",r.upvote," "),T(2),F("icon",r.faThumbsDown),T(),Se(" ",r.downvote," "),T(),F("href",r.getInstaUrl(),b2),T(),F("icon",r.faShareSquare))},dependencies:[ew]});let t=e;return t})();var sw=(()=>{let e=class e{constructor(){}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["app-user"]],inputs:{user:"user"},decls:9,vars:5,consts:[[1,"card","mb-3","horizontal-display"],[1,"d-flex","justify-content-center","align-items-center"],["width","40","height","40","alt","",1,"rounded-circle","ml-2",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(i,r){i&1&&(L(0,"div",0)(1,"div",1),Y(2,"img",2),w(),L(3,"div",3)(4,"h5",4),A(5),Xn(6,"uppercase"),w(),L(7,"p",5),A(8),w()()()),i&2&&(T(2),F("src",r.user.picture,b2),T(3),Se(" ",Eo(6,3,r.user.name)," "),T(3),Se(" ",r.user.bio," "))},dependencies:[Oo],styles:[".horizontal-display[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:row}img[_ngcontent-%COMP%]{height:80px;width:80px}"]});let t=e;return t})();function IU(t,e){t&1&&(L(0,"div",3),Y(1,"div",4),w())}function TU(t,e){if(t&1&&(L(0,"div"),Y(1,"app-post",10),w()),t&2){let n=e.$implicit;T(),F("post",n)}}function AU(t,e){if(t&1&&(L(0,"div"),Y(1,"app-user",11),w()),t&2){let n=e.$implicit;T(),F("user",n)}}function kU(t,e){if(t&1&&(L(0,"div",5)(1,"div",6),tt(2,TU,2,1,"div",7),w(),L(3,"div",8)(4,"p",9),A(5,"Recent new User"),w(),tt(6,AU,2,1,"div",7),w()()),t&2){let n=Qe();T(2),F("ngForOf",n.posts),T(4),F("ngForOf",n.users)}}var iw=(()=>{let e=class e{constructor(s,i){this.db=s,this.toastr=i,this.users=[],this.posts=[],this.isLoading=!1,this.isLoading=!0,s.object("/users").valueChanges().subscribe(r=>{r?(this.users=Object.values(r),this.isLoading=!1):(i.error("No User Found"),this.users=[],this.isLoading=!1)}),s.object("/posts").valueChanges().subscribe(r=>{r?(this.posts=Object.values(r).sort((o,c)=>c.date-o.date),this.isLoading=!1):(i.error("No Post To Display"),this.posts=[],this.isLoading=!1)})}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(S(A1),S(d2))},e.\u0275cmp=ve({type:e,selectors:[["app-home"]],decls:4,vars:2,consts:[["Content",""],[1,"container"],["class","d-flex justify-content-center align-items-center  min-vh-100 ",4,"ngIf","ngIfElse"],[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],["role","status",1,"spinner-border","text-light",2,"width","3rem","height","3rem"],[1,"row","m-5"],[1,"col","col-md-7"],[4,"ngFor","ngForOf"],[1,"col","col-md-5"],[1,"text-muted","text-uppercase","text-center"],[3,"post"],[3,"user"]],template:function(i,r){if(i&1&&(L(0,"div",1),tt(1,IU,2,0,"div",2)(2,kU,7,2,"ng-template",null,0,dg),w()),i&2){let o=Zn(3);T(),F("ngIf",r.isLoading)("ngIfElse",o)}},dependencies:[Pg,z2,nw,sw]});let t=e;return t})();var rw=(()=>{let e=class e{constructor(s,i,r){this.auth=s,this.toastr=i,this.router=r}ngOnInit(){}onSubmit(s){let{email:i,password:r}=s.form.value;this.auth.signIn(i,r).then(o=>{this.toastr.success("signIn complete"),this.router.navigateByUrl("/")}).catch(o=>{this.toastr.error(o.message,"",{closeButton:!0})})}};e.\u0275fac=function(i){return new(i||e)(S(h2),S(d2),S(Xe))},e.\u0275cmp=ve({type:e,selectors:[["app-signin"]],decls:24,vars:0,consts:[["f","ngForm"],[1,"container"],[1,"row","mt-5"],[1,"col","col-6","offset-3"],[1,"card"],[1,"card-header","text-center","text-info","text-uppercase"],[1,"card-body"],[3,"ngSubmit"],[1,"form-group","row"],["for","email",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","email","id","email","name","email","placeholder","Enter Email","ngModel","","required","",1,"form-control"],["for","password",1,"col-sm-3","col-form-label"],["type","password","id","password","name","password","placeholder","Enter password","ngModel","","required","",1,"form-control"],["id","emailHelp",1,"form-text","text-muted"],[1,"text-center"],["type","submit",1,"btn","btn-primary"]],template:function(i,r){if(i&1){let o=E1();L(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),A(5," Sign In Please "),w(),L(6,"div",6)(7,"form",7,0),Ee("ngSubmit",function(){$2(o);let a=Zn(8);return W2(r.onSubmit(a))}),L(9,"div",8)(10,"label",9),A(11,"Email"),w(),L(12,"div",10),Y(13,"input",11),w()(),L(14,"div",8)(15,"label",12),A(16,"Password"),w(),L(17,"div",10),Y(18,"input",13),L(19,"small",14),A(20,"Minimum length of the password should be 6 or more"),w()()(),L(21,"div",15)(22,"button",16),A(23," Sign In "),w()()()()()()()()}},dependencies:[u0,Cn,a0,l0,Ms,vs,Cs]});let t=e;return t})();var ow=nd(e7());function RU(t,e){t&1&&(L(0,"div",30),A(1," Upload finished "),w())}var cw=(()=>{let e=class e{ngOnInit(){}constructor(s,i,r,o,c){this.auth=s,this.router=i,this.toastr=r,this.db=o,this.storage=c,this.picture="https://firebasestorage.googleapis.com/v0/b/kirana-f08b6.appspot.com/o/img.png?alt=media&token=1857e7db-06df-4e77-9756-60aa018e1460",this.uploadPercent=null}onSubmit(s){let{email:i,password:r,username:o,country:c,bio:a,name:l}=s.form.value;this.auth.signUp(i,r).then(u=>{if(u.user){let{uid:f}=u.user;this.db.object(`/users/${f}`).set({id:f,name:l,email:i,instaUsername:o,country:c,bio:a,picture:this.picture}).then(()=>{this.router.navigateByUrl("/signin"),this.toastr.success("SignUp Success")}).catch(d=>{this.toastr.error(`SignUp Failed: ${d.message}`)})}else this.toastr.error("SignUp Failed: No user returned.")}).catch(u=>{this.toastr.error(`SignUp Failed: ${u.message}`)})}uploadFile(s){return xe(this,null,function*(){let i=s.target.files[0],r=yield(0,ow.readAndCompressImage)(i,fc),o=i.name,c=this.storage.ref(o),a=this.storage.upload(o,r);a.percentageChanges().subscribe(l=>{this.uploadPercent=l}),a.snapshotChanges().pipe(O2(()=>{c.getDownloadURL().subscribe(l=>{this.picture=l,this.toastr.success("Image Upload Success")})})).subscribe()})}};e.\u0275fac=function(i){return new(i||e)(S(h2),S(Xe),S(d2),S(A1),S(dr))},e.\u0275cmp=ve({type:e,selectors:[["app-signup"]],decls:55,vars:8,consts:[["f","ngForm"],[1,"container"],[1,"row","mt-5","mb-3"],[1,"col","col-6","offset-3"],[1,"card","border-primary"],[1,"card-header","text-center","text-info","text-uppercase"],[1,"card-body"],[3,"ngSubmit"],[1,"text-center"],["for","imagepicker",1,""],["alt","","width","40","height","40",1,"profile",3,"src"],["type","file","name","image","id","imagepicker","accept","image/*","multiple","{false}","hidden","",1,"hidden",3,"change"],[1,"text-info","text-center",3,"hidden"],["class","text-success text-uppercase text-center mb-3",4,"ngIf"],[1,"form-group","row"],["for","name",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","id","name","name","name","placeholder","Enter Name","ngModel","","required","",1,"form-control"],["for","email",1,"col-sm-3","col-form-label"],["type","email","id","email","name","email","placeholder","Enter Email","ngModel","","required","",1,"form-control"],["for","password",1,"col-sm-3","col-form-label"],["type","password","id","password","name","password","placeholder","Enter password","ngModel","","required","",1,"form-control"],["id","emailHelp",1,"form-text","text-muted"],["for","username",1,"col-sm-3","col-form-label"],["type","text","id","username","name","username","placeholder","Enter your handle of instagram","ngModel","","required","",1,"form-control"],["for","country",1,"col-sm-3","col-form-label"],["type","text","id","country","name","country","placeholder","Your Country","ngModel","","required","",1,"form-control"],["for","bio",1,"col-sm-3","col-form-label"],["type","text","id","bio","name","bio","placeholder","some bio about you","ngModel","","required","",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-success","text-uppercase","text-center","mb-3"]],template:function(i,r){if(i&1){let o=E1();L(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),A(5," Sign Up Please "),w(),L(6,"div",6)(7,"form",7,0),Ee("ngSubmit",function(){$2(o);let a=Zn(8);return W2(r.onSubmit(a))}),L(9,"div")(10,"div",8)(11,"label",9),Y(12,"img",10),w(),L(13,"input",11),Ee("change",function(a){return $2(o),W2(r.uploadFile(a))}),w()(),L(14,"div",12),A(15),Xn(16,"number"),Y(17,"br"),A(18," Please wait a little... "),w(),tt(19,RU,2,0,"div",13),w(),L(20,"div",14)(21,"label",15),A(22,"Name"),w(),L(23,"div",16),Y(24,"input",17),w()(),L(25,"div",14)(26,"label",18),A(27,"Email"),w(),L(28,"div",16),Y(29,"input",19),w()(),L(30,"div",14)(31,"label",20),A(32,"Password"),w(),L(33,"div",16),Y(34,"input",21),L(35,"small",22),A(36,"Minimum length of the password should be 6 or more"),w()()(),L(37,"div",14)(38,"label",23),A(39,"Instagram name"),w(),L(40,"div",16),Y(41,"input",24),w()(),L(42,"div",14)(43,"label",25),A(44,"Country"),w(),L(45,"div",16),Y(46,"input",26),w()(),L(47,"div",14)(48,"label",27),A(49,"bio"),w(),L(50,"div",16),Y(51,"textarea",28),w()(),L(52,"div",8)(53,"button",29),A(54," Sign Up "),w()()()()()()()()}if(i&2){let o=Zn(8);T(12),F("src",r.picture,b2),T(2),F("hidden",!r.uploadPercent||r.uploadPercent==100),T(),Se("uploading ",So(16,5,r.uploadPercent,"1.0-0")," % of 100% "),T(4),F("ngIf",r.uploadPercent==100),T(34),F("disabled",!o.form.valid)}},dependencies:[z2,u0,Cn,a0,l0,Ms,vs,Cs,Fo]});let t=e;return t})();function uw(t){return new K(function(e){var n=Hr(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var F6=class{constructor(e){return e}};var fw=Vy(uw,!0);var b9=V(t=>!!t),kB=(()=>{class t{router;auth;constructor(n,s){this.router=n,this.auth=s}canActivate=(n,s)=>{let i=n.data.authGuardPipe||(()=>b9);return fw(this.auth).pipe(g2(1),i(n,s),V(r=>typeof r=="boolean"?r:Array.isArray(r)?this.router.createUrlTree(r):this.router.parseUrl(r)))};static \u0275fac=function(s){return new(s||t)(C(Xe),C(F6))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),Sr=t=>({canActivate:[kB],data:{authGuardPipe:t}});var dw=t=>Fs(b9,V(e=>e||t)),hw=t=>Fs(b9,V(e=>e&&t||!0));var pw=()=>dw(["signin"]),mw=()=>hw([""]),RB=[{path:"signin",component:rw,canActivate:[Sr],data:{authGuardPipe:mw}},{path:"signup",component:cw,canActivate:[Sr],data:{authGuardPipe:mw}},{path:"addpost",component:B_,canActivate:[Sr],data:{authGuardPipe:pw}},{path:"",component:iw,canActivate:[Sr],data:{authGuardPipe:pw}},{path:"**",component:H_}],gw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({imports:[X5.forRoot(RB),X5]});let t=e;return t})();var yw=()=>["/"],PB=()=>["/signin"],OB=()=>["/signup"],FB=()=>["/addpost"];function VB(t,e){if(t&1&&(L(0,"div",12),A(1),w()),t&2){let n=Qe();T(),Se(" ",n.email," ")}}function jB(t,e){t&1&&(L(0,"a",13),A(1,"Sign In"),w()),t&2&&F("routerLink",Ci(1,PB))}function UB(t,e){t&1&&(L(0,"a",13),A(1,"Sign Up"),w()),t&2&&F("routerLink",Ci(1,OB))}function BB(t,e){if(t&1){let n=E1();L(0,"a",14),Ee("click",function(){$2(n);let i=Qe();return W2(i.handleSignOut())}),A(1,"Log Out"),w()}}function HB(t,e){t&1&&(L(0,"a",15),A(1," Post Your Story"),w()),t&2&&F("routerLink",Ci(1,FB))}var Cw=(()=>{let e=class e{constructor(s,i,r){this.auth=s,this.router=i,this.toastr=r,this.email=null,s.getUser().subscribe(o=>{this.email=o?.email})}ngOnInit(){}handleSignOut(){return xe(this,null,function*(){try{yield this.auth.signOut(),this.router.navigateByUrl("/signin"),this.toastr.info("Login Again to continue"),this.email=null}catch{this.toastr.error("Something went wrong")}})}};e.\u0275fac=function(i){return new(i||e)(S(h2),S(Xe),S(d2))},e.\u0275cmp=ve({type:e,selectors:[["app-header"]],decls:15,vars:9,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-info"],[1,"navbar-brand",3,"routerLink"],["src","../../../assets/img.png","width","30","height","30","alt","",1,"d-inline-block","align-top"],["type","button","data-toggle","collapse","data-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],["class","navbar-text float-left",4,"ngIf"],[1,"nav-item","nav-link",3,"routerLink"],["class","nav-item nav-link","routerLinkActive","active",3,"routerLink",4,"ngIf"],["class","nav-item nav-link text-danger",3,"click",4,"ngIf"],["class","nav-item nav-link btn btn-warning text-light","routerLinkActive","active",3,"routerLink",4,"ngIf"],[1,"navbar-text","float-left"],["routerLinkActive","active",1,"nav-item","nav-link",3,"routerLink"],[1,"nav-item","nav-link","text-danger",3,"click"],["routerLinkActive","active",1,"nav-item","nav-link","btn","btn-warning","text-light",3,"routerLink"]],template:function(i,r){i&1&&(L(0,"nav",0)(1,"a",1),Y(2,"img",2),A(3," Social Network "),w(),L(4,"button",3),Y(5,"span",4),w(),L(6,"div",5)(7,"div",6),tt(8,VB,2,1,"div",7),L(9,"a",8),A(10,"Home"),w(),tt(11,jB,2,2,"a",9)(12,UB,2,2,"a",9)(13,BB,2,0,"a",10)(14,HB,2,2,"a",11),w()()()),i&2&&(T(),F("routerLink",Ci(7,yw)),T(7),F("ngIf",r.email),T(),F("routerLink",Ci(8,yw)),T(2),F("ngIf",!r.email),T(),F("ngIf",!r.email),T(),F("ngIf",r.email),T(),F("ngIf",r.email))},dependencies:[z2,oc,Ay],styles:[".active[_ngcontent-%COMP%]{border-bottom:1px solid #fff}"]});let t=e;return t})();var vw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["app-footer"]],decls:6,vars:0,consts:[[1,"container-fluid","bg-info"],[1,"row","p-2"],[1,"col-4","text-center","text-white"]],template:function(i,r){i&1&&(L(0,"footer",0)(1,"div",1)(2,"div",2),A(3," Social App "),w(),L(4,"div",2),A(5," App created by \xA9 Sai Tanuja Beesa "),w()()())}});let t=e;return t})();var Mw=(()=>{let e=class e{constructor(s){this.auth=s,this.title="travelgram"}};e.\u0275fac=function(i){return new(i||e)(S(h2))},e.\u0275cmp=ve({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"bg-dark"],[1,"container","min-vh-100"]],template:function(i,r){i&1&&(L(0,"div",0),Y(1,"app-header"),L(2,"div",1),Y(3,"router-outlet"),w(),Y(4,"app-footer"),w())},dependencies:[W5,Cw,vw]});let t=e;return t})();var _w={production:!0,firebase:{apiKey:"AIzaSyA-UU8G5rxT00yYW8qA_d5Cg-2hgIGZxZw",authDomain:"angular-34238.firebaseapp.com",databaseURL:"https://angular-34238-default-rtdb.firebaseio.com",projectId:"angular-34238",storageBucket:"angular-34238.appspot.com",messagingSenderId:"464170149997",appId:"1:464170149997:web:6bd5ff9a3d5fb5e43f7764"}};function Lw(t){return new _(3e3,!1)}function qB(){return new _(3100,!1)}function GB(){return new _(3101,!1)}function KB(t){return new _(3001,!1)}function QB(t){return new _(3003,!1)}function YB(t){return new _(3004,!1)}function ZB(t,e){return new _(3005,!1)}function XB(){return new _(3006,!1)}function JB(){return new _(3007,!1)}function eH(t,e){return new _(3008,!1)}function tH(t){return new _(3002,!1)}function nH(t,e,n,s,i){return new _(3010,!1)}function sH(){return new _(3011,!1)}function iH(){return new _(3012,!1)}function rH(){return new _(3200,!1)}function oH(){return new _(3202,!1)}function cH(){return new _(3013,!1)}function aH(t){return new _(3014,!1)}function lH(t){return new _(3015,!1)}function uH(t){return new _(3016,!1)}function fH(t,e){return new _(3404,!1)}function dH(t){return new _(3502,!1)}function hH(t){return new _(3503,!1)}function pH(){return new _(3300,!1)}function mH(t){return new _(3504,!1)}function gH(t){return new _(3301,!1)}function yH(t,e){return new _(3302,!1)}function CH(t){return new _(3303,!1)}function vH(t,e){return new _(3400,!1)}function MH(t){return new _(3401,!1)}function _H(t){return new _(3402,!1)}function LH(t,e){return new _(3505,!1)}function bn(t){switch(t.length){case 0:return new yn;case 1:return t[0];default:return new hr(t)}}function Pw(t,e,n=new Map,s=new Map){let i=[],r=[],o=-1,c=null;if(e.forEach(a=>{let l=a.get("offset"),u=l==o,f=u&&c||new Map;a.forEach((d,h)=>{let p=h,m=d;if(h!=="offset")switch(p=t.normalizePropertyName(p,i),m){case _6:m=n.get(h);break;case a1:m=s.get(h);break;default:m=t.normalizeStyleValue(h,p,m,i);break}f.set(p,m)}),u||r.push(f),c=f,o=l}),i.length)throw dH(i);return r}function G9(t,e,n,s){switch(e){case"start":t.onStart(()=>s(n&&z9(n,"start",t)));break;case"done":t.onDone(()=>s(n&&z9(n,"done",t)));break;case"destroy":t.onDestroy(()=>s(n&&z9(n,"destroy",t)));break}}function z9(t,e,n){let s=n.totalTime,i=!!n.disabled,r=K9(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,s??t.totalTime,i),o=t._data;return o!=null&&(r._data=o),r}function K9(t,e,n,s,i="",r=0,o){return{element:t,triggerName:e,fromState:n,toState:s,phaseName:i,totalTime:r,disabled:!!o}}function e2(t,e,n){let s=t.get(e);return s||t.set(e,s=n),s}function ww(t){let e=t.indexOf(":"),n=t.substring(1,e),s=t.slice(e+1);return[n,s]}var wH=typeof document>"u"?null:document.documentElement;function Q9(t){let e=t.parentNode||t.host||null;return e===wH?null:e}function bH(t){return t.substring(1,6)=="ebkit"}var Es=null,bw=!1;function zH(t){Es||(Es=EH()||{},bw=Es.style?"WebkitAppearance"in Es.style:!1);let e=!0;return Es.style&&!bH(t)&&(e=t in Es.style,!e&&bw&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Es.style)),e}function EH(){return typeof document<"u"?document.body:null}function Ow(t,e){for(;e;){if(e===t)return!0;e=Q9(e)}return!1}function Fw(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let s=t.querySelector(e);return s?[s]:[]}var Y9=(()=>{let e=class e{validateStyleProperty(s){return zH(s)}matchesElement(s,i){return!1}containsElement(s,i){return Ow(s,i)}getParentElement(s){return Q9(s)}query(s,i,r){return Fw(s,i,r)}computeStyle(s,i,r){return r||""}animate(s,i,r,o,c,a=[],l){return new yn(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),ed=class ed{};ed.NOOP=new Y9;var xs=ed,Ns=class{};var SH=1e3,Vw="{{",DH="}}",jw="ng-enter",I9="ng-leave",V6="ng-trigger",$6=".ng-trigger",zw="ng-animating",T9=".ng-animating";function O1(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:A9(parseFloat(e[1]),e[2])}function A9(t,e){switch(e){case"s":return t*SH;default:return t}}function W6(t,e,n){return t.hasOwnProperty("duration")?t:xH(t,e,n)}function xH(t,e,n){let s=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,r=0,o="";if(typeof t=="string"){let c=t.match(s);if(c===null)return e.push(Lw(t)),{duration:0,delay:0,easing:""};i=A9(parseFloat(c[1]),c[2]);let a=c[3];a!=null&&(r=A9(parseFloat(a),c[4]));let l=c[5];l&&(o=l)}else i=t;if(!n){let c=!1,a=e.length;i<0&&(e.push(qB()),c=!0),r<0&&(e.push(GB()),c=!0),c&&e.splice(a,0,Lw(t))}return{duration:i,delay:r,easing:o}}function NH(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function d1(t,e,n){e.forEach((s,i)=>{let r=Z9(i);n&&!n.has(i)&&n.set(i,t.style[r]),t.style[r]=s})}function Ds(t,e){e.forEach((n,s)=>{let i=Z9(s);t.style[i]=""})}function Dr(t){return Array.isArray(t)?t.length==1?t[0]:p_(t):t}function IH(t,e,n){let s=e.params||{},i=Uw(t);i.length&&i.forEach(r=>{s.hasOwnProperty(r)||n.push(KB(r))})}var k9=new RegExp(`${Vw}\\s*(.+?)\\s*${DH}`,"g");function Uw(t){let e=[];if(typeof t=="string"){let n;for(;n=k9.exec(t);)e.push(n[1]);k9.lastIndex=0}return e}function Nr(t,e,n){let s=`${t}`,i=s.replace(k9,(r,o)=>{let c=e[o];return c==null&&(n.push(QB(o)),c=""),c.toString()});return i==s?t:i}var TH=/-+([a-z0-9])/g;function Z9(t){return t.replace(TH,(...e)=>e[1].toUpperCase())}function AH(t,e){return t===0||e===0}function kH(t,e,n){if(n.size&&e.length){let s=e[0],i=[];if(n.forEach((r,o)=>{s.has(o)||i.push(o),s.set(o,r)}),i.length)for(let r=1;r<e.length;r++){let o=e[r];i.forEach(c=>o.set(c,X9(t,c)))}}return e}function Jt(t,e,n){switch(e.type){case Z.Trigger:return t.visitTrigger(e,n);case Z.State:return t.visitState(e,n);case Z.Transition:return t.visitTransition(e,n);case Z.Sequence:return t.visitSequence(e,n);case Z.Group:return t.visitGroup(e,n);case Z.Animate:return t.visitAnimate(e,n);case Z.Keyframes:return t.visitKeyframes(e,n);case Z.Style:return t.visitStyle(e,n);case Z.Reference:return t.visitReference(e,n);case Z.AnimateChild:return t.visitAnimateChild(e,n);case Z.AnimateRef:return t.visitAnimateRef(e,n);case Z.Query:return t.visitQuery(e,n);case Z.Stagger:return t.visitStagger(e,n);default:throw YB(e.type)}}function X9(t,e){return window.getComputedStyle(t)[e]}var RH=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),q6=class extends Ns{normalizePropertyName(e,n){return Z9(e)}normalizeStyleValue(e,n,s,i){let r="",o=s.toString().trim();if(RH.has(n)&&s!==0&&s!=="0")if(typeof s=="number")r="px";else{let c=s.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&c[1].length==0&&i.push(ZB(e,s))}return o+r}};var G6="*";function PH(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(s=>OH(s,n,e)):n.push(t),n}function OH(t,e,n){if(t[0]==":"){let a=FH(t,n);if(typeof a=="function"){e.push(a);return}t=a}let s=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(s==null||s.length<4)return n.push(lH(t)),e;let i=s[1],r=s[2],o=s[3];e.push(Ew(i,o));let c=i==G6&&o==G6;r[0]=="<"&&!c&&e.push(Ew(o,i))}function FH(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,s)=>parseFloat(s)>parseFloat(n);case":decrement":return(n,s)=>parseFloat(s)<parseFloat(n);default:return e.push(uH(t)),"* => *"}}var j6=new Set(["true","1"]),U6=new Set(["false","0"]);function Ew(t,e){let n=j6.has(t)||U6.has(t),s=j6.has(e)||U6.has(e);return(i,r)=>{let o=t==G6||t==i,c=e==G6||e==r;return!o&&n&&typeof i=="boolean"&&(o=i?j6.has(t):U6.has(t)),!c&&s&&typeof r=="boolean"&&(c=r?j6.has(e):U6.has(e)),o&&c}}var Bw=":self",VH=new RegExp(`s*${Bw}s*,?`,"g");function Hw(t,e,n,s){return new R9(t).build(e,n,s)}var Sw="",R9=class{constructor(e){this._driver=e}build(e,n,s){let i=new P9(n);return this._resetContextStyleTimingState(i),Jt(this,Dr(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=Sw,e.collectedStyles=new Map,e.collectedStyles.set(Sw,new Map),e.currentTime=0}visitTrigger(e,n){let s=n.queryCount=0,i=n.depCount=0,r=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(XB()),e.definitions.forEach(c=>{if(this._resetContextStyleTimingState(n),c.type==Z.State){let a=c,l=a.name;l.toString().split(/\s*,\s*/).forEach(u=>{a.name=u,r.push(this.visitState(a,n))}),a.name=l}else if(c.type==Z.Transition){let a=this.visitTransition(c,n);s+=a.queryCount,i+=a.depCount,o.push(a)}else n.errors.push(JB())}),{type:Z.Trigger,name:e.name,states:r,transitions:o,queryCount:s,depCount:i,options:null}}visitState(e,n){let s=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(s.containsDynamicStyles){let r=new Set,o=i||{};s.styles.forEach(c=>{c instanceof Map&&c.forEach(a=>{Uw(a).forEach(l=>{o.hasOwnProperty(l)||r.add(l)})})}),r.size&&n.errors.push(eH(e.name,[...r.values()]))}return{type:Z.State,name:e.name,style:s,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let s=Jt(this,Dr(e.animation),n),i=PH(e.expr,n.errors);return{type:Z.Transition,matchers:i,animation:s,queryCount:n.queryCount,depCount:n.depCount,options:Ss(e.options)}}visitSequence(e,n){return{type:Z.Sequence,steps:e.steps.map(s=>Jt(this,s,n)),options:Ss(e.options)}}visitGroup(e,n){let s=n.currentTime,i=0,r=e.steps.map(o=>{n.currentTime=s;let c=Jt(this,o,n);return i=Math.max(i,n.currentTime),c});return n.currentTime=i,{type:Z.Group,steps:r,options:Ss(e.options)}}visitAnimate(e,n){let s=HH(e.timings,n.errors);n.currentAnimateTimings=s;let i,r=e.styles?e.styles:ys({});if(r.type==Z.Keyframes)i=this.visitKeyframes(r,n);else{let o=e.styles,c=!1;if(!o){c=!0;let l={};s.easing&&(l.easing=s.easing),o=ys(l)}n.currentTime+=s.duration+s.delay;let a=this.visitStyle(o,n);a.isEmptyStep=c,i=a}return n.currentAnimateTimings=null,{type:Z.Animate,timings:s,style:i,options:null}}visitStyle(e,n){let s=this._makeStyleAst(e,n);return this._validateStyleAst(s,n),s}_makeStyleAst(e,n){let s=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let c of i)typeof c=="string"?c===a1?s.push(c):n.errors.push(tH(c)):s.push(new Map(Object.entries(c)));let r=!1,o=null;return s.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(o=c.get("easing"),c.delete("easing")),!r)){for(let a of c.values())if(a.toString().indexOf(Vw)>=0){r=!0;break}}}),{type:Z.Style,styles:s,easing:o,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,n){let s=n.currentAnimateTimings,i=n.currentTime,r=n.currentTime;s&&r>0&&(r-=s.duration+s.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((c,a)=>{let l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(a),f=!0;u&&(r!=i&&r>=u.startTime&&i<=u.endTime&&(n.errors.push(nH(a,u.startTime,u.endTime,r,i)),f=!1),r=u.startTime),f&&l.set(a,{startTime:r,endTime:i}),n.options&&IH(c,n.options,n.errors)})})}visitKeyframes(e,n){let s={type:Z.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(sH()),s;let i=1,r=0,o=[],c=!1,a=!1,l=0,u=e.steps.map(M=>{let z=this._makeStyleAst(M,n),v=z.offset!=null?z.offset:BH(z.styles),D=0;return v!=null&&(r++,D=z.offset=v),a=a||D<0||D>1,c=c||D<l,l=D,o.push(D),z});a&&n.errors.push(iH()),c&&n.errors.push(rH());let f=e.steps.length,d=0;r>0&&r<f?n.errors.push(oH()):r==0&&(d=i/(f-1));let h=f-1,p=n.currentTime,m=n.currentAnimateTimings,y=m.duration;return u.forEach((M,z)=>{let v=d>0?z==h?1:d*z:o[z],D=v*y;n.currentTime=p+m.delay+D,m.duration=D,this._validateStyleAst(M,n),M.offset=v,s.styles.push(M)}),s}visitReference(e,n){return{type:Z.Reference,animation:Jt(this,Dr(e.animation),n),options:Ss(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Z.AnimateChild,options:Ss(e.options)}}visitAnimateRef(e,n){return{type:Z.AnimateRef,animation:this.visitReference(e.animation,n),options:Ss(e.options)}}visitQuery(e,n){let s=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[r,o]=jH(e.selector);n.currentQuerySelector=s.length?s+" "+r:r,e2(n.collectedStyles,n.currentQuerySelector,new Map);let c=Jt(this,Dr(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=s,{type:Z.Query,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:c,originalSelector:e.selector,options:Ss(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(cH());let s=e.timings==="full"?{duration:0,delay:0,easing:"full"}:W6(e.timings,n.errors,!0);return{type:Z.Stagger,animation:Jt(this,Dr(e.animation),n),timings:s,options:null}}};function jH(t){let e=!!t.split(/\s*,\s*/).find(n=>n==Bw);return e&&(t=t.replace(VH,"")),t=t.replace(/@\*/g,$6).replace(/@\w+/g,n=>$6+"-"+n.slice(1)).replace(/:animating/g,T9),[t,e]}function UH(t){return t?g({},t):null}var P9=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function BH(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let s=n;e=parseFloat(s.get("offset")),s.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function HH(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let r=W6(t,e).duration;return E9(r,0,"")}let n=t;if(n.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=E9(0,0,"");return r.dynamic=!0,r.strValue=n,r}let i=W6(n,e);return E9(i.duration,i.delay,i.easing)}function Ss(t){return t?(t=g({},t),t.params&&(t.params=UH(t.params))):t={},t}function E9(t,e,n){return{duration:t,delay:e,easing:n}}function J9(t,e,n,s,i,r,o=null,c=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:s,duration:i,delay:r,totalTime:i+r,easing:o,subTimeline:c}}var Ir=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let s=this._map.get(e);s||this._map.set(e,s=[]),s.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},$H=1,WH=":enter",qH=new RegExp(WH,"g"),GH=":leave",KH=new RegExp(GH,"g");function $w(t,e,n,s,i,r=new Map,o=new Map,c,a,l=[]){return new O9().buildKeyframes(t,e,n,s,i,r,o,c,a,l)}var O9=class{buildKeyframes(e,n,s,i,r,o,c,a,l,u=[]){l=l||new Ir;let f=new F9(e,n,l,i,r,u,[]);f.options=a;let d=a.delay?O1(a.delay):0;f.currentTimeline.delayNextStep(d),f.currentTimeline.setStyles([o],null,f.errors,a),Jt(this,s,f);let h=f.timelines.filter(p=>p.containsAnimation());if(h.length&&c.size){let p;for(let m=h.length-1;m>=0;m--){let y=h[m];if(y.element===n){p=y;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([c],null,f.errors,a)}return h.length?h.map(p=>p.buildKeyframes()):[J9(n,[],[],[],0,d,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let s=n.subInstructions.get(n.element);if(s){let i=n.createSubContext(e.options),r=n.currentTimeline.currentTime,o=this._visitSubInstructions(s,i,i.options);r!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let s=n.createSubContext(e.options);s.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,s),this.visitReference(e.animation,s),n.transformIntoNewTimeline(s.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,s){for(let i of e){let r=i?.delay;if(r){let o=typeof r=="number"?r:O1(Nr(r,i?.params??{},n.errors));s.delayNextStep(o)}}}_visitSubInstructions(e,n,s){let r=n.currentTimeline.currentTime,o=s.duration!=null?O1(s.duration):null,c=s.delay!=null?O1(s.delay):null;return o!==0&&e.forEach(a=>{let l=n.appendInstructionToTimeline(a,o,c);r=Math.max(r,l.duration+l.delay)}),r}visitReference(e,n){n.updateOptions(e.options,!0),Jt(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let s=n.subContextCount,i=n,r=e.options;if(r&&(r.params||r.delay)&&(i=n.createSubContext(r),i.transformIntoNewTimeline(),r.delay!=null)){i.previousNode.type==Z.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=K6);let o=O1(r.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Jt(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>s&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let s=[],i=n.currentTimeline.currentTime,r=e.options&&e.options.delay?O1(e.options.delay):0;e.steps.forEach(o=>{let c=n.createSubContext(e.options);r&&c.delayNextStep(r),Jt(this,o,c),i=Math.max(i,c.currentTimeline.currentTime),s.push(c.currentTimeline)}),s.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let s=e.strValue,i=n.params?Nr(s,n.params,n.errors):s;return W6(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let s=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;s.delay&&(n.incrementTime(s.delay),i.snapshotCurrentStyles());let r=e.style;r.type==Z.Keyframes?this.visitKeyframes(r,n):(n.incrementTime(s.duration),this.visitStyle(r,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let s=n.currentTimeline,i=n.currentAnimateTimings;!i&&s.hasCurrentStyleProperties()&&s.forwardFrame();let r=i&&i.easing||e.easing;e.isEmptyStep?s.applyEmptyStep(r):s.setStyles(e.styles,r,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let s=n.currentAnimateTimings,i=n.currentTimeline.duration,r=s.duration,c=n.createSubContext().currentTimeline;c.easing=s.easing,e.styles.forEach(a=>{let l=a.offset||0;c.forwardTime(l*r),c.setStyles(a.styles,a.easing,n.errors,n.options),c.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(c),n.transformIntoNewTimeline(i+r),n.previousNode=e}visitQuery(e,n){let s=n.currentTimeline.currentTime,i=e.options||{},r=i.delay?O1(i.delay):0;r&&(n.previousNode.type===Z.Style||s==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=K6);let o=s,c=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=c.length;let a=null;c.forEach((l,u)=>{n.currentQueryIndex=u;let f=n.createSubContext(e.options,l);r&&f.delayNextStep(r),l===n.element&&(a=f.currentTimeline),Jt(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let d=f.currentTimeline.currentTime;o=Math.max(o,d)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),a&&(n.currentTimeline.mergeTimelineCollectedStyles(a),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let s=n.parentContext,i=n.currentTimeline,r=e.timings,o=Math.abs(r.duration),c=o*(n.currentQueryTotal-1),a=o*n.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=c-a;break;case"full":a=s.currentStaggerTime;break}let u=n.currentTimeline;a&&u.delayNextStep(a);let f=u.currentTime;Jt(this,e.animation,n),n.previousNode=e,s.currentStaggerTime=i.currentTime-f+(i.startTime-s.currentTimeline.startTime)}},K6={},F9=class t{constructor(e,n,s,i,r,o,c,a){this._driver=e,this.element=n,this.subInstructions=s,this._enterClassName=i,this._leaveClassName=r,this.errors=o,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=K6,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Q6(this._driver,n,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let s=e,i=this.options;s.duration!=null&&(i.duration=O1(s.duration)),s.delay!=null&&(i.delay=O1(s.delay));let r=s.params;if(r){let o=i.params;o||(o=this.options.params={}),Object.keys(r).forEach(c=>{(!n||!o.hasOwnProperty(c))&&(o[c]=Nr(r[c],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let s=e.params={};Object.keys(n).forEach(i=>{s[i]=n[i]})}}return e}createSubContext(e=null,n,s){let i=n||this.element,r=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,s||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=K6,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,s){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(s??0)+e.delay,easing:""},r=new V9(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,s,i,r,o){let c=[];if(i&&c.push(this.element),e.length>0){e=e.replace(qH,"."+this._enterClassName),e=e.replace(KH,"."+this._leaveClassName);let a=s!=1,l=this._driver.query(this.element,e,a);s!==0&&(l=s<0?l.slice(l.length+s,l.length):l.slice(0,s)),c.push(...l)}return!r&&c.length==0&&o.push(aH(n)),c}},Q6=class t{constructor(e,n,s,i){this._driver=e,this.element=n,this.startTime=s,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=$H,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,s]of this._globalTimelineStyles)this._backFill.set(n,s||a1),this._currentKeyframe.set(n,a1);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,s,i){n&&this._previousKeyframe.set("easing",n);let r=i&&i.params||{},o=QH(e,this._globalTimelineStyles);for(let[c,a]of o){let l=Nr(a,r,s);this._pendingStyles.set(c,l),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??a1),this._updateStyle(c,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,s)=>{let i=this._styleSummary.get(s);(!i||n.time>i.time)&&this._updateStyle(s,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,s=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((c,a)=>{let l=new Map([...this._backFill,...c]);l.forEach((u,f)=>{u===_6?e.add(f):u===a1&&n.add(f)}),s||l.set("offset",a/this.duration),i.push(l)});let r=[...e.values()],o=[...n.values()];if(s){let c=i[0],a=new Map(c);c.set("offset",0),a.set("offset",1),i=[c,a]}return J9(this.element,i,r,o,this.duration,this.startTime,this.easing,!1)}},V9=class extends Q6{constructor(e,n,s,i,r,o,c=!1){super(e,n,o.delay),this.keyframes=s,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=c,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:s,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let r=[],o=s+n,c=n/o,a=new Map(e[0]);a.set("offset",0),r.push(a);let l=new Map(e[0]);l.set("offset",Dw(c)),r.push(l);let u=e.length-1;for(let f=1;f<=u;f++){let d=new Map(e[f]),h=d.get("offset"),p=n+h*s;d.set("offset",Dw(p/o)),r.push(d)}s=o,n=0,i="",e=r}return J9(this.element,e,this.preStyleProps,this.postStyleProps,s,n,i,!0)}};function Dw(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function QH(t,e){let n=new Map,s;return t.forEach(i=>{if(i==="*"){s??=e.keys();for(let r of s)n.set(r,a1)}else for(let[r,o]of i)n.set(r,o)}),n}function xw(t,e,n,s,i,r,o,c,a,l,u,f,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:r,toState:s,toStyles:o,timelines:c,queriedElements:a,preStyleProps:l,postStyleProps:u,totalTime:f,errors:d}}var S9={},Y6=class{constructor(e,n,s){this._triggerName=e,this.ast=n,this._stateStyles=s}match(e,n,s,i){return YH(this.ast.matchers,e,n,s,i)}buildStyles(e,n,s){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,s):new Map}build(e,n,s,i,r,o,c,a,l,u){let f=[],d=this.ast.options&&this.ast.options.params||S9,h=c&&c.params||S9,p=this.buildStyles(s,h,f),m=a&&a.params||S9,y=this.buildStyles(i,m,f),M=new Set,z=new Map,v=new Map,D=i==="void",j={params:Ww(m,d),delay:this.ast.options?.delay},B=u?[]:$w(e,n,this.ast.animation,r,o,p,y,j,l,f),ee=0;return B.forEach(ae=>{ee=Math.max(ae.duration+ae.delay,ee)}),f.length?xw(n,this._triggerName,s,i,D,p,y,[],[],z,v,ee,f):(B.forEach(ae=>{let je=ae.element,t2=e2(z,je,new Set);ae.preStyleProps.forEach(Rt=>t2.add(Rt));let F1=e2(v,je,new Set);ae.postStyleProps.forEach(Rt=>F1.add(Rt)),je!==n&&M.add(je)}),xw(n,this._triggerName,s,i,D,p,y,B,[...M.values()],z,v,ee))}};function YH(t,e,n,s,i){return t.some(r=>r(e,n,s,i))}function Ww(t,e){let n=g({},e);return Object.entries(t).forEach(([s,i])=>{i!=null&&(n[s]=i)}),n}var j9=class{constructor(e,n,s){this.styles=e,this.defaultParams=n,this.normalizer=s}buildStyles(e,n){let s=new Map,i=Ww(e,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((o,c)=>{o&&(o=Nr(o,i,n));let a=this.normalizer.normalizePropertyName(c,n);o=this.normalizer.normalizeStyleValue(c,a,o,n),s.set(c,o)})}),s}};function ZH(t,e,n){return new U9(t,e,n)}var U9=class{constructor(e,n,s){this.name=e,this.ast=n,this._normalizer=s,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let r=i.options&&i.options.params||{};this.states.set(i.name,new j9(i.style,r,s))}),Nw(this.states,"true","1"),Nw(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new Y6(e,i,this.states))}),this.fallbackTransition=XH(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,s,i){return this.transitionFactories.find(o=>o.match(e,n,s,i))||null}matchStyles(e,n,s){return this.fallbackTransition.buildStyles(e,n,s)}};function XH(t,e,n){let s=[(o,c)=>!0],i={type:Z.Sequence,steps:[],options:null},r={type:Z.Transition,animation:i,matchers:s,options:null,queryCount:0,depCount:0};return new Y6(t,r,e)}function Nw(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var JH=new Ir,B9=class{constructor(e,n,s){this.bodyNode=e,this._driver=n,this._normalizer=s,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let s=[],i=[],r=Hw(this._driver,n,s,i);if(s.length)throw hH(s);i.length&&void 0,this._animations.set(e,r)}_buildPlayer(e,n,s){let i=e.element,r=Pw(this._normalizer,e.keyframes,n,s);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0)}create(e,n,s={}){let i=[],r=this._animations.get(e),o,c=new Map;if(r?(o=$w(this._driver,n,r,jw,I9,new Map,new Map,s,JH,i),o.forEach(u=>{let f=e2(c,u.element,new Map);u.postStyleProps.forEach(d=>f.set(d,null))})):(i.push(pH()),o=[]),i.length)throw mH(i);c.forEach((u,f)=>{u.forEach((d,h)=>{u.set(h,this._driver.computeStyle(f,h,a1))})});let a=o.map(u=>{let f=c.get(u.element);return this._buildPlayer(u,new Map,f)}),l=bn(a);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let s=this.players.indexOf(n);s>=0&&this.players.splice(s,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw gH(e);return n}listen(e,n,s,i){let r=K9(n,"","","");return G9(this._getPlayer(e),s,r,i),()=>{}}command(e,n,s,i){if(s=="register"){this.register(e,i[0]);return}if(s=="create"){let o=i[0]||{};this.create(e,n,o);return}let r=this._getPlayer(e);switch(s){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},Iw="ng-animate-queued",e$=".ng-animate-queued",D9="ng-animate-disabled",t$=".ng-animate-disabled",n$="ng-star-inserted",s$=".ng-star-inserted",i$=[],qw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},r$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},I2="__ng_removed",Tr=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let s=e&&e.hasOwnProperty("value"),i=s?e.value:e;if(this.value=c$(i),s){let r=e,{value:o}=r,c=td(r,["value"]);this.options=c}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let s=this.options.params;Object.keys(n).forEach(i=>{s[i]==null&&(s[i]=n[i])})}}},xr="void",x9=new Tr(xr),H9=class{constructor(e,n,s){this.id=e,this.hostElement=n,this._engine=s,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,p2(n,this._hostClassName)}listen(e,n,s,i){if(!this._triggers.has(n))throw yH(s,n);if(s==null||s.length==0)throw CH(n);if(!a$(s))throw vH(s,n);let r=e2(this._elementListeners,e,[]),o={name:n,phase:s,callback:i};r.push(o);let c=e2(this._engine.statesByElement,e,new Map);return c.has(n)||(p2(e,V6),p2(e,V6+"-"+n),c.set(n,x9)),()=>{this._engine.afterFlush(()=>{let a=r.indexOf(o);a>=0&&r.splice(a,1),this._triggers.has(n)||c.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw MH(e);return n}trigger(e,n,s,i=!0){let r=this._getTrigger(n),o=new Ar(this.id,n,e),c=this._engine.statesByElement.get(e);c||(p2(e,V6),p2(e,V6+"-"+n),this._engine.statesByElement.set(e,c=new Map));let a=c.get(n),l=new Tr(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),c.set(n,l),a||(a=x9),!(l.value===xr)&&a.value===l.value){if(!f$(a.params,l.params)){let m=[],y=r.matchStyles(a.value,a.params,m),M=r.matchStyles(l.value,l.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Ds(e,y),d1(e,M)})}return}let d=e2(this._engine.playersByElement,e,[]);d.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy()});let h=r.matchTransition(a.value,l.value,e,l.params),p=!1;if(!h){if(!i)return;h=r.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:h,fromState:a,toState:l,player:o,isFallbackTransition:p}),p||(p2(e,Iw),o.onStart(()=>{g0(e,Iw)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);let y=this._engine.playersByElement.get(e);if(y){let M=y.indexOf(o);M>=0&&y.splice(M,1)}}),this.players.push(o),d.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,s)=>{this._elementListeners.set(s,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(s=>s.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let s=this._engine.driver.query(e,$6,!0);s.forEach(i=>{if(i[I2])return;let r=this._engine.fetchNamespacesByElement(i);r.size?r.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,s,i){let r=this._engine.statesByElement.get(e),o=new Map;if(r){let c=[];if(r.forEach((a,l)=>{if(o.set(l,a.value),this._triggers.has(l)){let u=this.trigger(e,l,xr,i);u&&c.push(u)}}),c.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),s&&bn(c).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),s=this._engine.statesByElement.get(e);if(n&&s){let i=new Set;n.forEach(r=>{let o=r.name;if(i.has(o))return;i.add(o);let a=this._triggers.get(o).fallbackTransition,l=s.get(o)||x9,u=new Tr(xr),f=new Ar(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:a,fromState:l,toState:u,player:f,isFallbackTransition:!0})})}}removeNode(e,n){let s=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(s.totalAnimations){let r=s.players.length?s.playersByQueriedElement.get(e):[];if(r&&r.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(s.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)s.markElementAsRemoved(this.id,e,!1,n);else{let r=e[I2];(!r||r===qw)&&(s.afterFlush(()=>this.clearElementCache(e)),s.destroyInnerAnimations(e),s._onRemovalComplete(e,n))}}insertNode(e,n){p2(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(s=>{let i=s.player;if(i.destroyed)return;let r=s.element,o=this._elementListeners.get(r);o&&o.forEach(c=>{if(c.name==s.triggerName){let a=K9(r,s.triggerName,s.fromState.value,s.toState.value);a._data=e,G9(s.player,c.phase,a,c.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(s)}),this._queue=[],n.sort((s,i)=>{let r=s.transition.ast.depCount,o=i.transition.ast.depCount;return r==0||o==0?r-o:this._engine.driver.containsElement(s.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},$9=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,s,i){this.bodyNode=e,this.driver=n,this._normalizer=s,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(s=>{s.queued&&e.push(s)})}),e}createNamespace(e,n){let s=new H9(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(s,n):(this.newHostElements.set(n,s),this.collectEnterElement(n)),this._namespaceLookup[e]=s}_balanceNamespaceList(e,n){let s=this._namespaceList,i=this.namespacesByHostElement;if(s.length-1>=0){let o=!1,c=this.driver.getParentElement(n);for(;c;){let a=i.get(c);if(a){let l=s.indexOf(a);s.splice(l+1,0,e),o=!0;break}c=this.driver.getParentElement(c)}o||s.unshift(e)}else s.push(e);return i.set(n,e),e}register(e,n){let s=this._namespaceLookup[e];return s||(s=this.createNamespace(e,n)),s}registerTrigger(e,n,s){let i=this._namespaceLookup[e];i&&i.register(n,s)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let s=this._fetchNamespace(e);this.namespacesByHostElement.delete(s.hostElement);let i=this._namespaceList.indexOf(s);i>=0&&this._namespaceList.splice(i,1),s.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,s=this.statesByElement.get(e);if(s){for(let i of s.values())if(i.namespaceId){let r=this._fetchNamespace(i.namespaceId);r&&n.add(r)}}return n}trigger(e,n,s,i){if(B6(n)){let r=this._fetchNamespace(e);if(r)return r.trigger(n,s,i),!0}return!1}insertNode(e,n,s,i){if(!B6(n))return;let r=n[I2];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,s)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),p2(e,D9)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),g0(e,D9))}removeNode(e,n,s){if(B6(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,s):this.markElementAsRemoved(e,n,!1,s);let r=this.namespacesByHostElement.get(n);r&&r.id!==e&&r.removeNode(n,s)}else this._onRemovalComplete(n,s)}markElementAsRemoved(e,n,s,i,r){this.collectedLeaveElements.push(n),n[I2]={namespaceId:e,setForRemoval:i,hasAnimation:s,removedBeforeQueried:!1,previousTriggersValues:r}}listen(e,n,s,i,r){return B6(n)?this._fetchNamespace(e).listen(n,s,i,r):()=>{}}_buildInstruction(e,n,s,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,s,i,e.fromState.options,e.toState.options,n,r)}destroyInnerAnimations(e){let n=this.driver.query(e,$6,!0);n.forEach(s=>this.destroyActiveAnimationsForElement(s)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,T9,!0),n.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return bn(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[I2];if(n&&n.setForRemoval){if(e[I2]=qw,n.namespaceId){this.destroyInnerAnimations(e);let s=this._fetchNamespace(n.namespaceId);s&&s.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(D9)&&this.markElementAsDisabled(e,!1),this.driver.query(e,t$,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,i)=>this._balanceNamespaceList(s,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++){let i=this.collectedEnterElements[s];p2(i,n$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let s=[];try{n=this._flushAnimations(s,e)}finally{for(let i=0;i<s.length;i++)s[i]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++){let i=this.collectedLeaveElements[s];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){let s=this._whenQuietFns;this._whenQuietFns=[],n.length?bn(n).onDone(()=>{s.forEach(i=>i())}):s.forEach(i=>i())}}reportError(e){throw _H(e)}_flushAnimations(e,n){let s=new Ir,i=[],r=new Map,o=[],c=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(I=>{u.add(I);let P=this.driver.query(I,e$,!0);for(let U=0;U<P.length;U++)u.add(P[U])});let f=this.bodyNode,d=Array.from(this.statesByElement.keys()),h=kw(d,this.collectedEnterElements),p=new Map,m=0;h.forEach((I,P)=>{let U=jw+m++;p.set(P,U),I.forEach(le=>p2(le,U))});let y=[],M=new Set,z=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){let P=this.collectedLeaveElements[I],U=P[I2];U&&U.setForRemoval&&(y.push(P),M.add(P),U.hasAnimation?this.driver.query(P,s$,!0).forEach(le=>M.add(le)):z.add(P))}let v=new Map,D=kw(d,Array.from(M));D.forEach((I,P)=>{let U=I9+m++;v.set(P,U),I.forEach(le=>p2(le,U))}),e.push(()=>{h.forEach((I,P)=>{let U=p.get(P);I.forEach(le=>g0(le,U))}),D.forEach((I,P)=>{let U=v.get(P);I.forEach(le=>g0(le,U))}),y.forEach(I=>{this.processLeaveNode(I)})});let j=[],B=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(n).forEach(U=>{let le=U.player,Ue=U.element;if(j.push(le),this.collectedEnterElements.length){let We=Ue[I2];if(We&&We.setForMove){if(We.previousTriggersValues&&We.previousTriggersValues.has(U.triggerName)){let A2=We.previousTriggersValues.get(U.triggerName),gt=this.statesByElement.get(U.element);if(gt&&gt.has(U.triggerName)){let Rr=gt.get(U.triggerName);Rr.value=A2,gt.set(U.triggerName,Rr)}}le.destroy();return}}let Pt=!f||!this.driver.containsElement(f,Ue),mt=v.get(Ue),T2=p.get(Ue),ze=this._buildInstruction(U,s,T2,mt,Pt);if(ze.errors&&ze.errors.length){B.push(ze);return}if(Pt){le.onStart(()=>Ds(Ue,ze.fromStyles)),le.onDestroy(()=>d1(Ue,ze.toStyles)),i.push(le);return}if(U.isFallbackTransition){le.onStart(()=>Ds(Ue,ze.fromStyles)),le.onDestroy(()=>d1(Ue,ze.toStyles)),i.push(le);return}let kr=[];ze.timelines.forEach(We=>{We.stretchStartingKeyframe=!0,this.disabledNodes.has(We.element)||kr.push(We)}),ze.timelines=kr,s.append(Ue,ze.timelines);let v0={instruction:ze,player:le,element:Ue};o.push(v0),ze.queriedElements.forEach(We=>e2(c,We,[]).push(le)),ze.preStyleProps.forEach((We,A2)=>{if(We.size){let gt=a.get(A2);gt||a.set(A2,gt=new Set),We.forEach((Rr,ta)=>gt.add(ta))}}),ze.postStyleProps.forEach((We,A2)=>{let gt=l.get(A2);gt||l.set(A2,gt=new Set),We.forEach((Rr,ta)=>gt.add(ta))})});if(B.length){let I=[];B.forEach(P=>{I.push(LH(P.triggerName,P.errors))}),j.forEach(P=>P.destroy()),this.reportError(I)}let ee=new Map,ae=new Map;o.forEach(I=>{let P=I.element;s.has(P)&&(ae.set(P,P),this._beforeAnimationBuild(I.player.namespaceId,I.instruction,ee))}),i.forEach(I=>{let P=I.element;this._getPreviousPlayers(P,!1,I.namespaceId,I.triggerName,null).forEach(le=>{e2(ee,P,[]).push(le),le.destroy()})});let je=y.filter(I=>Rw(I,a,l)),t2=new Map;Aw(t2,this.driver,z,l,a1).forEach(I=>{Rw(I,a,l)&&je.push(I)});let Rt=new Map;h.forEach((I,P)=>{Aw(Rt,this.driver,new Set(I),a,_6)}),je.forEach(I=>{let P=t2.get(I),U=Rt.get(I);t2.set(I,new Map([...P?.entries()??[],...U?.entries()??[]]))});let h1=[],V1=[],j1={};o.forEach(I=>{let{element:P,player:U,instruction:le}=I;if(s.has(P)){if(u.has(P)){U.onDestroy(()=>d1(P,le.toStyles)),U.disabled=!0,U.overrideTotalTime(le.totalTime),i.push(U);return}let Ue=j1;if(ae.size>1){let mt=P,T2=[];for(;mt=mt.parentNode;){let ze=ae.get(mt);if(ze){Ue=ze;break}T2.push(mt)}T2.forEach(ze=>ae.set(ze,Ue))}let Pt=this._buildAnimation(U.namespaceId,le,ee,r,Rt,t2);if(U.setRealPlayer(Pt),Ue===j1)h1.push(U);else{let mt=this.playersByElement.get(Ue);mt&&mt.length&&(U.parentPlayer=bn(mt)),i.push(U)}}else Ds(P,le.fromStyles),U.onDestroy(()=>d1(P,le.toStyles)),V1.push(U),u.has(P)&&i.push(U)}),V1.forEach(I=>{let P=r.get(I.element);if(P&&P.length){let U=bn(P);I.setRealPlayer(U)}}),i.forEach(I=>{I.parentPlayer?I.syncPlayerEvents(I.parentPlayer):I.destroy()});for(let I=0;I<y.length;I++){let P=y[I],U=P[I2];if(g0(P,I9),U&&U.hasAnimation)continue;let le=[];if(c.size){let Pt=c.get(P);Pt&&Pt.length&&le.push(...Pt);let mt=this.driver.query(P,T9,!0);for(let T2=0;T2<mt.length;T2++){let ze=c.get(mt[T2]);ze&&ze.length&&le.push(...ze)}}let Ue=le.filter(Pt=>!Pt.destroyed);Ue.length?l$(this,P,Ue):this.processLeaveNode(P)}return y.length=0,h1.forEach(I=>{this.players.push(I),I.onDone(()=>{I.destroy();let P=this.players.indexOf(I);this.players.splice(P,1)}),I.play()}),h1}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,s,i,r){let o=[];if(n){let c=this.playersByQueriedElement.get(e);c&&(o=c)}else{let c=this.playersByElement.get(e);if(c){let a=!r||r==xr;c.forEach(l=>{l.queued||!a&&l.triggerName!=i||o.push(l)})}}return(s||i)&&(o=o.filter(c=>!(s&&s!=c.namespaceId||i&&i!=c.triggerName))),o}_beforeAnimationBuild(e,n,s){let i=n.triggerName,r=n.element,o=n.isRemovalTransition?void 0:e,c=n.isRemovalTransition?void 0:i;for(let a of n.timelines){let l=a.element,u=l!==r,f=e2(s,l,[]);this._getPreviousPlayers(l,u,o,c,n.toState).forEach(h=>{let p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),f.push(h)})}Ds(r,n.fromStyles)}_buildAnimation(e,n,s,i,r,o){let c=n.triggerName,a=n.element,l=[],u=new Set,f=new Set,d=n.timelines.map(p=>{let m=p.element;u.add(m);let y=m[I2];if(y&&y.removedBeforeQueried)return new yn(p.duration,p.delay);let M=m!==a,z=u$((s.get(m)||i$).map(ee=>ee.getRealPlayer())).filter(ee=>{let ae=ee;return ae.element?ae.element===m:!1}),v=r.get(m),D=o.get(m),j=Pw(this._normalizer,p.keyframes,v,D),B=this._buildPlayer(p,j,z);if(p.subTimeline&&i&&f.add(m),M){let ee=new Ar(e,c,m);ee.setRealPlayer(B),l.push(ee)}return B});l.forEach(p=>{e2(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>o$(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>p2(p,zw));let h=bn(d);return h.onDestroy(()=>{u.forEach(p=>g0(p,zw)),d1(a,n.toStyles)}),f.forEach(p=>{e2(i,p,[]).push(h)}),h}_buildPlayer(e,n,s){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,s):new yn(e.duration,e.delay)}},Ar=class{constructor(e,n,s){this.namespaceId=e,this.triggerName=n,this.element=s,this._player=new yn,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,s)=>{n.forEach(i=>G9(e,s,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){e2(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function o$(t,e,n){let s=t.get(e);if(s){if(s.length){let i=s.indexOf(n);s.splice(i,1)}s.length==0&&t.delete(e)}return s}function c$(t){return t??null}function B6(t){return t&&t.nodeType===1}function a$(t){return t=="start"||t=="done"}function Tw(t,e){let n=t.style.display;return t.style.display=e??"none",n}function Aw(t,e,n,s,i){let r=[];n.forEach(a=>r.push(Tw(a)));let o=[];s.forEach((a,l)=>{let u=new Map;a.forEach(f=>{let d=e.computeStyle(l,f,i);u.set(f,d),(!d||d.length==0)&&(l[I2]=r$,o.push(l))}),t.set(l,u)});let c=0;return n.forEach(a=>Tw(a,r[c++])),o}function kw(t,e){let n=new Map;if(t.forEach(c=>n.set(c,[])),e.length==0)return n;let s=1,i=new Set(e),r=new Map;function o(c){if(!c)return s;let a=r.get(c);if(a)return a;let l=c.parentNode;return n.has(l)?a=l:i.has(l)?a=s:a=o(l),r.set(c,a),a}return e.forEach(c=>{let a=o(c);a!==s&&n.get(a).push(c)}),n}function p2(t,e){t.classList?.add(e)}function g0(t,e){t.classList?.remove(e)}function l$(t,e,n){bn(n).onDone(()=>t.processLeaveNode(e))}function u$(t){let e=[];return Gw(t,e),e}function Gw(t,e){for(let n=0;n<t.length;n++){let s=t[n];s instanceof hr?Gw(s.players,e):e.push(s)}}function f$(t,e){let n=Object.keys(t),s=Object.keys(e);if(n.length!=s.length)return!1;for(let i=0;i<n.length;i++){let r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}function Rw(t,e,n){let s=n.get(t);if(!s)return!1;let i=e.get(t);return i?s.forEach(r=>i.add(r)):e.set(t,s),n.delete(t),!0}var C0=class{constructor(e,n,s,i){this._driver=n,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new $9(e.body,n,s,i),this._timelineEngine=new B9(e.body,n,s),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,n,s,i,r){let o=e+"-"+i,c=this._triggerCache[o];if(!c){let a=[],l=[],u=Hw(this._driver,r,a,l);if(a.length)throw fH(i,a);l.length&&void 0,c=ZH(i,u,this._normalizer),this._triggerCache[o]=c}this._transitionEngine.registerTrigger(n,i,c)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,s,i){this._transitionEngine.insertNode(e,n,s,i)}onRemove(e,n,s){this._transitionEngine.removeNode(e,n,s)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,s,i){if(s.charAt(0)=="@"){let[r,o]=ww(s),c=i;this._timelineEngine.command(r,n,o,c)}else this._transitionEngine.trigger(e,n,s,i)}listen(e,n,s,i,r){if(s.charAt(0)=="@"){let[o,c]=ww(s);return this._timelineEngine.listen(o,n,c,r)}return this._transitionEngine.listen(e,n,s,i,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function d$(t,e){let n=null,s=null;return Array.isArray(e)&&e.length?(n=N9(e[0]),e.length>1&&(s=N9(e[e.length-1]))):e instanceof Map&&(n=N9(e)),n||s?new W9(t,n,s):null}var y0=class y0{constructor(e,n,s){this._element=e,this._startStyles=n,this._endStyles=s,this._state=0;let i=y0.initialStylesByElement.get(e);i||y0.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&d1(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(d1(this._element,this._initialStyles),this._endStyles&&(d1(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(y0.initialStylesByElement.delete(this._element),this._startStyles&&(Ds(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ds(this._element,this._endStyles),this._endStyles=null),d1(this._element,this._initialStyles),this._state=3)}};y0.initialStylesByElement=new WeakMap;var W9=y0;function N9(t){let e=null;return t.forEach((n,s)=>{h$(s)&&(e=e||new Map,e.set(s,n))}),e}function h$(t){return t==="display"||t==="position"}var Z6=class{constructor(e,n,s,i){this.element=e,this.keyframes=n,this.options=s,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(s=>{n.push(Object.fromEntries(s))}),n}_triggerWebAnimation(e,n,s){return e.animate(this._convertKeyframesToObject(n),s)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((s,i)=>{i!=="offset"&&e.set(i,this._finished?s:X9(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}},X6=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return Ow(e,n)}getParentElement(e){return Q9(e)}query(e,n,s){return Fw(e,n,s)}computeStyle(e,n,s){return X9(e,n)}animate(e,n,s,i,r,o=[]){let c=i==0?"both":"forwards",a={duration:s,delay:i,fill:c};r&&(a.easing=r);let l=new Map,u=o.filter(h=>h instanceof Z6);AH(s,i)&&u.forEach(h=>{h.currentSnapshot.forEach((p,m)=>l.set(m,p))});let f=NH(n).map(h=>new Map(h));f=kH(e,f,l);let d=d$(e,f);return new Z6(e,f,a,d)}};var H6="@",Kw="@.disabled",J6=class{constructor(e,n,s,i){this.namespaceId=e,this.delegate=n,this.engine=s,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,s,i=!0){this.delegate.insertBefore(e,n,s),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,s){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,s,i){this.delegate.setAttribute(e,n,s,i)}removeAttribute(e,n,s){this.delegate.removeAttribute(e,n,s)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,s,i){this.delegate.setStyle(e,n,s,i)}removeStyle(e,n,s){this.delegate.removeStyle(e,n,s)}setProperty(e,n,s){n.charAt(0)==H6&&n==Kw?this.disableAnimations(e,!!s):this.delegate.setProperty(e,n,s)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,s){return this.delegate.listen(e,n,s)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},q9=class extends J6{constructor(e,n,s,i,r){super(n,s,i,r),this.factory=e,this.namespaceId=n}setProperty(e,n,s){n.charAt(0)==H6?n.charAt(1)=="."&&n==Kw?(s=s===void 0?!0:!!s,this.disableAnimations(e,s)):this.engine.process(this.namespaceId,e,n.slice(1),s):this.delegate.setProperty(e,n,s)}listen(e,n,s){if(n.charAt(0)==H6){let i=p$(e),r=n.slice(1),o="";return r.charAt(0)!=H6&&([r,o]=m$(r)),this.engine.listen(this.namespaceId,i,r,o,c=>{let a=c._data||-1;this.factory.scheduleListenerCallback(a,s,c)})}return this.delegate.listen(e,n,s)}};function p$(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function m$(t){let e=t.indexOf("."),n=t.substring(0,e),s=t.slice(e+1);return[n,s]}var ea=class{constructor(e,n,s){this.delegate=e,this.engine=n,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,r)=>{let o=r?.parentNode(i);o&&r.removeChild(o,i)}}createRenderer(e,n){let s="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let f=()=>l.delete(i);u=new J6(s,i,this.engine,f),l.set(i,u)}return u}let r=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let c=l=>{Array.isArray(l)?l.forEach(c):this.engine.registerTrigger(r,o,e,l.name,l)};return n.data.animation.forEach(c),new q9(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,s){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(s));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(r=>{let[o,c]=r;o(c)}),this._animationCallbacksBuffer=[]})}),i.push([n,s])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var y$=(()=>{let e=class e extends C0{constructor(s,i,r){super(s,i,r,E(ai,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(C(Ve),C(xs),C(Ns))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})();function C$(){return new q6}function v$(t,e,n){return new ea(t,e,n)}var Yw=[{provide:Ns,useFactory:C$},{provide:C0,useClass:y$},{provide:$n,useFactory:v$,deps:[jo,C0,X]}],Qw=[{provide:xs,useFactory:()=>new X6},{provide:y8,useValue:"BrowserAnimations"},...Yw],M$=[{provide:xs,useClass:Y9},{provide:y8,useValue:"NoopAnimations"},...Yw],Zw=(()=>{let e=class e{static withConfig(s){return{ngModule:e,providers:s.disableAnimations?M$:Qw}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({providers:Qw,imports:[Bo]});let t=e;return t})();var Xw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ge({type:e,bootstrap:[Mw]}),e.\u0275inj=me({imports:[Bo,gw,j_,nC,tC.initializeApp(_w.firebase),f_,EM,Zw,C_.forRoot(),tw]});let t=e;return t})();qg().bootstrapModule(Xw).catch(t=>console.error(t));
